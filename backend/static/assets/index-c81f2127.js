var Ql=Object.defineProperty;var Xl=(l,e,t)=>e in l?Ql(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var ot=(l,e,t)=>(Xl(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function ne(){}function Vl(l){return l()}function ht(){return Object.create(null)}function ye(l){l.forEach(Vl)}function dt(l){return typeof l=="function"}function ze(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let lt;function We(l,e){return l===e?!0:(lt||(lt=document.createElement("a")),lt.href=e,l===lt.href)}function Zl(l){return Object.keys(l).length===0}function st(l){return l??""}function n(l,e){l.appendChild(e)}function M(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode&&l.parentNode.removeChild(l)}function Ce(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function o(l){return document.createElement(l)}function j(l){return document.createTextNode(l)}function v(){return j(" ")}function He(){return j("")}function U(l,e,t,s){return l.addEventListener(e,t,s),()=>l.removeEventListener(e,t,s)}function Re(l){return function(e){return e.preventDefault(),l.call(this,e)}}function tt(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function i(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Jl(l){return l===""?null:+l}function $l(l){return Array.from(l.childNodes)}function K(l,e){e=""+e,l.data!==e&&(l.data=e)}function te(l,e){l.value=e??""}function Oe(l,e,t,s){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,s?"important":"")}function vt(l,e,t){for(let s=0;s<l.options.length;s+=1){const a=l.options[s];if(a.__value===e){a.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function xl(l){const e=l.querySelector(":checked");return e&&e.__value}function Pe(l,e,t){l.classList.toggle(e,!!t)}let et;function $e(l){et=l}function es(){if(!et)throw new Error("Function called outside component initialization");return et}function je(l){es().$$.on_mount.push(l)}function xe(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const Ke=[],ut=[];let Qe=[];const gt=[],ts=Promise.resolve();let ft=!1;function ls(){ft||(ft=!0,ts.then(Yl))}function at(l){Qe.push(l)}const rt=new Set;let Ye=0;function Yl(){if(Ye!==0)return;const l=et;do{try{for(;Ye<Ke.length;){const e=Ke[Ye];Ye++,$e(e),ss(e.$$)}}catch(e){throw Ke.length=0,Ye=0,e}for($e(null),Ke.length=0,Ye=0;ut.length;)ut.pop()();for(let e=0;e<Qe.length;e+=1){const t=Qe[e];rt.has(t)||(rt.add(t),t())}Qe.length=0}while(Ke.length);for(;gt.length;)gt.pop()();ft=!1,rt.clear(),$e(l)}function ss(l){if(l.fragment!==null){l.update(),ye(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(at)}}function ns(l){const e=[],t=[];Qe.forEach(s=>l.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),Qe=e}const it=new Set;let Ue;function is(){Ue={r:0,c:[],p:Ue}}function as(){Ue.r||ye(Ue.c),Ue=Ue.p}function Se(l,e){l&&l.i&&(it.delete(l),l.i(e))}function Ne(l,e,t,s){if(l&&l.o){if(it.has(l))return;it.add(l),Ue.c.push(()=>{it.delete(l),s&&(t&&l.d(1),s())}),l.o(e)}else s&&s()}function pe(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ee(l){l&&l.c()}function Fe(l,e,t){const{fragment:s,after_update:a}=l.$$;s&&s.m(e,t),at(()=>{const r=l.$$.on_mount.map(Vl).filter(dt);l.$$.on_destroy?l.$$.on_destroy.push(...r):ye(r),l.$$.on_mount=[]}),a.forEach(at)}function Be(l,e){const t=l.$$;t.fragment!==null&&(ns(t.after_update),ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function os(l,e){l.$$.dirty[0]===-1&&(Ke.push(l),ls(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Ie(l,e,t,s,a,r,c=null,u=[-1]){const d=et;$e(l);const f=l.$$={fragment:null,ctx:[],props:r,update:ne,not_equal:a,bound:ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:ht(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};c&&c(f.root);let m=!1;if(f.ctx=t?t(l,e.props||{},(p,h,...g)=>{const y=g.length?g[0]:h;return f.ctx&&a(f.ctx[p],f.ctx[p]=y)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](y),m&&os(l,p)),h}):[],f.update(),m=!0,ye(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const p=$l(e.target);f.fragment&&f.fragment.l(p),p.forEach(E)}else f.fragment&&f.fragment.c();e.intro&&Se(l.$$.fragment),Fe(l,e.target,e.anchor),Yl()}$e(d)}class De{constructor(){ot(this,"$$");ot(this,"$$set")}$destroy(){Be(this,1),this.$destroy=ne}$on(e,t){if(!dt(t))return ne;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!Zl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rs);const cs="/assets/PinpointLogo-b2c8a3b8.png";function _t(l,e,t){const s=l.slice();return s[12]=e[t],s}function bt(l,e,t){const s=l.slice();return s[15]=e[t],s}function kt(l){let e,t,s,a,r,c,u,d;function f(){return l[8](l[15])}return{c(){e=o("button"),t=o("span"),t.textContent=`${l[15].emoji}`,s=v(),a=o("span"),a.textContent=`${l[15].name}`,r=v(),i(t,"class","filter-emoji"),i(a,"class","filter-name"),i(e,"class",c="filter-btn "+(l[2]===l[15].value?"active":"")),Oe(e,"--category-color",l[15].color)},m(m,p){M(m,e,p),n(e,t),n(e,s),n(e,a),n(e,r),u||(d=U(e,"click",f),u=!0)},p(m,p){l=m,p&4&&c!==(c="filter-btn "+(l[2]===l[15].value?"active":""))&&i(e,"class",c)},d(m){m&&E(e),u=!1,d()}}}function us(l){let e;return{c(){e=o("div"),e.innerHTML='<p class="no-results-text">No destinations found matching your search.</p> <p class="no-results-subtext">Try adjusting your search or filter criteria.</p>',i(e,"class","no-results")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function fs(l){let e,t=pe(l[3]),s=[];for(let a=0;a<t.length;a+=1)s[a]=wt(_t(l,t,a));return{c(){e=o("div");for(let a=0;a<s.length;a+=1)s[a].c();i(e,"class","destinations-grid")},m(a,r){M(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(a,r){if(r&8){t=pe(a[3]);let c;for(c=0;c<t.length;c+=1){const u=_t(a,t,c);s[c]?s[c].p(u,r):(s[c]=wt(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d(a){a&&E(e),Ce(s,a)}}}function wt(l){let e,t,s,a,r,c,u=l[12].name+"",d,f,m,p=l[12].price+"",h,g,y,C;function k(){return l[9](l[12])}return{c(){e=o("div"),t=o("div"),a=v(),r=o("div"),c=o("h3"),d=j(u),f=v(),m=o("p"),h=j(p),g=v(),i(t,"class","destination-image"),i(t,"style",s=`background-image: url('${l[12].image}')`),i(m,"class","destination-price"),i(r,"class","destination-content"),i(e,"class","destination-card")},m(S,w){M(S,e,w),n(e,t),n(e,a),n(e,r),n(r,c),n(c,d),n(r,f),n(r,m),n(m,h),n(e,g),y||(C=U(e,"click",k),y=!0)},p(S,w){l=S,w&8&&s!==(s=`background-image: url('${l[12].image}')`)&&i(t,"style",s),w&8&&u!==(u=l[12].name+"")&&K(d,u),w&8&&p!==(p=l[12].price+"")&&K(h,p)},d(S){S&&E(e),y=!1,C()}}}function ds(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z=pe(l[5]),P=[];for(let A=0;A<z.length;A+=1)P[A]=kt(bt(l,z,A));function I(A,N){return A[3].length>0?fs:us}let O=I(l),F=O(l);return{c(){e=o("main"),t=o("section"),s=o("img"),r=v(),c=o("div"),u=o("input"),d=v(),f=o("button"),f.textContent="üîç",m=v(),p=o("section"),h=o("div"),g=o("h2"),g.textContent="Filter Destinations",y=v(),C=o("div");for(let A=0;A<P.length;A+=1)P[A].c();k=v(),S=o("section"),w=o("div"),w.innerHTML="<h2>Explore Popular Destinations</h2>",D=v(),F.c(),i(s,"class","brand-logo"),We(s.src,a=cs)||i(s,"src",a),i(s,"alt","Pinpoint logo"),i(u,"placeholder","Explore your Dream Vacation"),i(u,"aria-label","Search"),i(f,"class","search-btn"),i(f,"aria-label","Search"),i(c,"class","search"),i(t,"class","hero container"),i(C,"class","filter-buttons"),i(h,"class","container"),i(p,"class","filters"),i(w,"class","container"),i(S,"class","destinations"),i(e,"class","home")},m(A,N){M(A,e,N),n(e,t),n(t,s),n(t,r),n(t,c),n(c,u),te(u,l[0]),n(c,d),n(c,f),n(e,m),n(e,p),n(p,h),n(h,g),n(h,y),n(h,C);for(let _=0;_<P.length;_+=1)P[_]&&P[_].m(C,null);n(e,k),n(e,S),n(S,w),n(S,D),F.m(S,null),q||(b=[U(u,"input",l[7]),U(u,"keydown",l[4]),U(f,"click",function(){dt(l[1])&&l[1].apply(this,arguments)})],q=!0)},p(A,[N]){if(l=A,N&1&&u.value!==l[0]&&te(u,l[0]),N&100){z=pe(l[5]);let _;for(_=0;_<z.length;_+=1){const L=bt(l,z,_);P[_]?P[_].p(L,N):(P[_]=kt(L),P[_].c(),P[_].m(C,null))}for(;_<P.length;_+=1)P[_].d(1);P.length=z.length}O===(O=I(l))&&F?F.p(l,N):(F.d(1),F=O(l),F&&(F.c(),F.m(S,null)))},i:ne,o:ne,d(A){A&&E(e),Ce(P,A),F.d(),q=!1,ye(b)}}}function ps(l){window.location.hash=`#destination/${l}`}function ms(l,e,t){let{query:s=""}=e,{search:a}=e;const r=C=>{C.key==="Enter"&&(a==null||a())},c={"new-england":{name:"New England",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500",price:"From $299",category:"mountains",id:"new-england"},"aspen-colorado":{name:"Aspen, Colorado",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=500",price:"From $450",category:"mountains",id:"aspen-colorado"},vermont:{name:"Vermont",image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=500",price:"From $199",category:"mountains",id:"vermont"},"bali-indonesia":{name:"Bali, Indonesia",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500",price:"From $599",category:"beaches",id:"bali-indonesia"},"santorini-greece":{name:"Santorini, Greece",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=500",price:"From $799",category:"beaches",id:"santorini-greece"},"dubai-uae":{name:"Dubai, UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=500",price:"From $699",category:"cities",id:"dubai-uae"},"swiss-alps":{name:"Swiss Alps",image:"https://s1.it.atcdn.net/wp-content/uploads/2015/11/shutterstock_279572969.jpg",price:"From $899",category:"mountains",id:"swiss-alps"},iceland:{name:"Iceland",image:"https://cdn.britannica.com/06/171306-050-C88DD752/Aurora-borealis-peninsula-Snaefellsnes-Iceland-March-2013.jpg",price:"From $599",category:"adventure",id:"iceland"},"banff-canada":{name:"Banff, Canada",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500",price:"From $399",category:"mountains",id:"banff-canada"}},u=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}];let d="all",f=Object.values(c);function m(C){t(2,d=C.value),p()}function p(){let C=Object.values(c);if(d!=="all"&&(C=C.filter(k=>k.category===d)),s&&s.trim()!==""){const k=s.toLowerCase().trim();C=C.filter(S=>S.name.toLowerCase().includes(k)||S.category.toLowerCase().includes(k)||S.id.toLowerCase().includes(k))}t(3,f=C)}p();function h(){s=this.value,t(0,s)}const g=C=>m(C),y=C=>ps(C.id);return l.$$set=C=>{"query"in C&&t(0,s=C.query),"search"in C&&t(1,a=C.search)},l.$$.update=()=>{l.$$.dirty&1&&s!==void 0&&p()},[s,a,d,f,r,u,m,h,g,y]}class hs extends De{constructor(e){super(),Ie(this,e,ms,ds,ze,{query:0,search:1})}}const pt={}.VITE_API_URL;async function Te(l,e={}){const t=`${pt}${l}`,s={...e,headers:{"Content-Type":"application/json",...e.headers},credentials:"include"};try{const a=await fetch(t,s);if(!a)throw new Error("Network error: Unable to reach the server. Make sure the Django server is running on http://127.0.0.1:8000");const r=a.headers.get("content-type");if(!r||!r.includes("application/json")){const u=await a.text();throw console.error("Non-JSON response received:",{status:a.status,statusText:a.statusText,url:t,contentType:r,preview:u.substring(0,200)}),a.ok?new Error("Server returned non-JSON response. Check server configuration."):new Error(`Server returned non-JSON response (${a.status}): ${a.statusText}`)}const c=await a.json();if(!a.ok)throw new Error(c.error||c.message||`HTTP error! status: ${a.status}`);return c}catch(a){throw a.name==="TypeError"&&a.message.includes("fetch")?(console.error("API request failed - Network error:",a),new Error("Network error: Unable to reach the server. Make sure the Django server is running on http://127.0.0.1:8000")):(console.error("API request failed:",a),a)}}async function vs(l,e){return Te("/register/",{method:"POST",body:JSON.stringify({username:l,password:e})})}async function gs(l,e){return Te("/login/",{method:"POST",body:JSON.stringify({username:l,password:e})})}async function _s(){return Te("/logout/",{method:"POST"})}async function bs(){try{return await Te("/user/")}catch{return{is_authenticated:!1}}}async function ks(l){return Te("/user/update/",{method:"PATCH",body:JSON.stringify(l)})}async function Ge(){try{return await Te("/check-auth/")}catch(l){return console.error("Auth check error:",l),{is_authenticated:!1}}}async function ws(){try{return await Te("/bucket-list/")}catch(l){throw console.error("Error fetching bucket list:",l),l}}async function ys(){try{return await Te("/my-trips/")}catch(l){throw console.error("Error fetching my trips:",l),l}}async function Cs(l){try{const e=`${pt}/trips/create-for-bucket-list/`;if(l.image instanceof File){const t=new FormData;t.append("name",l.name),t.append("location",l.location),l.date&&t.append("date",l.date),t.append("image",l.image);const s=await fetch(e,{method:"POST",body:t,credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to create trip")}return await s.json()}else return await Te("/trips/create-for-bucket-list/",{method:"POST",body:JSON.stringify(l)})}catch(e){throw console.error("Error creating trip for bucket list:",e),e}}async function Ts(l){try{const e=`${pt}/trips/create-for-my-trips/`;if(l.image instanceof File){const t=new FormData;t.append("name",l.name),t.append("location",l.location),l.date&&t.append("date",l.date),t.append("image",l.image);const s=await fetch(e,{method:"POST",body:t,credentials:"include"});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to create trip")}return await s.json()}else return await Te("/trips/create-for-my-trips/",{method:"POST",body:JSON.stringify(l)})}catch(e){throw console.error("Error creating trip for my trips:",e),e}}async function qs(l){try{return await Te(`/trips/${l}/`)}catch(e){throw console.error("Error fetching trip:",e),e}}async function As(l,e){try{return await Te(`/trips/${l}/plans/`,{method:"POST",body:JSON.stringify(e)})}catch(t){throw console.error("Error creating plan:",t),t}}async function Ls(l){try{return await Te(`/plans/${l}/`,{method:"DELETE"})}catch(e){throw console.error("Error deleting plan:",e),e}}async function Ss(l,e){try{return await Te(`/trips/${l}/bnb/`,{method:"POST",body:JSON.stringify(e)})}catch(t){throw console.error("Error creating BNB:",t),t}}async function Ps(l,e){try{return await Te(`/bnb/${l}/`,{method:"PATCH",body:JSON.stringify(e)})}catch(t){throw console.error("Error updating BNB:",t),t}}async function Ns(l,e){try{return await Te(`/bnb/${l}/ratings/`,{method:"POST",body:JSON.stringify({value:e})})}catch(t){throw console.error("Error creating rating:",t),t}}async function zs(l,e){try{return await Te(`/bnb/${l}/reviews/`,{method:"POST",body:JSON.stringify(e)})}catch(t){throw console.error("Error creating review:",t),t}}function yt(l,e,t){const s=l.slice();s[51]=e[t],s[54]=t;const a=s[54]+1;return s[52]=a,s}function Ct(l,e,t){const s=l.slice();s[51]=e[t],s[54]=t;const a=s[54]+1;return s[55]=a,s}function Tt(l,e,t){const s=l.slice();return s[57]=e[t],s}function qt(l,e,t){const s=l.slice();return s[60]=e[t],s}function At(l,e,t){const s=l.slice();return s[63]=e[t],s}function Lt(l){let e,t=l[63].name+"",s;return{c(){e=o("option"),s=j(t),e.__value=l[63].value,te(e,e.__value)},m(a,r){M(a,e,r),n(e,s)},p:ne,d(a){a&&E(e)}}}function St(l){let e,t,s,a,r,c,u,d;function f(){return l[40](l[60])}return{c(){e=o("button"),t=o("span"),t.textContent=`${l[60].emoji}`,s=v(),a=o("span"),a.textContent=`${l[60].name}`,r=v(),i(t,"class","category-emoji"),i(a,"class","category-name"),i(e,"class",c="category-btn "+(l[0]===l[60].value?"active":"")),Oe(e,"--category-color",l[60].color)},m(m,p){M(m,e,p),n(e,t),n(e,s),n(e,a),n(e,r),u||(d=U(e,"click",f),u=!0)},p(m,p){l=m,p[0]&1&&c!==(c="category-btn "+(l[0]===l[60].value?"active":""))&&i(e,"class",c)},d(m){m&&E(e),u=!1,d()}}}function Fs(l){let e,t,s,a=pe(l[18]),r=[];for(let u=0;u<a.length;u+=1)r[u]=Nt(Tt(l,a,u));let c=l[16]>1&&zt(l);return{c(){e=o("div");for(let u=0;u<r.length;u+=1)r[u].c();t=v(),c&&c.c(),s=He(),i(e,"class","items-grid")},m(u,d){M(u,e,d);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);M(u,t,d),c&&c.m(u,d),M(u,s,d)},p(u,d){if(d[0]&262144){a=pe(u[18]);let f;for(f=0;f<a.length;f+=1){const m=Tt(u,a,f);r[f]?r[f].p(m,d):(r[f]=Nt(m),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=a.length}u[16]>1?c?c.p(u,d):(c=zt(u),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(u){u&&(E(e),E(t),E(s)),Ce(r,u),c&&c.d(u)}}}function Bs(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">üìù</div> <h3>Your bucket list is empty</h3> <p>Start adding trips to your bucket list to see them here!</p>',i(e,"class","empty-state")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Is(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">üìù</div> <h3>No items found</h3> <p>Try adjusting your search or filters to find what you&#39;re looking for.</p>',i(e,"class","empty-state")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Ds(l){let e,t,s,a,r,c,u;return{c(){e=o("div"),t=o("div"),t.textContent="‚ö†Ô∏è",s=v(),a=o("h3"),a.textContent="Error loading bucket list",r=v(),c=o("p"),u=j(l[8]),i(t,"class","empty-icon"),i(e,"class","empty-state")},m(d,f){M(d,e,f),n(e,t),n(e,s),n(e,a),n(e,r),n(e,c),n(c,u)},p(d,f){f[0]&256&&K(u,d[8])},d(d){d&&E(e)}}}function Es(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚è≥</div> <h3>Loading...</h3> <p>Loading your bucket list items...</p>',i(e,"class","empty-state")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Pt(l){let e,t,s=new Date(l[57].completedDate).toLocaleDateString()+"",a;return{c(){e=o("span"),t=j("Completed: "),a=j(s),i(e,"class","completed-date")},m(r,c){M(r,e,c),n(e,t),n(e,a)},p(r,c){c[0]&262144&&s!==(s=new Date(r[57].completedDate).toLocaleDateString()+"")&&K(a,s)},d(r){r&&E(e)}}}function Nt(l){let e,t,s,a,r,c,u,d=l[57].title+"",f,m,p,h=l[57].category+"",g,y,C,k=l[57].description+"",S,w,D,q,b,z=new Date(l[57].dateAdded).toLocaleDateString()+"",P,I,O,F,A,N,_=l[57].completed&&l[57].completedDate&&Pt(l);function L(){return l[41](l[57])}return{c(){e=o("div"),t=o("div"),a=v(),r=o("div"),c=o("div"),u=o("h3"),f=j(d),m=v(),p=o("span"),g=j(h),y=v(),C=o("p"),S=j(k),w=v(),D=o("div"),q=o("span"),b=j("Added: "),P=j(z),I=v(),_&&_.c(),O=v(),i(t,"class","item-image"),i(t,"style",s=`background-image: url('${l[57].image||"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"}')`),i(u,"class","item-title"),i(p,"class","item-category"),i(c,"class","item-header"),i(C,"class","item-description"),i(q,"class","item-date"),i(D,"class","item-footer"),i(r,"class","item-content"),i(e,"class",F="bucket-item "+(l[57].completed?"completed":"")),Oe(e,"cursor","pointer")},m(R,B){M(R,e,B),n(e,t),n(e,a),n(e,r),n(r,c),n(c,u),n(u,f),n(c,m),n(c,p),n(p,g),n(r,y),n(r,C),n(C,S),n(r,w),n(r,D),n(D,q),n(q,b),n(q,P),n(D,I),_&&_.m(D,null),n(e,O),A||(N=U(e,"click",L),A=!0)},p(R,B){l=R,B[0]&262144&&s!==(s=`background-image: url('${l[57].image||"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"}')`)&&i(t,"style",s),B[0]&262144&&d!==(d=l[57].title+"")&&K(f,d),B[0]&262144&&h!==(h=l[57].category+"")&&K(g,h),B[0]&262144&&k!==(k=l[57].description+"")&&K(S,k),B[0]&262144&&z!==(z=new Date(l[57].dateAdded).toLocaleDateString()+"")&&K(P,z),l[57].completed&&l[57].completedDate?_?_.p(l,B):(_=Pt(l),_.c(),_.m(D,null)):_&&(_.d(1),_=null),B[0]&262144&&F!==(F="bucket-item "+(l[57].completed?"completed":""))&&i(e,"class",F)},d(R){R&&E(e),_&&_.d(),A=!1,N()}}}function zt(l){let e,t,s,a=l[5]+1+"",r,c,u=Math.min(l[4],l[6].length)+"",d,f,m=l[6].length+"",p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F=pe(Array(l[16])),A=[];for(let N=0;N<F.length;N+=1)A[N]=Ft(Ct(l,F,N));return{c(){e=o("div"),t=o("div"),s=j("Showing "),r=j(a),c=j(" - "),d=j(u),f=j(" of "),p=j(m),h=j(" items"),g=v(),y=o("div"),C=o("button"),k=j("‚Üê Previous"),w=v(),D=o("div");for(let N=0;N<A.length;N+=1)A[N].c();q=v(),b=o("button"),z=j("Next ‚Üí"),i(t,"class","pagination-info"),i(C,"class","pagination-btn"),C.disabled=S=l[3]===1,i(D,"class","page-numbers"),i(b,"class","pagination-btn"),b.disabled=P=l[3]===l[16],i(y,"class","pagination-controls"),i(e,"class","pagination")},m(N,_){M(N,e,_),n(e,t),n(t,s),n(t,r),n(t,c),n(t,d),n(t,f),n(t,p),n(t,h),n(e,g),n(e,y),n(y,C),n(C,k),n(y,w),n(y,D);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(D,null);n(y,q),n(y,b),n(b,z),I||(O=[U(C,"click",l[30]),U(b,"click",l[29])],I=!0)},p(N,_){if(_[0]&32&&a!==(a=N[5]+1+"")&&K(r,a),_[0]&80&&u!==(u=Math.min(N[4],N[6].length)+"")&&K(d,u),_[0]&64&&m!==(m=N[6].length+"")&&K(p,m),_[0]&8&&S!==(S=N[3]===1)&&(C.disabled=S),_[0]&65544|_[1]&1){F=pe(Array(N[16]));let L;for(L=0;L<F.length;L+=1){const R=Ct(N,F,L);A[L]?A[L].p(R,_):(A[L]=Ft(R),A[L].c(),A[L].m(D,null))}for(;L<A.length;L+=1)A[L].d(1);A.length=F.length}_[0]&65544&&P!==(P=N[3]===N[16])&&(b.disabled=P)},d(N){N&&E(e),Ce(A,N),I=!1,ye(O)}}}function Ms(l){let e;return{c(){e=o("span"),e.textContent="...",i(e,"class","page-ellipsis")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function js(l){let e,t,s,a,r,c;function u(){return l[42](l[55])}return{c(){e=o("button"),t=j(l[55]),s=v(),i(e,"class",a="page-btn "+(l[55]===l[3]?"active":""))},m(d,f){M(d,e,f),n(e,t),n(e,s),r||(c=U(e,"click",u),r=!0)},p(d,f){l=d,f[0]&8&&a!==(a="page-btn "+(l[55]===l[3]?"active":""))&&i(e,"class",a)},d(d){d&&E(e),r=!1,c()}}}function Ft(l){let e;function t(r,c){if(r[55]===1||r[55]===r[16]||r[55]>=r[3]-2&&r[55]<=r[3]+2)return js;if(r[55]===r[3]-3||r[55]===r[3]+3)return Ms}let s=t(l),a=s&&s(l);return{c(){a&&a.c(),e=He()},m(r,c){a&&a.m(r,c),M(r,e,c)},p(r,c){s===(s=t(r))&&a?a.p(r,c):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){r&&E(e),a&&a.d(r)}}}function Bt(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b=pe(Array(Xe)),z=[];for(let T=0;T<b.length;T+=1)z[T]=It(yt(l,b,T));let P=l[12]&&Dt(l),I=l[10]===1&&Et(l),O=l[10]===2&&Ot(l),F=l[10]===3&&Ht(l);function A(T,H){return T[10]>1?Vs:Gs}let N=A(l),_=N(l);function L(T,H){return T[10]<Xe?Ys:Js}let R=L(l),B=R(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Add New Trip to Bucket List",r=v(),c=o("button"),c.textContent="√ó",u=v(),d=o("div");for(let T=0;T<z.length;T+=1)z[T].c();f=v(),m=o("form"),P&&P.c(),p=v(),I&&I.c(),h=v(),O&&O.c(),g=v(),F&&F.c(),y=v(),C=o("div"),k=o("div"),_.c(),S=v(),w=o("div"),B.c(),i(a,"class","svelte-2sg5u5"),i(c,"class","modal-close svelte-2sg5u5"),i(s,"class","modal-header svelte-2sg5u5"),i(d,"class","step-indicator svelte-2sg5u5"),i(k,"class","form-actions-left svelte-2sg5u5"),i(w,"class","form-actions-right svelte-2sg5u5"),i(C,"class","form-actions svelte-2sg5u5"),i(m,"class","trip-form svelte-2sg5u5"),i(t,"class","modal-content multi-step-form svelte-2sg5u5"),i(e,"class","modal-overlay svelte-2sg5u5")},m(T,H){M(T,e,H),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(t,u),n(t,d);for(let Q=0;Q<z.length;Q+=1)z[Q]&&z[Q].m(d,null);n(t,f),n(t,m),P&&P.m(m,null),n(m,p),I&&I.m(m,null),n(m,h),O&&O.m(m,null),n(m,g),F&&F.m(m,null),n(m,y),n(m,C),n(C,k),_.m(k,null),n(C,S),n(C,w),B.m(w,null),D||(q=[U(c,"click",l[26]),U(m,"submit",Re(l[24])),U(t,"click",tt(l[37])),U(e,"click",l[26])],D=!0)},p(T,H){if(H[0]&1024){b=pe(Array(Xe));let Q;for(Q=0;Q<b.length;Q+=1){const Y=yt(T,b,Q);z[Q]?z[Q].p(Y,H):(z[Q]=It(Y),z[Q].c(),z[Q].m(d,null))}for(;Q<z.length;Q+=1)z[Q].d(1);z.length=b.length}T[12]?P?P.p(T,H):(P=Dt(T),P.c(),P.m(m,p)):P&&(P.d(1),P=null),T[10]===1?I?I.p(T,H):(I=Et(T),I.c(),I.m(m,h)):I&&(I.d(1),I=null),T[10]===2?O?O.p(T,H):(O=Ot(T),O.c(),O.m(m,g)):O&&(O.d(1),O=null),T[10]===3?F?F.p(T,H):(F=Ht(T),F.c(),F.m(m,y)):F&&(F.d(1),F=null),N===(N=A(T))&&_?_.p(T,H):(_.d(1),_=N(T),_&&(_.c(),_.m(k,null))),R===(R=L(T))&&B?B.p(T,H):(B.d(1),B=R(T),B&&(B.c(),B.m(w,null)))},d(T){T&&E(e),Ce(z,T),P&&P.d(),I&&I.d(),O&&O.d(),F&&F.d(),_.d(),B.d(),D=!1,ye(q)}}}function Os(l){let e;return{c(){e=j(l[52])},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Hs(l){let e;return{c(){e=j("‚úì")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Rs(l){let e,t;return{c(){e=o("div"),i(e,"class",t="step-connector "+(l[10]>l[52]?"completed":"")+" svelte-2sg5u5")},m(s,a){M(s,e,a)},p(s,a){a[0]&1024&&t!==(t="step-connector "+(s[10]>s[52]?"completed":"")+" svelte-2sg5u5")&&i(e,"class",t)},d(s){s&&E(e)}}}function It(l){let e,t,s,a,r,c,u;function d(h,g){return h[10]>h[52]?Hs:Os}let f=d(l),m=f(l),p=l[52]<Xe&&Rs(l);return{c(){e=o("div"),t=o("div"),m.c(),s=v(),a=o("div"),a.textContent=`${l[52]===1?"Basic Info":l[52]===2?"Details":"Review"}`,c=v(),p&&p.c(),u=He(),i(t,"class","step-number svelte-2sg5u5"),i(a,"class","step-label svelte-2sg5u5"),i(e,"class",r="step-item "+(l[10]>=l[52]?"active":"")+" "+(l[10]>l[52]?"completed":"")+" svelte-2sg5u5")},m(h,g){M(h,e,g),n(e,t),m.m(t,null),n(e,s),n(e,a),M(h,c,g),p&&p.m(h,g),M(h,u,g)},p(h,g){f!==(f=d(h))&&(m.d(1),m=f(h),m&&(m.c(),m.m(t,null))),g[0]&1024&&r!==(r="step-item "+(h[10]>=h[52]?"active":"")+" "+(h[10]>h[52]?"completed":"")+" svelte-2sg5u5")&&i(e,"class",r),h[52]<Xe&&p.p(h,g)},d(h){h&&(E(e),E(c),E(u)),m.d(),p&&p.d(h)}}}function Dt(l){let e,t;return{c(){e=o("div"),t=j(l[12]),i(e,"class","form-error svelte-2sg5u5")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a[0]&4096&&K(t,s[12])},d(s){s&&E(e)}}}function Et(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N=l[15].step1.name&&Mt(l),_=l[15].step1.location&&jt(l);return{c(){e=o("div"),t=o("h3"),t.textContent="Basic Information",s=v(),a=o("p"),a.textContent="Tell us about your dream destination",r=v(),c=o("div"),u=o("label"),u.textContent="Trip Name *",d=v(),f=o("input"),p=v(),N&&N.c(),h=v(),g=o("div"),y=o("label"),y.textContent="Location *",C=v(),k=o("input"),w=v(),_&&_.c(),D=v(),q=o("div"),b=o("label"),b.textContent="Planned Date (Optional)",z=v(),P=o("input"),I=v(),O=o("small"),O.textContent="When do you plan to visit?",i(t,"class","step-title svelte-2sg5u5"),i(a,"class","step-description svelte-2sg5u5"),i(u,"for","trip-name"),i(u,"class","svelte-2sg5u5"),i(f,"id","trip-name"),i(f,"type","text"),i(f,"placeholder","e.g., Visit Paris"),i(f,"class",m=st(l[15].step1.name?"error":"")+" svelte-2sg5u5"),f.disabled=l[13],i(c,"class","form-group svelte-2sg5u5"),i(y,"for","trip-location"),i(y,"class","svelte-2sg5u5"),i(k,"id","trip-location"),i(k,"type","text"),i(k,"placeholder","e.g., Paris, France"),i(k,"class",S=st(l[15].step1.location?"error":"")+" svelte-2sg5u5"),k.disabled=l[13],i(g,"class","form-group svelte-2sg5u5"),i(b,"for","trip-date"),i(b,"class","svelte-2sg5u5"),i(P,"id","trip-date"),i(P,"type","date"),P.disabled=l[13],i(P,"class","svelte-2sg5u5"),i(O,"class","field-hint svelte-2sg5u5"),i(q,"class","form-group svelte-2sg5u5"),i(e,"class","step-content svelte-2sg5u5")},m(L,R){M(L,e,R),n(e,t),n(e,s),n(e,a),n(e,r),n(e,c),n(c,u),n(c,d),n(c,f),te(f,l[11].name),n(c,p),N&&N.m(c,null),n(e,h),n(e,g),n(g,y),n(g,C),n(g,k),te(k,l[11].location),n(g,w),_&&_.m(g,null),n(e,D),n(e,q),n(q,b),n(q,z),n(q,P),te(P,l[11].date),n(q,I),n(q,O),F||(A=[U(f,"input",l[43]),U(k,"input",l[44]),U(P,"input",l[45])],F=!0)},p(L,R){R[0]&32768&&m!==(m=st(L[15].step1.name?"error":"")+" svelte-2sg5u5")&&i(f,"class",m),R[0]&8192&&(f.disabled=L[13]),R[0]&2048&&f.value!==L[11].name&&te(f,L[11].name),L[15].step1.name?N?N.p(L,R):(N=Mt(L),N.c(),N.m(c,null)):N&&(N.d(1),N=null),R[0]&32768&&S!==(S=st(L[15].step1.location?"error":"")+" svelte-2sg5u5")&&i(k,"class",S),R[0]&8192&&(k.disabled=L[13]),R[0]&2048&&k.value!==L[11].location&&te(k,L[11].location),L[15].step1.location?_?_.p(L,R):(_=jt(L),_.c(),_.m(g,null)):_&&(_.d(1),_=null),R[0]&8192&&(P.disabled=L[13]),R[0]&2048&&te(P,L[11].date)},d(L){L&&E(e),N&&N.d(),_&&_.d(),F=!1,ye(A)}}}function Mt(l){let e,t=l[15].step1.name+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","field-error svelte-2sg5u5")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r[0]&32768&&t!==(t=a[15].step1.name+"")&&K(s,t)},d(a){a&&E(e)}}}function jt(l){let e,t=l[15].step1.location+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","field-error svelte-2sg5u5")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r[0]&32768&&t!==(t=a[15].step1.location+"")&&K(s,t)},d(a){a&&E(e)}}}function Ot(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S;function w(b,z){return b[14]?Ws:Us}let D=w(l),q=D(l);return{c(){e=o("div"),t=o("h3"),t.textContent="Visual & Details",s=v(),a=o("p"),a.textContent="Add a photo and any additional notes",r=v(),c=o("div"),u=o("label"),u.textContent="Cover Photo (Optional)",d=v(),q.c(),f=v(),m=o("div"),p=o("label"),p.textContent="Notes (Optional)",h=v(),g=o("textarea"),y=v(),C=o("small"),C.textContent="What makes this trip special to you?",i(t,"class","step-title svelte-2sg5u5"),i(a,"class","step-description svelte-2sg5u5"),i(u,"for","trip-image"),i(u,"class","svelte-2sg5u5"),i(c,"class","form-group svelte-2sg5u5"),i(p,"for","trip-notes"),i(p,"class","svelte-2sg5u5"),i(g,"id","trip-notes"),i(g,"placeholder","Add any notes, ideas, or inspiration for this trip..."),i(g,"rows","4"),g.disabled=l[13],i(g,"class","form-textarea svelte-2sg5u5"),i(C,"class","field-hint svelte-2sg5u5"),i(m,"class","form-group svelte-2sg5u5"),i(e,"class","step-content svelte-2sg5u5")},m(b,z){M(b,e,z),n(e,t),n(e,s),n(e,a),n(e,r),n(e,c),n(c,u),n(c,d),q.m(c,null),n(e,f),n(e,m),n(m,p),n(m,h),n(m,g),te(g,l[11].notes),n(m,y),n(m,C),k||(S=U(g,"input",l[46]),k=!0)},p(b,z){D===(D=w(b))&&q?q.p(b,z):(q.d(1),q=D(b),q&&(q.c(),q.m(c,null))),z[0]&8192&&(g.disabled=b[13]),z[0]&2048&&te(g,b[11].notes)},d(b){b&&E(e),q.d(),k=!1,S()}}}function Us(l){let e,t,s,a,r,c;return{c(){e=o("div"),t=o("input"),s=v(),a=o("label"),a.innerHTML='<span class="upload-icon svelte-2sg5u5">üì∑</span> <span class="upload-text svelte-2sg5u5">Click to upload or drag and drop</span> <span class="upload-hint svelte-2sg5u5">Max size: 5MB. Supported formats: JPG, PNG, GIF</span>',i(t,"id","trip-image"),i(t,"type","file"),i(t,"accept","image/*"),t.disabled=l[13],i(t,"class","file-input-hidden svelte-2sg5u5"),i(a,"for","trip-image"),i(a,"class","file-upload-label svelte-2sg5u5"),i(e,"class","file-upload-area svelte-2sg5u5")},m(u,d){M(u,e,d),n(e,t),n(e,s),n(e,a),r||(c=U(t,"change",l[20]),r=!0)},p(u,d){d[0]&8192&&(t.disabled=u[13])},d(u){u&&E(e),r=!1,c()}}}function Ws(l){let e,t,s,a,r,c,u;return{c(){e=o("div"),t=o("img"),a=v(),r=o("button"),r.textContent="Remove",We(t.src,s=l[14])||i(t,"src",s),i(t,"alt","Preview"),i(t,"class","image-preview svelte-2sg5u5"),i(r,"type","button"),i(r,"class","remove-image-btn svelte-2sg5u5"),i(e,"class","image-preview-container svelte-2sg5u5")},m(d,f){M(d,e,f),n(e,t),n(e,a),n(e,r),c||(u=U(r,"click",l[21]),c=!0)},p(d,f){f[0]&16384&&!We(t.src,s=d[14])&&i(t,"src",s)},d(d){d&&E(e),c=!1,u()}}}function Ht(l){let e,t,s,a,r,c,u,d,f,m,p=(l[11].name||"Not set")+"",h,g,y,C,k,S,w=(l[11].location||"Not set")+"",D,q,b,z,P,I,O=(l[11].date?new Date(l[11].date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set")+"",F,A,N,_,L,R,B=l[11].image?"‚úì Uploaded":"Not uploaded",T,H,Q,Y=l[11].notes&&Rt(l),X=l[14]&&Ut(l);return{c(){e=o("div"),t=o("h3"),t.textContent="Review Your Trip",s=v(),a=o("p"),a.textContent="Please review your information before submitting",r=v(),c=o("div"),u=o("div"),d=o("span"),d.textContent="Trip Name:",f=v(),m=o("span"),h=j(p),g=v(),y=o("div"),C=o("span"),C.textContent="Location:",k=v(),S=o("span"),D=j(w),q=v(),b=o("div"),z=o("span"),z.textContent="Planned Date:",P=v(),I=o("span"),F=j(O),A=v(),N=o("div"),_=o("span"),_.textContent="Cover Photo:",L=v(),R=o("span"),T=j(B),H=v(),Y&&Y.c(),Q=v(),X&&X.c(),i(t,"class","step-title svelte-2sg5u5"),i(a,"class","step-description svelte-2sg5u5"),i(d,"class","review-label svelte-2sg5u5"),i(m,"class","review-value svelte-2sg5u5"),i(u,"class","review-item svelte-2sg5u5"),i(C,"class","review-label svelte-2sg5u5"),i(S,"class","review-value svelte-2sg5u5"),i(y,"class","review-item svelte-2sg5u5"),i(z,"class","review-label svelte-2sg5u5"),i(I,"class","review-value svelte-2sg5u5"),i(b,"class","review-item svelte-2sg5u5"),i(_,"class","review-label svelte-2sg5u5"),i(R,"class","review-value svelte-2sg5u5"),i(N,"class","review-item svelte-2sg5u5"),i(c,"class","review-summary svelte-2sg5u5"),i(e,"class","step-content svelte-2sg5u5")},m(V,ee){M(V,e,ee),n(e,t),n(e,s),n(e,a),n(e,r),n(e,c),n(c,u),n(u,d),n(u,f),n(u,m),n(m,h),n(c,g),n(c,y),n(y,C),n(y,k),n(y,S),n(S,D),n(c,q),n(c,b),n(b,z),n(b,P),n(b,I),n(I,F),n(c,A),n(c,N),n(N,_),n(N,L),n(N,R),n(R,T),n(c,H),Y&&Y.m(c,null),n(e,Q),X&&X.m(e,null)},p(V,ee){ee[0]&2048&&p!==(p=(V[11].name||"Not set")+"")&&K(h,p),ee[0]&2048&&w!==(w=(V[11].location||"Not set")+"")&&K(D,w),ee[0]&2048&&O!==(O=(V[11].date?new Date(V[11].date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set")+"")&&K(F,O),ee[0]&2048&&B!==(B=V[11].image?"‚úì Uploaded":"Not uploaded")&&K(T,B),V[11].notes?Y?Y.p(V,ee):(Y=Rt(V),Y.c(),Y.m(c,null)):Y&&(Y.d(1),Y=null),V[14]?X?X.p(V,ee):(X=Ut(V),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},d(V){V&&E(e),Y&&Y.d(),X&&X.d()}}}function Rt(l){let e,t,s,a,r=l[11].notes+"",c;return{c(){e=o("div"),t=o("span"),t.textContent="Notes:",s=v(),a=o("span"),c=j(r),i(t,"class","review-label svelte-2sg5u5"),i(a,"class","review-value notes-value svelte-2sg5u5"),i(e,"class","review-item svelte-2sg5u5")},m(u,d){M(u,e,d),n(e,t),n(e,s),n(e,a),n(a,c)},p(u,d){d[0]&2048&&r!==(r=u[11].notes+"")&&K(c,r)},d(u){u&&E(e)}}}function Ut(l){let e,t,s;return{c(){e=o("div"),t=o("img"),We(t.src,s=l[14])||i(t,"src",s),i(t,"alt","Trip preview"),i(t,"class","svelte-2sg5u5"),i(e,"class","review-image svelte-2sg5u5")},m(a,r){M(a,e,r),n(e,t)},p(a,r){r[0]&16384&&!We(t.src,s=a[14])&&i(t,"src",s)},d(a){a&&E(e)}}}function Gs(l){let e,t,s,a;return{c(){e=o("button"),t=j("Cancel"),i(e,"type","button"),i(e,"class","btn-cancel svelte-2sg5u5"),e.disabled=l[13]},m(r,c){M(r,e,c),n(e,t),s||(a=U(e,"click",l[26]),s=!0)},p(r,c){c[0]&8192&&(e.disabled=r[13])},d(r){r&&E(e),s=!1,a()}}}function Vs(l){let e,t,s,a;return{c(){e=o("button"),t=j("‚Üê Previous"),i(e,"type","button"),i(e,"class","btn-back svelte-2sg5u5"),e.disabled=l[13]},m(r,c){M(r,e,c),n(e,t),s||(a=U(e,"click",l[23]),s=!0)},p(r,c){c[0]&8192&&(e.disabled=r[13])},d(r){r&&E(e),s=!1,a()}}}function Js(l){let e,t=l[13]?"Adding...":"Add to Bucket List",s;return{c(){e=o("button"),s=j(t),i(e,"type","submit"),i(e,"class","btn-submit svelte-2sg5u5"),e.disabled=l[13]},m(a,r){M(a,e,r),n(e,s)},p(a,r){r[0]&8192&&t!==(t=a[13]?"Adding...":"Add to Bucket List")&&K(s,t),r[0]&8192&&(e.disabled=a[13])},d(a){a&&E(e)}}}function Ys(l){let e,t,s,a;return{c(){e=o("button"),t=j("Next ‚Üí"),i(e,"type","button"),i(e,"class","btn-next svelte-2sg5u5"),e.disabled=l[13]},m(r,c){M(r,e,c),n(e,t),s||(a=U(e,"click",l[22]),s=!0)},p(r,c){c[0]&8192&&(e.disabled=r[13])},d(r){r&&E(e),s=!1,a()}}}function Ks(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X,V,ee,G,Z,$,ae,oe,fe,re,ve,be,_e,ce,ke=pe(l[28]),J=[];for(let x=0;x<ke.length;x+=1)J[x]=Lt(At(l,ke,x));let le=pe(l[27]),W=[];for(let x=0;x<le.length;x+=1)W[x]=St(qt(l,le,x));function se(x,we){return x[7]?Es:x[8]?Ds:x[6].length===0&&x[19]?Is:x[19]?Fs:Bs}let ge=se(l),ie=ge(l),me=l[9]&&Bt(l);return{c(){e=o("main"),t=o("section"),s=o("div"),a=o("div"),r=o("h1"),r.textContent="My Bucket List",c=v(),u=o("p"),u.textContent="Dream it. Plan it. Do it.",d=v(),f=o("div"),m=o("div"),p=o("span"),h=j(l[17]),g=v(),y=o("span"),y.textContent="Active Goals",C=v(),k=o("div"),S=o("span"),S.textContent=`${l[27].length-1}`,w=v(),D=o("span"),D.textContent="Categories",q=v(),b=o("section"),z=o("div"),P=o("div"),I=o("h2"),I.textContent="Filter & Sort",O=v(),F=o("div"),A=o("div"),N=o("input"),_=v(),L=o("span"),L.textContent="üîç",R=v(),B=o("select");for(let x=0;x<J.length;x+=1)J[x].c();T=v(),H=o("div");for(let x=0;x<W.length;x+=1)W[x].c();Q=v(),Y=o("section"),X=o("div"),ie.c(),V=v(),ee=o("section"),G=o("div"),Z=o("div"),$=o("h2"),$.textContent="Ready to add more dreams?",ae=v(),oe=o("p"),oe.textContent="Start building your ultimate bucket list today",fe=v(),re=o("button"),re.innerHTML=`<span class="btn-icon">+</span>
          Add New Item`,ve=v(),me&&me.c(),be=He(),i(p,"class","stat-number"),i(y,"class","stat-label"),i(m,"class","stat-item"),i(S,"class","stat-number"),i(D,"class","stat-label"),i(k,"class","stat-item"),i(f,"class","stats"),i(a,"class","hero-content"),i(s,"class","container"),i(t,"class","hero"),i(N,"type","text"),i(N,"placeholder","Search your bucket list..."),i(N,"class","search-input"),i(L,"class","search-icon"),i(A,"class","search-box"),i(B,"class","sort-select"),l[1]===void 0&&at(()=>l[39].call(B)),i(F,"class","filters-controls"),i(P,"class","filters-header"),i(H,"class","category-filters"),i(z,"class","container"),i(b,"class","filters-section"),i(X,"class","container"),i(Y,"class","bucket-items"),i(re,"class","add-item-btn"),i(Z,"class","cta-content"),i(G,"class","container"),i(ee,"class","add-item-cta"),i(e,"class","bucket-list-page")},m(x,we){M(x,e,we),n(e,t),n(t,s),n(s,a),n(a,r),n(a,c),n(a,u),n(a,d),n(a,f),n(f,m),n(m,p),n(p,h),n(m,g),n(m,y),n(f,C),n(f,k),n(k,S),n(k,w),n(k,D),n(e,q),n(e,b),n(b,z),n(z,P),n(P,I),n(P,O),n(P,F),n(F,A),n(A,N),te(N,l[2]),n(A,_),n(A,L),n(F,R),n(F,B);for(let ue=0;ue<J.length;ue+=1)J[ue]&&J[ue].m(B,null);vt(B,l[1],!0),n(z,T),n(z,H);for(let ue=0;ue<W.length;ue+=1)W[ue]&&W[ue].m(H,null);n(e,Q),n(e,Y),n(Y,X),ie.m(X,null),n(e,V),n(e,ee),n(ee,G),n(G,Z),n(Z,$),n(Z,ae),n(Z,oe),n(Z,fe),n(Z,re),M(x,ve,we),me&&me.m(x,we),M(x,be,we),_e||(ce=[U(N,"input",l[38]),U(B,"change",l[39]),U(re,"click",l[25])],_e=!0)},p(x,we){if(we[0]&131072&&K(h,x[17]),we[0]&4&&N.value!==x[2]&&te(N,x[2]),we[0]&268435456){ke=pe(x[28]);let ue;for(ue=0;ue<ke.length;ue+=1){const Me=At(x,ke,ue);J[ue]?J[ue].p(Me,we):(J[ue]=Lt(Me),J[ue].c(),J[ue].m(B,null))}for(;ue<J.length;ue+=1)J[ue].d(1);J.length=ke.length}if(we[0]&268435458&&vt(B,x[1]),we[0]&134217729){le=pe(x[27]);let ue;for(ue=0;ue<le.length;ue+=1){const Me=qt(x,le,ue);W[ue]?W[ue].p(Me,we):(W[ue]=St(Me),W[ue].c(),W[ue].m(H,null))}for(;ue<W.length;ue+=1)W[ue].d(1);W.length=le.length}ge===(ge=se(x))&&ie?ie.p(x,we):(ie.d(1),ie=ge(x),ie&&(ie.c(),ie.m(X,null))),x[9]?me?me.p(x,we):(me=Bt(x),me.c(),me.m(be.parentNode,be)):me&&(me.d(1),me=null)},i:ne,o:ne,d(x){x&&(E(e),E(ve),E(be)),Ce(J,x),Ce(W,x),ie.d(),me&&me.d(x),_e=!1,ye(ce)}}}const Xe=3,ct=10;function Qs(l,e,t){let s,a,r,c,u,d,f,m,p,h,g=[],y=!0,C=null,k=!1,S=1,w={name:"",location:"",date:"",image:null,notes:""},D=null,q=!1,b=null,z={step1:{},step2:{},step3:{}};async function P(){t(7,y=!0),t(8,C=null);try{const J=await ws();J.success&&J.trips&&t(32,g=J.trips.map(le=>{let W=le.image;return console.log(`Trip ${le.id} image URL:`,W),(!W||W==="null"||W==="undefined"||W.trim()==="")&&(W="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"),{id:le.id,title:le.name||le.location,description:le.location||`Trip to ${le.name||"Unknown"}`,category:"adventure",completed:!1,dateAdded:le.date||new Date().toISOString().split("T")[0],image:W}}))}catch(J){console.error("Error loading bucket list:",J),t(8,C=J.message||"Failed to load bucket list")}finally{t(7,y=!1)}}je(()=>{P()});function I(J){const le=J.target.files[0];if(le){if(!le.type.startsWith("image/")){t(12,D="Please select an image file");return}if(le.size>5*1024*1024){t(12,D="Image size must be less than 5MB");return}t(11,w.image=le,w),t(12,D=null);const W=new FileReader;W.onload=se=>{t(14,b=se.target.result)},W.readAsDataURL(le)}}function O(){t(11,w.image=null,w),t(14,b=null)}function F(J){t(15,z[`step${J}`]={},z);let le=!0;return J===1&&((!w.name||w.name.trim()==="")&&(t(15,z.step1.name="Trip name is required",z),le=!1),(!w.location||w.location.trim()==="")&&(t(15,z.step1.location="Location is required",z),le=!1)),le}function A(){F(S)&&S<Xe&&(t(10,S++,S),t(12,D=null))}function N(){S>1&&(t(10,S--,S),t(12,D=null))}async function _(){if(t(12,D=null),t(13,q=!0),!F(1)){t(10,S=1),t(13,q=!1);return}try{(await Cs({name:w.name,location:w.location,date:w.date||null,image:w.image})).success&&(t(11,w={name:"",location:"",date:"",image:null,notes:""}),t(14,b=null),t(10,S=1),t(9,k=!1),await P())}catch(J){t(12,D=J.message||"Failed to create trip")}finally{t(13,q=!1)}}function L(){t(9,k=!0),t(10,S=1),t(12,D=null),t(11,w={name:"",location:"",date:"",image:null,notes:""}),t(14,b=null),t(15,z={step1:{},step2:{},step3:{}})}function R(){t(9,k=!1),t(10,S=1),t(12,D=null),t(11,w={name:"",location:"",date:"",image:null,notes:""}),t(14,b=null),t(15,z={step1:{},step2:{},step3:{}})}let B="all",T="date-added",H="",Q=1;const Y=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}],X=[{name:"Date Added",value:"date-added"},{name:"Title",value:"title"},{name:"Category",value:"category"}];let V="";function ee(){Q<c&&t(3,Q++,Q)}function G(){Q>1&&t(3,Q--,Q)}function Z(J){t(3,Q=J)}function $(J){xe.call(this,l,J)}function ae(){H=this.value,t(2,H)}function oe(){T=xl(this),t(1,T),t(28,X)}const fe=J=>t(0,B=J.value),re=J=>window.location.hash=`#trip/${J.id}`,ve=J=>Z(J);function be(){w.name=this.value,t(11,w)}function _e(){w.location=this.value,t(11,w)}function ce(){w.date=this.value,t(11,w)}function ke(){w.notes=this.value,t(11,w)}return l.$$.update=()=>{l.$$.dirty[0]&5|l.$$.dirty[1]&2&&t(36,s=g.filter(J=>{const le=B==="all"||J.category===B,W=J.title.toLowerCase().includes(H.toLowerCase())||J.description.toLowerCase().includes(H.toLowerCase()),se=!J.completed;return le&&W&&se})),l.$$.dirty[1]&2&&t(19,a=g.length>0),l.$$.dirty[0]&2|l.$$.dirty[1]&32&&t(6,r=[...s].sort((J,le)=>{switch(T){case"title":return J.title.localeCompare(le.title);case"category":return J.category.localeCompare(le.category);default:return new Date(le.dateAdded)-new Date(J.dateAdded)}})),l.$$.dirty[0]&64&&t(16,c=Math.ceil(r.length/ct)),l.$$.dirty[0]&7&&t(34,u=`${B}-${T}-${H}`),l.$$.dirty[1]&12&&(V&&V!==u&&t(3,Q=1),t(33,V=u)),l.$$.dirty[0]&8&&t(5,d=(Q-1)*ct),l.$$.dirty[0]&32&&t(4,f=d+ct),l.$$.dirty[0]&112&&t(18,m=r.slice(d,f)),l.$$.dirty[1]&2&&t(35,p=g.filter(J=>!J.completed)),l.$$.dirty[1]&16&&t(17,h=p.length),l.$$.dirty[1]&2&&g.filter(J=>J.completed).length,l.$$.dirty[1]&2&&g.length},[B,T,H,Q,f,d,r,y,C,k,S,w,D,q,b,z,c,h,m,a,I,O,A,N,_,L,R,Y,X,ee,G,Z,g,V,u,p,s,$,ae,oe,fe,re,ve,be,_e,ce,ke]}class Xs extends De{constructor(e){super(),Ie(this,e,Qs,Ks,ze,{},null,[-1,-1,-1])}}function Wt(l,e,t){const s=l.slice();return s[29]=e[t],s}function Gt(l,e,t){const s=l.slice();return s[32]=e[t],s}function Vt(l){let e,t,s=l[9][l[32].value]+"",a,r;return{c(){e=o("span"),t=j("("),a=j(s),r=j(")"),i(e,"class","category-count svelte-1f4vfhs")},m(c,u){M(c,e,u),n(e,t),n(e,a),n(e,r)},p(c,u){u[0]&512&&s!==(s=c[9][c[32].value]+"")&&K(a,s)},d(c){c&&E(e)}}}function Jt(l){let e,t,s,a,r,c,u,d,f,m=l[9][l[32].value]&&Vt(l);function p(){return l[23](l[32])}return{c(){e=o("button"),t=o("span"),t.textContent=`${l[32].emoji}`,s=v(),a=o("span"),a.textContent=`${l[32].name}`,r=v(),m&&m.c(),c=v(),i(t,"class","category-emoji"),i(a,"class","category-name"),i(e,"class",u="category-btn "+(l[0]===l[32].value?"active":"")+" svelte-1f4vfhs"),Oe(e,"--category-color",l[32].color)},m(h,g){M(h,e,g),n(e,t),n(e,s),n(e,a),n(e,r),m&&m.m(e,null),n(e,c),d||(f=U(e,"click",p),d=!0)},p(h,g){l=h,l[9][l[32].value]?m?m.p(l,g):(m=Vt(l),m.c(),m.m(e,c)):m&&(m.d(1),m=null),g[0]&1&&u!==(u="category-btn "+(l[0]===l[32].value?"active":"")+" svelte-1f4vfhs")&&i(e,"class",u)},d(h){h&&E(e),m&&m.d(),d=!1,f()}}}function Zs(l){let e,t=pe(l[11]),s=[];for(let a=0;a<t.length;a+=1)s[a]=Yt(Wt(l,t,a));return{c(){e=o("div");for(let a=0;a<s.length;a+=1)s[a].c();i(e,"class","items-grid")},m(a,r){M(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(a,r){if(r[0]&2048){t=pe(a[11]);let c;for(c=0;c<t.length;c+=1){const u=Wt(a,t,c);s[c]?s[c].p(u,r):(s[c]=Yt(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d(a){a&&E(e),Ce(s,a)}}}function $s(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚úàÔ∏è</div> <h3>No trips yet</h3> <p>Start your journey by adding items to your bucket list and completing your first adventure!</p>',i(e,"class","empty-state")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function xs(l){let e,t,s,a,r,c,u;return{c(){e=o("div"),t=o("div"),t.textContent="‚ö†Ô∏è",s=v(),a=o("h3"),a.textContent="Error loading trips",r=v(),c=o("p"),u=j(l[3]),i(t,"class","empty-icon"),i(e,"class","empty-state")},m(d,f){M(d,e,f),n(e,t),n(e,s),n(e,a),n(e,r),n(e,c),n(c,u)},p(d,f){f[0]&8&&K(u,d[3])},d(d){d&&E(e)}}}function en(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚è≥</div> <h3>Loading...</h3> <p>Loading your trips...</p>',i(e,"class","empty-state")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Yt(l){let e,t,s,a=l[29].priority+"",r,c,u,d,f,m,p,h,g,y=l[29].title+"",C,k,S,w=l[29].category+"",D,q,b,z=l[29].description+"",P,I,O,F,A,N=nt(l[29].dateAdded)+"",_,L,R,B,T=nt(l[29].completedDate)+"",H,Q,Y,X,V=Zt(l[29].completedDate)+"",ee,G,Z,$,ae;function oe(){return l[24](l[29])}return{c(){e=o("div"),t=o("div"),s=o("div"),r=j(a),u=v(),d=o("div"),d.textContent="‚úì Completed",m=v(),p=o("div"),h=o("div"),g=o("h3"),C=j(y),k=v(),S=o("span"),D=j(w),q=v(),b=o("p"),P=j(z),I=v(),O=o("div"),F=o("span"),A=j("Added: "),_=j(N),L=v(),R=o("span"),B=j("‚úì Completed: "),H=j(T),Q=v(),Y=o("span"),X=j("("),ee=j(V),G=j(" days ago)"),Z=v(),i(s,"class","priority-badge"),i(s,"style",c=`background-color: ${Xt(l[29].priority)}`),i(d,"class","completed-badge svelte-1f4vfhs"),i(t,"class","item-image"),i(t,"style",f=`background-image: url('${l[29].image}')`),i(g,"class","item-title"),i(S,"class","item-category"),i(h,"class","item-header"),i(b,"class","item-description"),i(F,"class","item-date"),i(R,"class","completed-date"),i(Y,"class","days-ago svelte-1f4vfhs"),i(O,"class","item-footer"),i(p,"class","item-content"),i(e,"class","bucket-item completed svelte-1f4vfhs"),Oe(e,"cursor","pointer"),i(e,"role","button"),i(e,"tabindex","0")},m(fe,re){M(fe,e,re),n(e,t),n(t,s),n(s,r),n(t,u),n(t,d),n(e,m),n(e,p),n(p,h),n(h,g),n(g,C),n(h,k),n(h,S),n(S,D),n(p,q),n(p,b),n(b,P),n(p,I),n(p,O),n(O,F),n(F,A),n(F,_),n(O,L),n(O,R),n(R,B),n(R,H),n(O,Q),n(O,Y),n(Y,X),n(Y,ee),n(Y,G),n(e,Z),$||(ae=U(e,"click",oe),$=!0)},p(fe,re){l=fe,re[0]&2048&&a!==(a=l[29].priority+"")&&K(r,a),re[0]&2048&&c!==(c=`background-color: ${Xt(l[29].priority)}`)&&i(s,"style",c),re[0]&2048&&f!==(f=`background-image: url('${l[29].image}')`)&&i(t,"style",f),re[0]&2048&&y!==(y=l[29].title+"")&&K(C,y),re[0]&2048&&w!==(w=l[29].category+"")&&K(D,w),re[0]&2048&&z!==(z=l[29].description+"")&&K(P,z),re[0]&2048&&N!==(N=nt(l[29].dateAdded)+"")&&K(_,N),re[0]&2048&&T!==(T=nt(l[29].completedDate)+"")&&K(H,T),re[0]&2048&&V!==(V=Zt(l[29].completedDate)+"")&&K(ee,V)},d(fe){fe&&E(e),$=!1,ae()}}}function Kt(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B,T,H=l[7]?"Adding...":"Add to My Trips",Q,Y,X,V=l[6]&&Qt(l);function ee($,ae){return $[8]?ln:tn}let G=ee(l),Z=G(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Add Completed Trip",r=v(),c=o("button"),c.textContent="√ó",u=v(),d=o("form"),V&&V.c(),f=v(),m=o("div"),p=o("label"),p.textContent="Trip Name *",h=v(),g=o("input"),y=v(),C=o("div"),k=o("label"),k.textContent="Location *",S=v(),w=o("input"),D=v(),q=o("div"),b=o("label"),b.textContent="Date (Optional)",z=v(),P=o("input"),I=v(),O=o("div"),F=o("label"),F.textContent="Cover Photo (Optional)",A=v(),Z.c(),N=v(),_=o("div"),L=o("button"),R=j("Cancel"),B=v(),T=o("button"),Q=j(H),i(a,"class","svelte-1f4vfhs"),i(c,"class","modal-close svelte-1f4vfhs"),i(s,"class","modal-header svelte-1f4vfhs"),i(p,"for","trip-name"),i(p,"class","svelte-1f4vfhs"),i(g,"id","trip-name"),i(g,"type","text"),i(g,"placeholder","e.g., Visit Paris"),g.required=!0,g.disabled=l[7],i(g,"class","svelte-1f4vfhs"),i(m,"class","form-group svelte-1f4vfhs"),i(k,"for","trip-location"),i(k,"class","svelte-1f4vfhs"),i(w,"id","trip-location"),i(w,"type","text"),i(w,"placeholder","e.g., Paris, France"),w.required=!0,w.disabled=l[7],i(w,"class","svelte-1f4vfhs"),i(C,"class","form-group svelte-1f4vfhs"),i(b,"for","trip-date"),i(b,"class","svelte-1f4vfhs"),i(P,"id","trip-date"),i(P,"type","date"),P.disabled=l[7],i(P,"class","svelte-1f4vfhs"),i(q,"class","form-group svelte-1f4vfhs"),i(F,"for","trip-image"),i(F,"class","svelte-1f4vfhs"),i(O,"class","form-group svelte-1f4vfhs"),i(L,"type","button"),i(L,"class","btn-cancel svelte-1f4vfhs"),L.disabled=l[7],i(T,"type","submit"),i(T,"class","btn-submit svelte-1f4vfhs"),T.disabled=l[7],i(_,"class","form-actions svelte-1f4vfhs"),i(d,"class","trip-form svelte-1f4vfhs"),i(t,"class","modal-content svelte-1f4vfhs"),i(e,"class","modal-overlay svelte-1f4vfhs")},m($,ae){M($,e,ae),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(t,u),n(t,d),V&&V.m(d,null),n(d,f),n(d,m),n(m,p),n(m,h),n(m,g),te(g,l[5].name),n(d,y),n(d,C),n(C,k),n(C,S),n(C,w),te(w,l[5].location),n(d,D),n(d,q),n(q,b),n(q,z),n(q,P),te(P,l[5].date),n(d,I),n(d,O),n(O,F),n(O,A),Z.m(O,null),n(d,N),n(d,_),n(_,L),n(L,R),n(_,B),n(_,T),n(T,Q),Y||(X=[U(c,"click",l[16]),U(g,"input",l[25]),U(w,"input",l[26]),U(P,"input",l[27]),U(L,"click",l[16]),U(d,"submit",Re(l[14])),U(t,"click",tt(l[21])),U(e,"click",l[16])],Y=!0)},p($,ae){$[6]?V?V.p($,ae):(V=Qt($),V.c(),V.m(d,f)):V&&(V.d(1),V=null),ae[0]&128&&(g.disabled=$[7]),ae[0]&32&&g.value!==$[5].name&&te(g,$[5].name),ae[0]&128&&(w.disabled=$[7]),ae[0]&32&&w.value!==$[5].location&&te(w,$[5].location),ae[0]&128&&(P.disabled=$[7]),ae[0]&32&&te(P,$[5].date),G===(G=ee($))&&Z?Z.p($,ae):(Z.d(1),Z=G($),Z&&(Z.c(),Z.m(O,null))),ae[0]&128&&(L.disabled=$[7]),ae[0]&128&&H!==(H=$[7]?"Adding...":"Add to My Trips")&&K(Q,H),ae[0]&128&&(T.disabled=$[7])},d($){$&&E(e),V&&V.d(),Z.d(),Y=!1,ye(X)}}}function Qt(l){let e,t;return{c(){e=o("div"),t=j(l[6]),i(e,"class","form-error svelte-1f4vfhs")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a[0]&64&&K(t,s[6])},d(s){s&&E(e)}}}function tn(l){let e,t,s,a,r;return{c(){e=o("input"),t=v(),s=o("small"),s.textContent="Max size: 5MB. Supported formats: JPG, PNG, GIF",i(e,"id","trip-image"),i(e,"type","file"),i(e,"accept","image/*"),e.disabled=l[7],i(e,"class","file-input svelte-1f4vfhs"),i(s,"class","file-hint svelte-1f4vfhs")},m(c,u){M(c,e,u),M(c,t,u),M(c,s,u),a||(r=U(e,"change",l[12]),a=!0)},p(c,u){u[0]&128&&(e.disabled=c[7])},d(c){c&&(E(e),E(t),E(s)),a=!1,r()}}}function ln(l){let e,t,s,a,r,c,u;return{c(){e=o("div"),t=o("img"),a=v(),r=o("button"),r.textContent="Remove",We(t.src,s=l[8])||i(t,"src",s),i(t,"alt","Preview"),i(t,"class","image-preview svelte-1f4vfhs"),i(r,"type","button"),i(r,"class","remove-image-btn svelte-1f4vfhs"),i(e,"class","image-preview-container svelte-1f4vfhs")},m(d,f){M(d,e,f),n(e,t),n(e,a),n(e,r),c||(u=U(r,"click",l[13]),c=!0)},p(d,f){f[0]&256&&!We(t.src,s=d[8])&&i(t,"src",s)},d(d){d&&E(e),c=!1,u()}}}function sn(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w=Object.keys(l[9]).length+"",D,q,b,z,P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X,V,ee,G,Z,$,ae,oe,fe,re,ve,be,_e,ce,ke=pe(l[17]),J=[];for(let ie=0;ie<ke.length;ie+=1)J[ie]=Jt(Gt(l,ke,ie));function le(ie,me){return ie[2]?en:ie[3]?xs:ie[11].length===0?$s:Zs}let W=le(l),se=W(l),ge=l[4]&&Kt(l);return{c(){e=o("main"),t=o("section"),s=o("div"),a=o("div"),r=o("h1"),r.textContent="My Completed Trips",c=v(),u=o("p"),u.textContent="Celebrate your adventures and travel achievements",d=v(),f=o("div"),m=o("div"),p=o("span"),h=j(l[10]),g=v(),y=o("span"),y.textContent="Trips Completed",C=v(),k=o("div"),S=o("span"),D=j(w),q=v(),b=o("span"),b.textContent="Categories",z=v(),P=o("section"),I=o("div"),O=o("div"),F=o("h2"),F.textContent="Filter Your Adventures",A=v(),N=o("div"),_=o("div"),L=o("input"),R=v(),B=o("span"),B.textContent="üîç",T=v(),H=o("div");for(let ie=0;ie<J.length;ie+=1)J[ie].c();Q=v(),Y=o("section"),X=o("div"),se.c(),V=v(),ee=o("section"),G=o("div"),Z=o("div"),$=o("h2"),$.textContent="Keep the adventure going!",ae=v(),oe=o("p"),oe.textContent="Your journey doesn't end here. Add more completed trips to your collection",fe=v(),re=o("button"),re.innerHTML=`<span class="btn-icon">+</span>
          Add Completed Trip`,ve=v(),ge&&ge.c(),be=He(),i(p,"class","stat-number"),i(y,"class","stat-label"),i(m,"class","stat-item"),i(S,"class","stat-number"),i(b,"class","stat-label"),i(k,"class","stat-item"),i(f,"class","stats"),i(a,"class","hero-content"),i(s,"class","container"),i(t,"class","hero"),i(L,"type","text"),i(L,"placeholder","Search your completed trips..."),i(L,"class","search-input"),i(B,"class","search-icon"),i(_,"class","search-box"),i(N,"class","filters-controls"),i(O,"class","filters-header"),i(H,"class","category-filters"),i(I,"class","container"),i(P,"class","filters-section"),i(X,"class","container"),i(Y,"class","bucket-items"),i(re,"class","add-item-btn svelte-1f4vfhs"),i(Z,"class","cta-content"),i(G,"class","container"),i(ee,"class","add-item-cta"),i(e,"class","bucket-list-page")},m(ie,me){M(ie,e,me),n(e,t),n(t,s),n(s,a),n(a,r),n(a,c),n(a,u),n(a,d),n(a,f),n(f,m),n(m,p),n(p,h),n(m,g),n(m,y),n(f,C),n(f,k),n(k,S),n(S,D),n(k,q),n(k,b),n(e,z),n(e,P),n(P,I),n(I,O),n(O,F),n(O,A),n(O,N),n(N,_),n(_,L),te(L,l[1]),n(_,R),n(_,B),n(I,T),n(I,H);for(let x=0;x<J.length;x+=1)J[x]&&J[x].m(H,null);n(e,Q),n(e,Y),n(Y,X),se.m(X,null),n(e,V),n(e,ee),n(ee,G),n(G,Z),n(Z,$),n(Z,ae),n(Z,oe),n(Z,fe),n(Z,re),M(ie,ve,me),ge&&ge.m(ie,me),M(ie,be,me),_e||(ce=[U(L,"input",l[22]),U(re,"click",l[15])],_e=!0)},p(ie,me){if(me[0]&1024&&K(h,ie[10]),me[0]&512&&w!==(w=Object.keys(ie[9]).length+"")&&K(D,w),me[0]&2&&L.value!==ie[1]&&te(L,ie[1]),me[0]&131585){ke=pe(ie[17]);let x;for(x=0;x<ke.length;x+=1){const we=Gt(ie,ke,x);J[x]?J[x].p(we,me):(J[x]=Jt(we),J[x].c(),J[x].m(H,null))}for(;x<J.length;x+=1)J[x].d(1);J.length=ke.length}W===(W=le(ie))&&se?se.p(ie,me):(se.d(1),se=W(ie),se&&(se.c(),se.m(X,null))),ie[4]?ge?ge.p(ie,me):(ge=Kt(ie),ge.c(),ge.m(be.parentNode,be)):ge&&(ge.d(1),ge=null)},i:ne,o:ne,d(ie){ie&&(E(e),E(ve),E(be)),Ce(J,ie),se.d(),ge&&ge.d(ie),_e=!1,ye(ce)}}}function Xt(l){switch(l){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}function Zt(l){return Math.floor((new Date-new Date(l))/864e5)}function nt(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function nn(l,e,t){let s,a,r,c,u,d=[],f=!0,m=null,p=!1,h={name:"",location:"",date:"",image:null},g=null,y=!1,C=null;async function k(){t(2,f=!0),t(3,m=null);try{const B=await ys();B.success&&B.trips&&t(18,d=B.trips.map(T=>({id:T.id,title:T.name||T.location,description:T.location||`Trip to ${T.name||"Unknown"}`,category:"adventure",priority:"medium",completed:!0,dateAdded:T.date||new Date().toISOString().split("T")[0],completedDate:T.date||new Date().toISOString().split("T")[0],image:T.image||"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"})))}catch(B){console.error("Error loading trips:",B),t(3,m=B.message||"Failed to load trips")}finally{t(2,f=!1)}}je(()=>{k()});function S(B){const T=B.target.files[0];if(T){if(!T.type.startsWith("image/")){t(6,g="Please select an image file");return}if(T.size>5*1024*1024){t(6,g="Image size must be less than 5MB");return}t(5,h.image=T,h),t(6,g=null);const H=new FileReader;H.onload=Q=>{t(8,C=Q.target.result)},H.readAsDataURL(T)}}function w(){t(5,h.image=null,h),t(8,C=null)}async function D(){if(t(6,g=null),t(7,y=!0),!h.name||!h.location){t(6,g="Name and location are required"),t(7,y=!1);return}try{(await Ts({name:h.name,location:h.location,date:h.date||null,image:h.image})).success&&(t(5,h={name:"",location:"",date:"",image:null}),t(8,C=null),t(4,p=!1),await k())}catch(B){t(6,g=B.message||"Failed to create trip")}finally{t(7,y=!1)}}function q(){t(4,p=!0),t(6,g=null),t(5,h={name:"",location:"",date:"",image:null}),t(8,C=null)}function b(){t(4,p=!1),t(6,g=null),t(5,h={name:"",location:"",date:"",image:null}),t(8,C=null)}let z="all",P="";const I=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}];function O(B){xe.call(this,l,B)}function F(){P=this.value,t(1,P)}const A=B=>t(0,z=B.value),N=B=>window.location.hash=`#trip/${B.id}`;function _(){h.name=this.value,t(5,h)}function L(){h.location=this.value,t(5,h)}function R(){h.date=this.value,t(5,h)}return l.$$.update=()=>{l.$$.dirty[0]&262144&&t(19,s=d.filter(B=>B.completed)),l.$$.dirty[0]&524291&&t(20,a=s.filter(B=>{const T=z==="all"||B.category===z,H=B.title.toLowerCase().includes(P.toLowerCase())||B.description.toLowerCase().includes(P.toLowerCase());return T&&H})),l.$$.dirty[0]&1048576&&t(11,r=[...a].sort((B,T)=>new Date(T.completedDate)-new Date(B.completedDate))),l.$$.dirty[0]&524288&&t(10,c=s.length),l.$$.dirty[0]&524288&&t(9,u=s.reduce((B,T)=>(B[T.category]=(B[T.category]||0)+1,B),{}))},[z,P,f,m,p,h,g,y,C,u,c,r,S,w,D,q,b,I,d,s,a,O,F,A,N,_,L,R]}class an extends De{constructor(e){super(),Ie(this,e,nn,sn,ze,{},null,[-1,-1])}}function on(l){var V,ee;let e,t,s,a,r=(((V=l[0].first_name)==null?void 0:V.charAt(0))||((ee=l[0].username)==null?void 0:ee.charAt(0))||"U").toUpperCase()+"",c,u,d,f,m,p,h=l[0].username+"",g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_=l[0].email&&$t(l),L=l[2]&&xt(l),R=!l[4]&&el(l);function B(G,Z){return G[4]?un:fn}let T=B(l),H=T(l);function Q(G,Z){return G[3]?hn:mn}let Y=Q(l),X=Y(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("span"),c=j(r),u=v(),d=o("div"),f=o("h1"),f.textContent=`${l[12]()}`,m=v(),p=o("p"),g=j(h),y=v(),_&&_.c(),C=v(),L&&L.c(),k=v(),S=o("div"),w=o("div"),D=o("div"),q=o("h3"),q.textContent="Account Information",b=v(),R&&R.c(),z=v(),H.c(),P=v(),I=o("div"),O=o("button"),X.c(),i(a,"class","avatar-icon svelte-1aken4e"),i(s,"class","profile-avatar svelte-1aken4e"),i(f,"class","svelte-1aken4e"),i(p,"class","user-subtitle svelte-1aken4e"),i(d,"class","profile-info svelte-1aken4e"),i(t,"class","profile-header svelte-1aken4e"),i(q,"class","svelte-1aken4e"),i(D,"class","card-header svelte-1aken4e"),i(w,"class","detail-card svelte-1aken4e"),i(S,"class","profile-details svelte-1aken4e"),i(O,"class","btn btn-danger svelte-1aken4e"),O.disabled=F=l[3]||l[4],i(I,"class","profile-actions svelte-1aken4e"),i(e,"class","profile-container svelte-1aken4e")},m(G,Z){M(G,e,Z),n(e,t),n(t,s),n(s,a),n(a,c),n(t,u),n(t,d),n(d,f),n(d,m),n(d,p),n(p,g),n(d,y),_&&_.m(d,null),n(e,C),L&&L.m(e,null),n(e,k),n(e,S),n(S,w),n(w,D),n(D,q),n(D,b),R&&R.m(D,null),n(w,z),H.m(w,null),n(e,P),n(e,I),n(I,O),X.m(O,null),A||(N=U(O,"click",l[11]),A=!0)},p(G,Z){var $,ae;Z&1&&r!==(r=((($=G[0].first_name)==null?void 0:$.charAt(0))||((ae=G[0].username)==null?void 0:ae.charAt(0))||"U").toUpperCase()+"")&&K(c,r),Z&1&&h!==(h=G[0].username+"")&&K(g,h),G[0].email?_?_.p(G,Z):(_=$t(G),_.c(),_.m(d,null)):_&&(_.d(1),_=null),G[2]?L?L.p(G,Z):(L=xt(G),L.c(),L.m(e,k)):L&&(L.d(1),L=null),G[4]?R&&(R.d(1),R=null):R?R.p(G,Z):(R=el(G),R.c(),R.m(D,null)),T===(T=B(G))&&H?H.p(G,Z):(H.d(1),H=T(G),H&&(H.c(),H.m(w,null))),Y!==(Y=Q(G))&&(X.d(1),X=Y(G),X&&(X.c(),X.m(O,null))),Z&24&&F!==(F=G[3]||G[4])&&(O.disabled=F)},d(G){G&&E(e),_&&_.d(),L&&L.d(),R&&R.d(),H.d(),X.d(),A=!1,N()}}}function rn(l){let e,t,s,a,r,c,u;return{c(){e=o("div"),t=o("div"),s=j(l[2]),a=v(),r=o("button"),r.textContent="Try Again",i(t,"class","alert alert-error svelte-1aken4e"),i(r,"class","btn btn-primary svelte-1aken4e"),i(e,"class","error-state svelte-1aken4e")},m(d,f){M(d,e,f),n(e,t),n(t,s),n(e,a),n(e,r),c||(u=U(r,"click",l[7]),c=!0)},p(d,f){f&4&&K(s,d[2])},d(d){d&&E(e),c=!1,u()}}}function cn(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="spinner svelte-1aken4e"></div> <p>Loading profile...</p>',i(e,"class","loading-state svelte-1aken4e")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function $t(l){let e,t=l[0].email+"",s;return{c(){e=o("p"),s=j(t),i(e,"class","user-email svelte-1aken4e")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&1&&t!==(t=a[0].email+"")&&K(s,t)},d(a){a&&E(e)}}}function xt(l){let e,t;return{c(){e=o("div"),t=j(l[2]),i(e,"class","alert alert-error svelte-1aken4e")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a&4&&K(t,s[2])},d(s){s&&E(e)}}}function el(l){let e,t,s;return{c(){e=o("button"),e.innerHTML="<span>‚úèÔ∏è</span> Edit",i(e,"class","btn-edit svelte-1aken4e")},m(a,r){M(a,e,r),t||(s=U(e,"click",l[8]),t=!0)},p:ne,d(a){a&&E(e),t=!1,s()}}}function un(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_;function L(T,H){return T[5]?pn:dn}let R=L(l),B=R(l);return{c(){e=o("form"),t=o("div"),s=o("label"),s.textContent="Username",a=v(),r=o("input"),c=v(),u=o("div"),d=o("div"),f=o("label"),f.textContent="First Name",m=v(),p=o("input"),h=v(),g=o("div"),y=o("label"),y.textContent="Last Name",C=v(),k=o("input"),S=v(),w=o("div"),D=o("label"),D.textContent="Email",q=v(),b=o("input"),z=v(),P=o("div"),I=o("button"),O=j("Cancel"),F=v(),A=o("button"),B.c(),i(s,"for","username"),i(s,"class","svelte-1aken4e"),i(r,"id","username"),i(r,"type","text"),i(r,"placeholder","Username"),r.required=!0,i(r,"class","svelte-1aken4e"),i(t,"class","form-group svelte-1aken4e"),i(f,"for","first_name"),i(f,"class","svelte-1aken4e"),i(p,"id","first_name"),i(p,"type","text"),i(p,"placeholder","First Name"),i(p,"class","svelte-1aken4e"),i(d,"class","form-group svelte-1aken4e"),i(y,"for","last_name"),i(y,"class","svelte-1aken4e"),i(k,"id","last_name"),i(k,"type","text"),i(k,"placeholder","Last Name"),i(k,"class","svelte-1aken4e"),i(g,"class","form-group svelte-1aken4e"),i(u,"class","form-row svelte-1aken4e"),i(D,"for","email"),i(D,"class","svelte-1aken4e"),i(b,"id","email"),i(b,"type","email"),i(b,"placeholder","email@example.com"),i(b,"class","svelte-1aken4e"),i(w,"class","form-group svelte-1aken4e"),i(I,"type","button"),i(I,"class","btn btn-secondary svelte-1aken4e"),I.disabled=l[5],i(A,"type","submit"),i(A,"class","btn btn-primary svelte-1aken4e"),A.disabled=l[5],i(P,"class","form-actions svelte-1aken4e"),i(e,"class","edit-form svelte-1aken4e")},m(T,H){M(T,e,H),n(e,t),n(t,s),n(t,a),n(t,r),te(r,l[6].username),n(e,c),n(e,u),n(u,d),n(d,f),n(d,m),n(d,p),te(p,l[6].first_name),n(u,h),n(u,g),n(g,y),n(g,C),n(g,k),te(k,l[6].last_name),n(e,S),n(e,w),n(w,D),n(w,q),n(w,b),te(b,l[6].email),n(e,z),n(e,P),n(P,I),n(I,O),n(P,F),n(P,A),B.m(A,null),N||(_=[U(r,"input",l[13]),U(p,"input",l[14]),U(k,"input",l[15]),U(b,"input",l[16]),U(I,"click",l[9]),U(e,"submit",Re(l[10]))],N=!0)},p(T,H){H&64&&r.value!==T[6].username&&te(r,T[6].username),H&64&&p.value!==T[6].first_name&&te(p,T[6].first_name),H&64&&k.value!==T[6].last_name&&te(k,T[6].last_name),H&64&&b.value!==T[6].email&&te(b,T[6].email),H&32&&(I.disabled=T[5]),R!==(R=L(T))&&(B.d(1),B=R(T),B&&(B.c(),B.m(A,null))),H&32&&(A.disabled=T[5])},d(T){T&&E(e),B.d(),N=!1,ye(_)}}}function fn(l){let e,t,s,a,r,c=l[0].username+"",u,d,f,m,p,h,g=(l[0].first_name||"Not set")+"",y,C,k,S,w,D,q=(l[0].last_name||"Not set")+"",b,z,P,I,O,F,A=(l[0].email||"Not set")+"",N,_,L,R,B,T,H=l[0].id+"",Q;return{c(){e=o("div"),t=o("div"),s=o("span"),s.textContent="Username",a=v(),r=o("span"),u=j(c),d=v(),f=o("div"),m=o("span"),m.textContent="First Name",p=v(),h=o("span"),y=j(g),C=v(),k=o("div"),S=o("span"),S.textContent="Last Name",w=v(),D=o("span"),b=j(q),z=v(),P=o("div"),I=o("span"),I.textContent="Email",O=v(),F=o("span"),N=j(A),_=v(),L=o("div"),R=o("span"),R.textContent="User ID",B=v(),T=o("span"),Q=j(H),i(s,"class","detail-label svelte-1aken4e"),i(r,"class","detail-value svelte-1aken4e"),i(t,"class","detail-item svelte-1aken4e"),i(m,"class","detail-label svelte-1aken4e"),i(h,"class","detail-value svelte-1aken4e"),i(f,"class","detail-item svelte-1aken4e"),i(S,"class","detail-label svelte-1aken4e"),i(D,"class","detail-value svelte-1aken4e"),i(k,"class","detail-item svelte-1aken4e"),i(I,"class","detail-label svelte-1aken4e"),i(F,"class","detail-value svelte-1aken4e"),i(P,"class","detail-item svelte-1aken4e"),i(R,"class","detail-label svelte-1aken4e"),i(T,"class","detail-value svelte-1aken4e"),i(L,"class","detail-item svelte-1aken4e"),i(e,"class","detail-list svelte-1aken4e")},m(Y,X){M(Y,e,X),n(e,t),n(t,s),n(t,a),n(t,r),n(r,u),n(e,d),n(e,f),n(f,m),n(f,p),n(f,h),n(h,y),n(e,C),n(e,k),n(k,S),n(k,w),n(k,D),n(D,b),n(e,z),n(e,P),n(P,I),n(P,O),n(P,F),n(F,N),n(e,_),n(e,L),n(L,R),n(L,B),n(L,T),n(T,Q)},p(Y,X){X&1&&c!==(c=Y[0].username+"")&&K(u,c),X&1&&g!==(g=(Y[0].first_name||"Not set")+"")&&K(y,g),X&1&&q!==(q=(Y[0].last_name||"Not set")+"")&&K(b,q),X&1&&A!==(A=(Y[0].email||"Not set")+"")&&K(N,A),X&1&&H!==(H=Y[0].id+"")&&K(Q,H)},d(Y){Y&&E(e)}}}function dn(l){let e;return{c(){e=j("Save Changes")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function pn(l){let e;return{c(){e=j("Saving...")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function mn(l){let e;return{c(){e=j("Logout")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function hn(l){let e;return{c(){e=j("Logging out...")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function vn(l){let e,t;function s(c,u){if(c[1])return cn;if(c[2]&&!c[0])return rn;if(c[0])return on}let a=s(l),r=a&&a(l);return{c(){e=o("main"),t=o("div"),r&&r.c(),i(t,"class","container"),i(e,"class","profile-page svelte-1aken4e")},m(c,u){M(c,e,u),n(e,t),r&&r.m(t,null)},p(c,[u]){a===(a=s(c))&&r?r.p(c,u):(r&&r.d(1),r=a&&a(c),r&&(r.c(),r.m(t,null)))},i:ne,o:ne,d(c){c&&E(e),r&&r.d()}}}function gn(l,e,t){let s=null,a=!0,r="",c=!1,u=!1,d=!1,f={username:"",first_name:"",last_name:"",email:""};je(async()=>{await new Promise(q=>setTimeout(q,100)),await m()});async function m(){t(1,a=!0),t(2,r="");try{console.log("Profile: Loading user data...");const q=await Ge();if(console.log("Profile: Auth check result:",q),q.is_authenticated)t(0,s={username:q.username,id:q.id,first_name:q.first_name||"",last_name:q.last_name||"",email:q.email||""}),t(2,r=""),console.log("Profile: User data loaded from check-auth:",s);else try{const b=await bs();b.is_authenticated?(t(0,s={username:b.username,id:b.id,first_name:b.first_name||"",last_name:b.last_name||"",email:b.email||""}),t(2,r=""),console.log("Profile: User data loaded from getCurrentUser:",s)):(console.log("Profile: Not authenticated, redirecting to login"),setTimeout(()=>{window.location.hash="#login"},500))}catch{console.log("Profile: getCurrentUser failed, redirecting to login"),setTimeout(()=>{window.location.hash="#login"},500)}}catch(q){console.error("Profile: Failed to fetch user:",q),setTimeout(async()=>{try{const b=await Ge();b.is_authenticated?(t(0,s={username:b.username,id:b.id,first_name:b.first_name||"",last_name:b.last_name||"",email:b.email||""}),t(2,r=""),t(1,a=!1)):window.location.hash="#login"}catch{console.error("Profile: Retry failed, redirecting to login"),window.location.hash="#login"}},1e3)}finally{t(1,a=!1)}}function p(){t(4,u=!0),t(6,f={username:s.username||"",first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||""}),t(2,r="")}function h(){t(4,u=!1),t(2,r="")}async function g(){t(5,d=!0),t(2,r="");try{const q=await ks(f);q.success?(t(0,s={...s,username:q.username||s.username,first_name:q.first_name||"",last_name:q.last_name||"",email:q.email||""}),t(4,u=!1)):t(2,r=q.error||"Failed to update profile. Please try again.")}catch(q){console.error("Update error:",q),t(2,r=q.message||"Failed to update profile. Please try again.")}finally{t(5,d=!1)}}async function y(){t(3,c=!0),t(2,r="");try{await _s(),window.location.hash="#home",window.location.reload()}catch(q){console.error("Logout error:",q),t(2,r="Logout failed. Please try again."),t(3,c=!1)}}function C(){return s.first_name||s.last_name?`${s.first_name||""} ${s.last_name||""}`.trim():s.username}function k(){f.username=this.value,t(6,f)}function S(){f.first_name=this.value,t(6,f)}function w(){f.last_name=this.value,t(6,f)}function D(){f.email=this.value,t(6,f)}return[s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D]}class _n extends De{constructor(e){super(),Ie(this,e,gn,vn,ze,{})}}function tl(l,e,t){const s=l.slice();return s[4]=e[t],s}function ll(l,e,t){const s=l.slice();return s[7]=e[t],s}function bn(l){let e,t,s,a,r,c,u,d=l[0].name+"",f,m,p,h=l[0].price+"",g,y,C,k=l[0].description+"",S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X,V=l[0].bestTime+"",ee,G,Z,$,ae,oe,fe=l[0].weather+"",re,ve,be,_e,ce,ke,J=l[0].name+"",le,W,se,ge,ie,me,x,we=l[0].price+"",ue,Me,mt,Ve=pe(l[0].highlights),qe=[];for(let de=0;de<Ve.length;de+=1)qe[de]=sl(ll(l,Ve,de));let Je=pe(l[0].activities),Ae=[];for(let de=0;de<Je.length;de+=1)Ae[de]=nl(tl(l,Je,de));return{c(){e=o("main"),t=o("section"),s=o("div"),a=o("button"),a.textContent="‚Üê Back",r=v(),c=o("div"),u=o("h1"),f=j(d),m=v(),p=o("p"),g=j(h),y=v(),C=o("p"),S=j(k),w=v(),D=o("div"),b=v(),z=o("section"),P=o("h2"),P.textContent="What Makes It Special",I=v(),O=o("div");for(let de=0;de<qe.length;de+=1)qe[de].c();F=v(),A=o("section"),N=o("h2"),N.textContent="Popular Activities",_=v(),L=o("div");for(let de=0;de<Ae.length;de+=1)Ae[de].c();R=v(),B=o("section"),T=o("div"),H=o("div"),Q=o("h3"),Q.textContent="Best Time to Visit",Y=v(),X=o("p"),ee=j(V),G=v(),Z=o("div"),$=o("h3"),$.textContent="Weather",ae=v(),oe=o("p"),re=j(fe),ve=v(),be=o("section"),_e=o("div"),ce=o("h2"),ke=j("Ready to Experience "),le=j(J),W=j("?"),se=v(),ge=o("p"),ge.textContent="Book your dream vacation today and create memories that will last a lifetime.",ie=v(),me=o("button"),x=j("Book Now - "),ue=j(we),i(a,"class","back-btn"),i(p,"class","hero-price"),i(C,"class","hero-description"),i(c,"class","hero-text"),i(s,"class","hero-content"),i(D,"class","hero-image"),i(D,"style",q=`background-image: url('${l[0].image}')`),i(t,"class","hero"),i(O,"class","highlights-grid"),i(z,"class","highlights"),i(L,"class","activities-grid"),i(A,"class","activities"),i(H,"class","info-card"),i(Z,"class","info-card"),i(T,"class","info-grid"),i(B,"class","travel-info"),i(me,"class","book-btn"),i(_e,"class","booking-card"),i(be,"class","booking"),i(e,"class","destination-page")},m(de,Le){M(de,e,Le),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(c,u),n(u,f),n(c,m),n(c,p),n(p,g),n(c,y),n(c,C),n(C,S),n(t,w),n(t,D),n(e,b),n(e,z),n(z,P),n(z,I),n(z,O);for(let he=0;he<qe.length;he+=1)qe[he]&&qe[he].m(O,null);n(e,F),n(e,A),n(A,N),n(A,_),n(A,L);for(let he=0;he<Ae.length;he+=1)Ae[he]&&Ae[he].m(L,null);n(e,R),n(e,B),n(B,T),n(T,H),n(H,Q),n(H,Y),n(H,X),n(X,ee),n(T,G),n(T,Z),n(Z,$),n(Z,ae),n(Z,oe),n(oe,re),n(e,ve),n(e,be),n(be,_e),n(_e,ce),n(ce,ke),n(ce,le),n(ce,W),n(_e,se),n(_e,ge),n(_e,ie),n(_e,me),n(me,x),n(me,ue),Me||(mt=[U(a,"click",yn),U(me,"click",l[2])],Me=!0)},p(de,Le){if(Le&1&&d!==(d=de[0].name+"")&&K(f,d),Le&1&&h!==(h=de[0].price+"")&&K(g,h),Le&1&&k!==(k=de[0].description+"")&&K(S,k),Le&1&&q!==(q=`background-image: url('${de[0].image}')`)&&i(D,"style",q),Le&1){Ve=pe(de[0].highlights);let he;for(he=0;he<Ve.length;he+=1){const Ze=ll(de,Ve,he);qe[he]?qe[he].p(Ze,Le):(qe[he]=sl(Ze),qe[he].c(),qe[he].m(O,null))}for(;he<qe.length;he+=1)qe[he].d(1);qe.length=Ve.length}if(Le&1){Je=pe(de[0].activities);let he;for(he=0;he<Je.length;he+=1){const Ze=tl(de,Je,he);Ae[he]?Ae[he].p(Ze,Le):(Ae[he]=nl(Ze),Ae[he].c(),Ae[he].m(L,null))}for(;he<Ae.length;he+=1)Ae[he].d(1);Ae.length=Je.length}Le&1&&V!==(V=de[0].bestTime+"")&&K(ee,V),Le&1&&fe!==(fe=de[0].weather+"")&&K(re,fe),Le&1&&J!==(J=de[0].name+"")&&K(le,J),Le&1&&we!==(we=de[0].price+"")&&K(ue,we)},d(de){de&&E(e),Ce(qe,de),Ce(Ae,de),Me=!1,ye(mt)}}}function kn(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="spinner"></div> <p>Loading destination...</p>',i(e,"class","loading")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function sl(l){let e,t,s,a,r=l[7]+"",c,u;return{c(){e=o("div"),t=o("div"),t.textContent="‚ú®",s=v(),a=o("p"),c=j(r),u=v(),i(t,"class","highlight-icon"),i(e,"class","highlight-item")},m(d,f){M(d,e,f),n(e,t),n(e,s),n(e,a),n(a,c),n(e,u)},p(d,f){f&1&&r!==(r=d[7]+"")&&K(c,r)},d(d){d&&E(e)}}}function nl(l){let e,t,s=l[4].name+"",a,r,c,u,d,f=l[4].duration+"",m,p,h,g=l[4].price+"",y,C;return{c(){e=o("div"),t=o("h3"),a=j(s),r=v(),c=o("div"),u=o("span"),d=j("‚è±Ô∏è "),m=j(f),p=v(),h=o("span"),y=j(g),C=v(),i(u,"class","duration"),i(h,"class","price"),i(c,"class","activity-details"),i(e,"class","activity-card")},m(k,S){M(k,e,S),n(e,t),n(t,a),n(e,r),n(e,c),n(c,u),n(u,d),n(u,m),n(c,p),n(c,h),n(h,y),n(e,C)},p(k,S){S&1&&s!==(s=k[4].name+"")&&K(a,s),S&1&&f!==(f=k[4].duration+"")&&K(m,f),S&1&&g!==(g=k[4].price+"")&&K(y,g)},d(k){k&&E(e)}}}function wn(l){let e;function t(r,c){if(r[1])return kn;if(r[0])return bn}let s=t(l),a=s&&s(l);return{c(){a&&a.c(),e=He()},m(r,c){a&&a.m(r,c),M(r,e,c)},p(r,[c]){s===(s=t(r))&&a?a.p(r,c):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(e.parentNode,e)))},i:ne,o:ne,d(r){r&&E(e),a&&a.d(r)}}}function yn(){window.history.back()}function Cn(l,e,t){let s=null,a=!0;const r={"new-england":{name:"New England",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200",price:"From $299",description:"Experience the stunning fall foliage and charming coastal towns of New England. From the rocky shores of Maine to the historic streets of Boston, discover the perfect blend of natural beauty and rich history.",highlights:["Stunning fall foliage","Historic coastal towns","Fresh seafood cuisine","Lighthouse tours","Mountain hiking trails"],activities:[{name:"Foliage Tours",duration:"4-6 hours",price:"$89"},{name:"Lighthouse Cruise",duration:"2 hours",price:"$45"},{name:"Historic Walking Tour",duration:"3 hours",price:"$35"},{name:"Seafood Tasting",duration:"2 hours",price:"$65"}],bestTime:"September - November",weather:"Cool, crisp air with colorful foliage"},"aspen-colorado":{name:"Aspen, Colorado",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200",price:"From $450",description:"Discover the luxury mountain resort town of Aspen, famous for world-class skiing, upscale shopping, and breathtaking mountain views. Perfect for both adventure seekers and those looking for relaxation.",highlights:["World-class skiing","Luxury mountain resorts","Art galleries and culture","Fine dining scene","Scenic mountain drives"],activities:[{name:"Ski Lessons",duration:"Full day",price:"$150"},{name:"Mountain Hiking",duration:"4-6 hours",price:"$75"},{name:"Art Gallery Tour",duration:"2 hours",price:"$25"},{name:"Fine Dining Experience",duration:"2-3 hours",price:"$120"}],bestTime:"December - March (skiing), June - September (summer)",weather:"Mountain climate with snow in winter, mild summers"},vermont:{name:"Vermont",image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=1200",price:"From $199",description:"Explore the Green Mountain State with its rolling hills, covered bridges, and charming small towns. Vermont offers a perfect escape into nature with its pristine landscapes and local farm-to-table cuisine.",highlights:["Covered bridges","Maple syrup farms","Rolling green hills","Farm-to-table dining","Artisan cheese tours"],activities:[{name:"Maple Syrup Tour",duration:"2 hours",price:"$25"},{name:"Cheese Farm Visit",duration:"3 hours",price:"$40"},{name:"Covered Bridge Tour",duration:"4 hours",price:"$55"},{name:"Farm-to-Table Dinner",duration:"2 hours",price:"$85"}],bestTime:"May - October",weather:"Mild summers, colorful autumns, snowy winters"},"bali-indonesia":{name:"Bali, Indonesia",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=1200",price:"From $599",description:"Immerse yourself in the tropical paradise of Bali, where ancient temples meet pristine beaches. Experience the unique blend of Hindu culture, lush rice terraces, and world-class resorts.",highlights:["Ancient Hindu temples","Pristine beaches","Rice terrace landscapes","Traditional Balinese culture","Luxury beach resorts"],activities:[{name:"Temple Tour",duration:"6 hours",price:"$45"},{name:"Rice Terrace Trek",duration:"4 hours",price:"$35"},{name:"Beach Yoga Session",duration:"1.5 hours",price:"$25"},{name:"Traditional Cooking Class",duration:"3 hours",price:"$55"}],bestTime:"April - October",weather:"Tropical climate with warm temperatures year-round"},"santorini-greece":{name:"Santorini, Greece",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=1200",price:"From $799",description:"Discover the iconic white-washed buildings and stunning sunsets of Santorini. This volcanic island offers breathtaking views, world-class wines, and some of the most romantic settings in the world.",highlights:["Iconic white buildings","Stunning sunsets","Volcanic landscapes","World-class wines","Romantic cliffside views"],activities:[{name:"Sunset Sailing",duration:"4 hours",price:"$120"},{name:"Wine Tasting Tour",duration:"3 hours",price:"$75"},{name:"Volcano Hiking",duration:"5 hours",price:"$65"},{name:"Photography Tour",duration:"3 hours",price:"$85"}],bestTime:"May - October",weather:"Mediterranean climate with hot, dry summers"},"dubai-uae":{name:"Dubai, UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=1200",price:"From $699",description:"Experience the futuristic skyline and luxury lifestyle of Dubai. From the world's tallest building to pristine beaches, Dubai offers a unique blend of modern architecture and traditional Arabian culture.",highlights:["Burj Khalifa views","Luxury shopping malls","Desert safaris","Pristine beaches","Traditional souks"],activities:[{name:"Burj Khalifa Visit",duration:"2 hours",price:"$95"},{name:"Desert Safari",duration:"6 hours",price:"$120"},{name:"Gold Souk Tour",duration:"3 hours",price:"$45"},{name:"Luxury Shopping",duration:"4 hours",price:"$65"}],bestTime:"November - March",weather:"Desert climate with hot summers, mild winters"},"swiss-alps":{name:"Swiss Alps",image:"https://s1.it.atcdn.net/wp-content/uploads/2015/11/shutterstock_279572969.jpg",price:"From $899",description:"Discover the breathtaking beauty of the Swiss Alps with their pristine snow-capped peaks, charming alpine villages, and world-class ski resorts. Experience the perfect blend of adventure and luxury in one of Europe's most stunning mountain ranges.",highlights:["Snow-capped mountain peaks","World-class ski resorts","Charming alpine villages","Scenic train journeys","Luxury mountain hotels"],activities:[{name:"Skiing & Snowboarding",duration:"Full day",price:"$120"},{name:"Mountain Hiking",duration:"6-8 hours",price:"$85"},{name:"Scenic Train Ride",duration:"4 hours",price:"$95"},{name:"Alpine Village Tour",duration:"3 hours",price:"$65"}],bestTime:"December - March (winter sports), June - September (hiking)",weather:"Alpine climate with cold winters and mild summers"},iceland:{name:"Iceland",image:"https://cdn.britannica.com/06/171306-050-C88DD752/Aurora-borealis-peninsula-Snaefellsnes-Iceland-March-2013.jpg",price:"From $599",description:"Explore the land of fire and ice with its dramatic landscapes, powerful waterfalls, and otherworldly geothermal features. From the Northern Lights to the Blue Lagoon, Iceland offers unforgettable natural wonders.",highlights:["Northern Lights viewing","Geysers and hot springs","Dramatic waterfalls","Glacier landscapes","Blue Lagoon spa"],activities:[{name:"Northern Lights Tour",duration:"3-4 hours",price:"$75"},{name:"Golden Circle Tour",duration:"8 hours",price:"$120"},{name:"Blue Lagoon Visit",duration:"2-3 hours",price:"$85"},{name:"Glacier Hiking",duration:"4 hours",price:"$95"}],bestTime:"September - March (Northern Lights), June - August (midnight sun)",weather:"Subarctic climate with cool summers and cold winters"},"banff-canada":{name:"Banff, Canada",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200",price:"From $399",description:"Experience the stunning beauty of Canada's first national park with its turquoise lakes, towering mountain peaks, and abundant wildlife. Banff offers world-class outdoor adventures in one of the most beautiful settings on Earth.",highlights:["Turquoise glacial lakes","Towering mountain peaks","Abundant wildlife","Hot springs","World-class hiking trails"],activities:[{name:"Lake Louise Visit",duration:"4 hours",price:"$45"},{name:"Banff Gondola Ride",duration:"2 hours",price:"$65"},{name:"Wildlife Viewing Tour",duration:"3 hours",price:"$55"},{name:"Hot Springs Soak",duration:"1-2 hours",price:"$25"}],bestTime:"June - September (hiking), December - March (skiing)",weather:"Mountain climate with cool summers and cold, snowy winters"}};je(()=>{const d=window.location.hash.replace("#destination/","");d&&r[d]?t(0,s=r[d]):t(0,s=r["new-england"]),t(1,a=!1)});function c(){alert(`Booking ${s.name} - ${s.price}`)}return[s,a,c]}class Tn extends De{constructor(e){super(),Ie(this,e,Cn,wn,ze,{})}}function il(l,e,t){const s=l.slice();return s[39]=e[t],s}function al(l,e,t){const s=l.slice();return s[42]=e[t],s}function ol(l,e,t){const s=l.slice();return s[45]=e[t],s}function qn(l){let e,t,s,a,r,c,u,d,f,m,p,h=l[0].name+"",g,y,C,k,S=l[0].location+"",w,D,q,b,z=wl(l[0].date)+"",P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X=l[0].bnb?"Edit":"+ Add BNB",V,ee,G,Z;function $(W,se){return W[0].image?Pn:Sn}let ae=$(l),oe=ae(l);function fe(W,se){return W[3]?zn:Nn}let re=fe(l),ve=re(l);function be(W,se){return W[0].plans&&W[0].plans.length>0?Bn:Fn}let _e=be(l),ce=_e(l);function ke(W,se){return W[0].bnb?Dn:In}let J=ke(l),le=J(l);return{c(){e=o("main"),t=o("div"),s=o("div"),a=o("button"),a.textContent="‚Üê Back",r=v(),c=o("div"),oe.c(),u=v(),d=o("div"),f=o("div"),ve.c(),m=v(),p=o("h1"),g=j(h),y=v(),C=o("p"),k=j("üìç "),w=j(S),D=v(),q=o("p"),b=j("üìÖ "),P=j(z),I=v(),O=o("section"),F=o("div"),A=o("h2"),A.textContent="Plans & Activities",N=v(),_=o("button"),_.textContent="+ Add Plan",L=v(),ce.c(),R=v(),B=o("section"),T=o("div"),H=o("h2"),H.textContent="Accommodation (BNB)",Q=v(),Y=o("button"),V=j(X),ee=v(),le.c(),i(a,"class","btn-back svelte-cz5qs"),i(f,"class","trip-status-badge svelte-cz5qs"),i(p,"class","svelte-cz5qs"),i(C,"class","trip-location svelte-cz5qs"),i(q,"class","trip-date svelte-cz5qs"),i(d,"class","trip-info svelte-cz5qs"),i(c,"class","trip-hero svelte-cz5qs"),i(s,"class","trip-header svelte-cz5qs"),i(A,"class","svelte-cz5qs"),i(_,"class","btn-add svelte-cz5qs"),i(F,"class","section-header svelte-cz5qs"),i(O,"class","section svelte-cz5qs"),i(H,"class","svelte-cz5qs"),i(Y,"class","btn-add svelte-cz5qs"),i(T,"class","section-header svelte-cz5qs"),i(B,"class","section svelte-cz5qs"),i(t,"class","container svelte-cz5qs"),i(e,"class","trip-detail-page svelte-cz5qs")},m(W,se){M(W,e,se),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),oe.m(c,null),n(c,u),n(c,d),n(d,f),ve.m(f,null),n(d,m),n(d,p),n(p,g),n(d,y),n(d,C),n(C,k),n(C,w),n(d,D),n(d,q),n(q,b),n(q,P),n(t,I),n(t,O),n(O,F),n(F,A),n(F,N),n(F,_),n(O,L),ce.m(O,null),n(t,R),n(t,B),n(B,T),n(T,H),n(T,Q),n(T,Y),n(Y,V),n(B,ee),le.m(B,null),G||(Z=[U(a,"click",Kl),U(_,"click",l[16]),U(Y,"click",l[20])],G=!0)},p(W,se){ae===(ae=$(W))&&oe?oe.p(W,se):(oe.d(1),oe=ae(W),oe&&(oe.c(),oe.m(c,u))),re!==(re=fe(W))&&(ve.d(1),ve=re(W),ve&&(ve.c(),ve.m(f,null))),se[0]&1&&h!==(h=W[0].name+"")&&K(g,h),se[0]&1&&S!==(S=W[0].location+"")&&K(w,S),se[0]&1&&z!==(z=wl(W[0].date)+"")&&K(P,z),_e===(_e=be(W))&&ce?ce.p(W,se):(ce.d(1),ce=_e(W),ce&&(ce.c(),ce.m(O,null))),se[0]&1&&X!==(X=W[0].bnb?"Edit":"+ Add BNB")&&K(V,X),J===(J=ke(W))&&le?le.p(W,se):(le.d(1),le=J(W),le&&(le.c(),le.m(B,null)))},d(W){W&&E(e),oe.d(),ve.d(),ce.d(),le.d(),G=!1,ye(Z)}}}function An(l){let e,t,s,a,r,c,u,d,f,m,p;return{c(){e=o("main"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Error",r=v(),c=o("p"),u=j(l[2]),d=v(),f=o("button"),f.textContent="Go Back",i(f,"class","btn-back svelte-cz5qs"),i(s,"class","error-state svelte-cz5qs"),i(t,"class","container svelte-cz5qs"),i(e,"class","trip-detail-page svelte-cz5qs")},m(h,g){M(h,e,g),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(c,u),n(s,d),n(s,f),m||(p=U(f,"click",Kl),m=!0)},p(h,g){g[0]&4&&K(u,h[2])},d(h){h&&E(e),m=!1,p()}}}function Ln(l){let e;return{c(){e=o("main"),e.innerHTML='<div class="container svelte-cz5qs"><div class="loading-state svelte-cz5qs"><div class="spinner svelte-cz5qs">‚è≥</div> <p>Loading trip details...</p></div></div>',i(e,"class","trip-detail-page svelte-cz5qs")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Sn(l){let e;return{c(){e=o("div"),i(e,"class","trip-image svelte-cz5qs"),Oe(e,"background-image","url('https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=1200')")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Pn(l){let e,t;return{c(){e=o("div"),i(e,"class","trip-image svelte-cz5qs"),i(e,"style",t=`background-image: url('${l[0].image}')`)},m(s,a){M(s,e,a)},p(s,a){a[0]&1&&t!==(t=`background-image: url('${s[0].image}')`)&&i(e,"style",t)},d(s){s&&E(e)}}}function Nn(l){let e;return{c(){e=o("span"),e.textContent="üìù Planned Trip",i(e,"class","status-planned svelte-cz5qs")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function zn(l){let e;return{c(){e=o("span"),e.textContent="‚úì Completed Trip",i(e,"class","status-completed svelte-cz5qs")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Fn(l){let e;return{c(){e=o("div"),e.innerHTML="<p>No plans yet. Add your first plan!</p>",i(e,"class","empty-state svelte-cz5qs")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Bn(l){let e,t=pe(l[0].plans),s=[];for(let a=0;a<t.length;a+=1)s[a]=cl(ol(l,t,a));return{c(){e=o("div");for(let a=0;a<s.length;a+=1)s[a].c();i(e,"class","plans-grid svelte-cz5qs")},m(a,r){M(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(a,r){if(r[0]&524289){t=pe(a[0].plans);let c;for(c=0;c<t.length;c+=1){const u=ol(a,t,c);s[c]?s[c].p(u,r):(s[c]=cl(u),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=t.length}},d(a){a&&E(e),Ce(s,a)}}}function rl(l){let e,t=l[45].activity+"",s;return{c(){e=o("p"),s=j(t),i(e,"class","svelte-cz5qs")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r[0]&1&&t!==(t=a[45].activity+"")&&K(s,t)},d(a){a&&E(e)}}}function cl(l){let e,t,s,a=l[45].name+"",r,c,u,d,f,m,p,h=l[45].activity&&rl(l);function g(){return l[29](l[45])}return{c(){e=o("div"),t=o("div"),s=o("h3"),r=j(a),c=v(),h&&h.c(),u=v(),d=o("button"),d.textContent="Delete",f=v(),i(s,"class","svelte-cz5qs"),i(t,"class","plan-content svelte-cz5qs"),i(d,"class","btn-delete svelte-cz5qs"),i(e,"class","plan-card svelte-cz5qs")},m(y,C){M(y,e,C),n(e,t),n(t,s),n(s,r),n(t,c),h&&h.m(t,null),n(e,u),n(e,d),n(e,f),m||(p=U(d,"click",g),m=!0)},p(y,C){l=y,C[0]&1&&a!==(a=l[45].name+"")&&K(r,a),l[45].activity?h?h.p(l,C):(h=rl(l),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},d(y){y&&E(e),h&&h.d(),m=!1,p()}}}function In(l){let e;return{c(){e=o("div"),e.innerHTML="<p>No accommodation added yet. Add your BNB!</p>",i(e,"class","empty-state svelte-cz5qs")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Dn(l){let e,t,s,a=l[0].bnb.name+"",r,c,u,d,f=l[0].bnb.address+"",m,p,h,g=l[0].bnb.availability?"‚úÖ Available":"‚ùå Not Available",y,C,k,S=l[0].bnb.average_rating&&l[3]&&ul(l);function w(b,z){return b[3]?Mn:En}let D=w(l),q=D(l);return{c(){e=o("div"),t=o("div"),s=o("h3"),r=j(a),c=v(),u=o("p"),d=j("üìç "),m=j(f),p=v(),h=o("p"),y=j(g),C=v(),S&&S.c(),k=v(),q.c(),i(s,"class","svelte-cz5qs"),i(u,"class","bnb-address svelte-cz5qs"),i(h,"class","bnb-availability svelte-cz5qs"),i(t,"class","bnb-info svelte-cz5qs"),i(e,"class","bnb-card svelte-cz5qs")},m(b,z){M(b,e,z),n(e,t),n(t,s),n(s,r),n(t,c),n(t,u),n(u,d),n(u,m),n(t,p),n(t,h),n(h,y),n(t,C),S&&S.m(t,null),n(e,k),q.m(e,null)},p(b,z){z[0]&1&&a!==(a=b[0].bnb.name+"")&&K(r,a),z[0]&1&&f!==(f=b[0].bnb.address+"")&&K(m,f),z[0]&1&&g!==(g=b[0].bnb.availability?"‚úÖ Available":"‚ùå Not Available")&&K(y,g),b[0].bnb.average_rating&&b[3]?S?S.p(b,z):(S=ul(b),S.c(),S.m(t,null)):S&&(S.d(1),S=null),D===(D=w(b))&&q?q.p(b,z):(q.d(1),q=D(b),q&&(q.c(),q.m(e,null)))},d(b){b&&E(e),S&&S.d(),q.d()}}}function ul(l){let e,t,s=l[0].bnb.average_rating+"",a,r;return{c(){e=o("p"),t=j("‚≠ê "),a=j(s),r=j("/5.0"),i(e,"class","bnb-rating svelte-cz5qs")},m(c,u){M(c,e,u),n(e,t),n(e,a),n(e,r)},p(c,u){u[0]&1&&s!==(s=c[0].bnb.average_rating+"")&&K(a,s)},d(c){c&&E(e)}}}function En(l){let e;return{c(){e=o("div"),e.innerHTML='<p class="svelte-cz5qs">üí° Complete this trip to add ratings and reviews for your accommodation!</p>',i(e,"class","info-message svelte-cz5qs")},m(t,s){M(t,e,s)},p:ne,d(t){t&&E(e)}}}function Mn(l){let e,t,s,a,r,c=l[0].bnb.ratings&&l[0].bnb.ratings.length>0&&fl(l),u=l[0].bnb.reviews&&l[0].bnb.reviews.length>0&&pl(l);return{c(){c&&c.c(),e=v(),u&&u.c(),t=v(),s=o("button"),s.textContent="+ Add Review",i(s,"class","btn-add-review svelte-cz5qs")},m(d,f){c&&c.m(d,f),M(d,e,f),u&&u.m(d,f),M(d,t,f),M(d,s,f),a||(r=U(s,"click",l[23]),a=!0)},p(d,f){d[0].bnb.ratings&&d[0].bnb.ratings.length>0?c?c.p(d,f):(c=fl(d),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),d[0].bnb.reviews&&d[0].bnb.reviews.length>0?u?u.p(d,f):(u=pl(d),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null)},d(d){d&&(E(e),E(t),E(s)),c&&c.d(d),u&&u.d(d),a=!1,r()}}}function fl(l){let e,t,s,a,r=pe(l[0].bnb.ratings),c=[];for(let u=0;u<r.length;u+=1)c[u]=dl(al(l,r,u));return{c(){e=o("div"),t=o("h4"),t.textContent="Ratings",s=v(),a=o("div");for(let u=0;u<c.length;u+=1)c[u].c();i(t,"class","svelte-cz5qs"),i(a,"class","ratings-list svelte-cz5qs"),i(e,"class","ratings-section svelte-cz5qs")},m(u,d){M(u,e,d),n(e,t),n(e,s),n(e,a);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(a,null)},p(u,d){if(d[0]&1){r=pe(u[0].bnb.ratings);let f;for(f=0;f<r.length;f+=1){const m=al(u,r,f);c[f]?c[f].p(m,d):(c[f]=dl(m),c[f].c(),c[f].m(a,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=r.length}},d(u){u&&E(e),Ce(c,u)}}}function dl(l){let e,t,s=l[42].value+"",a,r;return{c(){e=o("span"),t=j("‚≠ê "),a=j(s),r=j("/5"),i(e,"class","rating-badge svelte-cz5qs")},m(c,u){M(c,e,u),n(e,t),n(e,a),n(e,r)},p(c,u){u[0]&1&&s!==(s=c[42].value+"")&&K(a,s)},d(c){c&&E(e)}}}function pl(l){let e,t,s,a,r=pe(l[0].bnb.reviews),c=[];for(let u=0;u<r.length;u+=1)c[u]=ml(il(l,r,u));return{c(){e=o("div"),t=o("h4"),t.textContent="Reviews",s=v(),a=o("div");for(let u=0;u<c.length;u+=1)c[u].c();i(t,"class","svelte-cz5qs"),i(a,"class","reviews-list svelte-cz5qs"),i(e,"class","reviews-section svelte-cz5qs")},m(u,d){M(u,e,d),n(e,t),n(e,s),n(e,a);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(a,null)},p(u,d){if(d[0]&1){r=pe(u[0].bnb.reviews);let f;for(f=0;f<r.length;f+=1){const m=il(u,r,f);c[f]?c[f].p(m,d):(c[f]=ml(m),c[f].c(),c[f].m(a,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=r.length}},d(u){u&&E(e),Ce(c,u)}}}function ml(l){let e,t,s=l[39].statement+"",a,r;return{c(){e=o("div"),t=o("p"),a=j(s),r=v(),i(t,"class","svelte-cz5qs"),i(e,"class","review-item svelte-cz5qs")},m(c,u){M(c,e,u),n(e,t),n(t,a),n(e,r)},p(c,u){u[0]&1&&s!==(s=c[39].statement+"")&&K(a,s)},d(c){c&&E(e)}}}function hl(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O=l[7]?"Adding...":"Add Plan",F,A,N,_=l[6]&&vl(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Add Plan",r=v(),c=o("button"),c.textContent="√ó",u=v(),d=o("form"),_&&_.c(),f=v(),m=o("div"),p=o("label"),p.textContent="Plan Name *",h=v(),g=o("input"),y=v(),C=o("div"),k=o("label"),k.textContent="Activity Details",S=v(),w=o("textarea"),D=v(),q=o("div"),b=o("button"),z=j("Cancel"),P=v(),I=o("button"),F=j(O),i(a,"class","svelte-cz5qs"),i(c,"class","modal-close svelte-cz5qs"),i(s,"class","modal-header svelte-cz5qs"),i(p,"class","svelte-cz5qs"),i(g,"type","text"),g.required=!0,g.disabled=l[7],i(g,"class","svelte-cz5qs"),i(m,"class","form-group svelte-cz5qs"),i(k,"class","svelte-cz5qs"),w.disabled=l[7],i(w,"rows","4"),i(w,"class","svelte-cz5qs"),i(C,"class","form-group svelte-cz5qs"),i(b,"type","button"),i(b,"class","btn-cancel svelte-cz5qs"),b.disabled=l[7],i(I,"type","submit"),i(I,"class","btn-submit svelte-cz5qs"),I.disabled=l[7],i(q,"class","form-actions svelte-cz5qs"),i(d,"class","form svelte-cz5qs"),i(t,"class","modal-content svelte-cz5qs"),i(e,"class","modal-overlay svelte-cz5qs")},m(L,R){M(L,e,R),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(t,u),n(t,d),_&&_.m(d,null),n(d,f),n(d,m),n(m,p),n(m,h),n(m,g),te(g,l[5].name),n(d,y),n(d,C),n(C,k),n(C,S),n(C,w),te(w,l[5].activity),n(d,D),n(d,q),n(q,b),n(b,z),n(q,P),n(q,I),n(I,F),A||(N=[U(c,"click",l[17]),U(g,"input",l[30]),U(w,"input",l[31]),U(b,"click",l[17]),U(d,"submit",Re(l[18])),U(t,"click",tt(l[28])),U(e,"click",l[17])],A=!0)},p(L,R){L[6]?_?_.p(L,R):(_=vl(L),_.c(),_.m(d,f)):_&&(_.d(1),_=null),R[0]&128&&(g.disabled=L[7]),R[0]&32&&g.value!==L[5].name&&te(g,L[5].name),R[0]&128&&(w.disabled=L[7]),R[0]&32&&te(w,L[5].activity),R[0]&128&&(b.disabled=L[7]),R[0]&128&&O!==(O=L[7]?"Adding...":"Add Plan")&&K(F,O),R[0]&128&&(I.disabled=L[7])},d(L){L&&E(e),_&&_.d(),A=!1,ye(N)}}}function vl(l){let e,t;return{c(){e=o("div"),t=j(l[6]),i(e,"class","form-error svelte-cz5qs")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a[0]&64&&K(t,s[6])},d(s){s&&E(e)}}}function gl(l){let e,t,s,a,r=l[0].bnb?"Edit":"Add",c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B,T=l[11]?"Saving...":"Save",H,Q,Y,X=l[10]&&_l(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),c=j(r),u=j(" BNB"),d=v(),f=o("button"),f.textContent="√ó",m=v(),p=o("form"),X&&X.c(),h=v(),g=o("div"),y=o("label"),y.textContent="BNB Name *",C=v(),k=o("input"),S=v(),w=o("div"),D=o("label"),D.textContent="Address *",q=v(),b=o("input"),z=v(),P=o("div"),I=o("label"),O=o("input"),F=j(`
            Available`),A=v(),N=o("div"),_=o("button"),L=j("Cancel"),R=v(),B=o("button"),H=j(T),i(a,"class","svelte-cz5qs"),i(f,"class","modal-close svelte-cz5qs"),i(s,"class","modal-header svelte-cz5qs"),i(y,"class","svelte-cz5qs"),i(k,"type","text"),k.required=!0,k.disabled=l[11],i(k,"class","svelte-cz5qs"),i(g,"class","form-group svelte-cz5qs"),i(D,"class","svelte-cz5qs"),i(b,"type","text"),b.required=!0,b.disabled=l[11],i(b,"class","svelte-cz5qs"),i(w,"class","form-group svelte-cz5qs"),i(O,"type","checkbox"),O.disabled=l[11],i(O,"class","svelte-cz5qs"),i(I,"class","svelte-cz5qs"),i(P,"class","form-group svelte-cz5qs"),i(_,"type","button"),i(_,"class","btn-cancel svelte-cz5qs"),_.disabled=l[11],i(B,"type","submit"),i(B,"class","btn-submit svelte-cz5qs"),B.disabled=l[11],i(N,"class","form-actions svelte-cz5qs"),i(p,"class","form svelte-cz5qs"),i(t,"class","modal-content svelte-cz5qs"),i(e,"class","modal-overlay svelte-cz5qs")},m(V,ee){M(V,e,ee),n(e,t),n(t,s),n(s,a),n(a,c),n(a,u),n(s,d),n(s,f),n(t,m),n(t,p),X&&X.m(p,null),n(p,h),n(p,g),n(g,y),n(g,C),n(g,k),te(k,l[9].name),n(p,S),n(p,w),n(w,D),n(w,q),n(w,b),te(b,l[9].address),n(p,z),n(p,P),n(P,I),n(I,O),O.checked=l[9].availability,n(I,F),n(p,A),n(p,N),n(N,_),n(_,L),n(N,R),n(N,B),n(B,H),Q||(Y=[U(f,"click",l[21]),U(k,"input",l[32]),U(b,"input",l[33]),U(O,"change",l[34]),U(_,"click",l[21]),U(p,"submit",Re(l[22])),U(t,"click",tt(l[27])),U(e,"click",l[21])],Q=!0)},p(V,ee){ee[0]&1&&r!==(r=V[0].bnb?"Edit":"Add")&&K(c,r),V[10]?X?X.p(V,ee):(X=_l(V),X.c(),X.m(p,h)):X&&(X.d(1),X=null),ee[0]&2048&&(k.disabled=V[11]),ee[0]&512&&k.value!==V[9].name&&te(k,V[9].name),ee[0]&2048&&(b.disabled=V[11]),ee[0]&512&&b.value!==V[9].address&&te(b,V[9].address),ee[0]&2048&&(O.disabled=V[11]),ee[0]&512&&(O.checked=V[9].availability),ee[0]&2048&&(_.disabled=V[11]),ee[0]&2048&&T!==(T=V[11]?"Saving...":"Save")&&K(H,T),ee[0]&2048&&(B.disabled=V[11])},d(V){V&&E(e),X&&X.d(),Q=!1,ye(Y)}}}function _l(l){let e,t;return{c(){e=o("div"),t=j(l[10]),i(e,"class","form-error svelte-cz5qs")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a[0]&1024&&K(t,s[10])},d(s){s&&E(e)}}}function bl(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O=l[15]?"Adding...":"Add Review",F,A,N,_=l[14]&&kl(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Add Review",r=v(),c=o("button"),c.textContent="√ó",u=v(),d=o("form"),_&&_.c(),f=v(),m=o("div"),p=o("label"),p.textContent="Rating (1-5) *",h=v(),g=o("input"),y=v(),C=o("div"),k=o("label"),k.textContent="Review Statement *",S=v(),w=o("textarea"),D=v(),q=o("div"),b=o("button"),z=j("Cancel"),P=v(),I=o("button"),F=j(O),i(a,"class","svelte-cz5qs"),i(c,"class","modal-close svelte-cz5qs"),i(s,"class","modal-header svelte-cz5qs"),i(p,"class","svelte-cz5qs"),i(g,"type","number"),i(g,"min","1"),i(g,"max","5"),g.required=!0,g.disabled=l[15],i(g,"class","svelte-cz5qs"),i(m,"class","form-group svelte-cz5qs"),i(k,"class","svelte-cz5qs"),w.required=!0,w.disabled=l[15],i(w,"rows","4"),i(w,"class","svelte-cz5qs"),i(C,"class","form-group svelte-cz5qs"),i(b,"type","button"),i(b,"class","btn-cancel svelte-cz5qs"),b.disabled=l[15],i(I,"type","submit"),i(I,"class","btn-submit svelte-cz5qs"),I.disabled=l[15],i(q,"class","form-actions svelte-cz5qs"),i(d,"class","form svelte-cz5qs"),i(t,"class","modal-content svelte-cz5qs"),i(e,"class","modal-overlay svelte-cz5qs")},m(L,R){M(L,e,R),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(t,u),n(t,d),_&&_.m(d,null),n(d,f),n(d,m),n(m,p),n(m,h),n(m,g),te(g,l[13].rating_value),n(d,y),n(d,C),n(C,k),n(C,S),n(C,w),te(w,l[13].statement),n(d,D),n(d,q),n(q,b),n(b,z),n(q,P),n(q,I),n(I,F),A||(N=[U(c,"click",l[24]),U(g,"input",l[35]),U(w,"input",l[36]),U(b,"click",l[24]),U(d,"submit",Re(l[25])),U(t,"click",tt(l[26])),U(e,"click",l[24])],A=!0)},p(L,R){L[14]?_?_.p(L,R):(_=kl(L),_.c(),_.m(d,f)):_&&(_.d(1),_=null),R[0]&32768&&(g.disabled=L[15]),R[0]&8192&&Jl(g.value)!==L[13].rating_value&&te(g,L[13].rating_value),R[0]&32768&&(w.disabled=L[15]),R[0]&8192&&te(w,L[13].statement),R[0]&32768&&(b.disabled=L[15]),R[0]&32768&&O!==(O=L[15]?"Adding...":"Add Review")&&K(F,O),R[0]&32768&&(I.disabled=L[15])},d(L){L&&E(e),_&&_.d(),A=!1,ye(N)}}}function kl(l){let e,t;return{c(){e=o("div"),t=j(l[14]),i(e,"class","form-error svelte-cz5qs")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a[0]&16384&&K(t,s[14])},d(s){s&&E(e)}}}function jn(l){let e,t,s,a;function r(p,h){if(p[1])return Ln;if(p[2])return An;if(p[0])return qn}let c=r(l),u=c&&c(l),d=l[4]&&hl(l),f=l[8]&&gl(l),m=l[12]&&l[0].bnb&&l[3]&&bl(l);return{c(){u&&u.c(),e=v(),d&&d.c(),t=v(),f&&f.c(),s=v(),m&&m.c(),a=He()},m(p,h){u&&u.m(p,h),M(p,e,h),d&&d.m(p,h),M(p,t,h),f&&f.m(p,h),M(p,s,h),m&&m.m(p,h),M(p,a,h)},p(p,h){c===(c=r(p))&&u?u.p(p,h):(u&&u.d(1),u=c&&c(p),u&&(u.c(),u.m(e.parentNode,e))),p[4]?d?d.p(p,h):(d=hl(p),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),p[8]?f?f.p(p,h):(f=gl(p),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null),p[12]&&p[0].bnb&&p[3]?m?m.p(p,h):(m=bl(p),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null)},i:ne,o:ne,d(p){p&&(E(e),E(t),E(s),E(a)),u&&u.d(p),d&&d.d(p),f&&f.d(p),m&&m.d(p)}}}function Kl(){window.history.back()}function wl(l){return l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set"}function On(l,e,t){let s=null,a=null,r=!0,c=null,u=!1,d=!1,f={name:"",activity:""},m=null,p=!1,h=!1,g={name:"",address:"",availability:!0},y=null,C=!1,k=!1,S={statement:"",rating_value:5},w=null,D=!1;je(()=>{const ae=window.location.hash.match(/trip\/(\d+)/);ae?(s=parseInt(ae[1]),q()):(t(2,c="Invalid trip ID"),t(1,r=!1))});async function q(){t(1,r=!0),t(2,c=null);try{const $=await qs(s);$.success&&(t(0,a=$.trip),t(3,u=$.trip.is_completed||!1))}catch($){console.error("Error loading trip:",$),t(2,c=$.message||"Failed to load trip")}finally{t(1,r=!1)}}function b(){t(4,d=!0),t(5,f={name:"",activity:""}),t(6,m=null)}function z(){t(4,d=!1),t(5,f={name:"",activity:""}),t(6,m=null)}async function P(){if(t(6,m=null),t(7,p=!0),!f.name){t(6,m="Plan name is required"),t(7,p=!1);return}try{(await As(s,f)).success&&(z(),await q())}catch($){t(6,m=$.message||"Failed to create plan")}finally{t(7,p=!1)}}async function I($){if(confirm("Are you sure you want to delete this plan?"))try{await Ls($),await q()}catch(ae){alert(ae.message||"Failed to delete plan")}}function O(){a.bnb?t(9,g={name:a.bnb.name,address:a.bnb.address,availability:a.bnb.availability}):t(9,g={name:"",address:"",availability:!0}),t(8,h=!0),t(10,y=null)}function F(){t(8,h=!1),t(9,g={name:"",address:"",availability:!0}),t(10,y=null)}async function A(){if(t(10,y=null),t(11,C=!0),!g.name||!g.address){t(10,y="Name and address are required"),t(11,C=!1);return}try{a.bnb?await Ps(a.bnb.id,g):await Ss(s,g),F(),await q()}catch($){t(10,y=$.message||"Failed to save BNB")}finally{t(11,C=!1)}}function N(){t(12,k=!0),t(13,S={statement:"",rating_value:5}),t(14,w=null)}function _(){t(12,k=!1),t(13,S={statement:"",rating_value:5}),t(14,w=null)}async function L(){if(t(14,w=null),t(15,D=!0),!S.statement){t(14,w="Review statement is required"),t(15,D=!1);return}try{const $=await Ns(a.bnb.id,S.rating_value);$.success&&(await zs(a.bnb.id,{statement:S.statement,rating_id:$.rating.id}),_(),await q())}catch($){t(14,w=$.message||"Failed to add review")}finally{t(15,D=!1)}}function R($){xe.call(this,l,$)}function B($){xe.call(this,l,$)}function T($){xe.call(this,l,$)}const H=$=>I($.id);function Q(){f.name=this.value,t(5,f)}function Y(){f.activity=this.value,t(5,f)}function X(){g.name=this.value,t(9,g)}function V(){g.address=this.value,t(9,g)}function ee(){g.availability=this.checked,t(9,g)}function G(){S.rating_value=Jl(this.value),t(13,S)}function Z(){S.statement=this.value,t(13,S)}return[a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,b,z,P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X,V,ee,G,Z]}class Hn extends De{constructor(e){super(),Ie(this,e,On,jn,ze,{},null,[-1,-1])}}function yl(l,e,t){const s=l.slice();return s[10]=e[t],s}function Cl(l){let e;return{c(){e=o("span"),e.textContent="New",i(e,"class","chat-badge svelte-1nvcu37")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Tl(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w=pe(l[1]),D=[];for(let b=0;b<w.length;b+=1)D[b]=ql(yl(l,w,b));let q=l[3]&&Al();return{c(){e=o("div"),t=o("div"),s=o("div"),s.innerHTML='<span class="chat-avatar svelte-1nvcu37">ü§ñ</span> <div class="chat-info svelte-1nvcu37"><h3 class="svelte-1nvcu37">PINPOINT Assistant</h3> <span class="chat-status svelte-1nvcu37">Online</span></div>',a=v(),r=o("button"),r.textContent="√ó",c=v(),u=o("div");for(let b=0;b<D.length;b+=1)D[b].c();d=v(),q&&q.c(),f=v(),m=o("div"),p=o("input"),h=v(),g=o("button"),y=o("span"),y.textContent="üì§",i(s,"class","chat-title svelte-1nvcu37"),i(r,"class","chat-close svelte-1nvcu37"),i(t,"class","chat-header svelte-1nvcu37"),i(u,"class","chat-messages svelte-1nvcu37"),i(p,"type","text"),i(p,"placeholder","Type your message..."),p.disabled=l[3],i(p,"class","svelte-1nvcu37"),i(y,"class","send-icon svelte-1nvcu37"),i(g,"class","send-btn svelte-1nvcu37"),g.disabled=C=l[3]||!l[2].trim(),i(m,"class","chat-input svelte-1nvcu37"),i(e,"class","chat-window svelte-1nvcu37")},m(b,z){M(b,e,z),n(e,t),n(t,s),n(t,a),n(t,r),n(e,c),n(e,u);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(u,null);n(u,d),q&&q.m(u,null),l[8](u),n(e,f),n(e,m),n(m,p),te(p,l[2]),n(m,h),n(m,g),n(g,y),k||(S=[U(r,"click",l[5]),U(p,"input",l[9]),U(p,"keypress",l[7]),U(g,"click",l[6])],k=!0)},p(b,z){if(z&2){w=pe(b[1]);let P;for(P=0;P<w.length;P+=1){const I=yl(b,w,P);D[P]?D[P].p(I,z):(D[P]=ql(I),D[P].c(),D[P].m(u,d))}for(;P<D.length;P+=1)D[P].d(1);D.length=w.length}b[3]?q||(q=Al(),q.c(),q.m(u,null)):q&&(q.d(1),q=null),z&8&&(p.disabled=b[3]),z&4&&p.value!==b[2]&&te(p,b[2]),z&12&&C!==(C=b[3]||!b[2].trim())&&(g.disabled=C)},d(b){b&&E(e),Ce(D,b),q&&q.d(),l[8](null),k=!1,ye(S)}}}function ql(l){let e,t,s,a=l[10].text+"",r,c,u,d=Ll(l[10].timestamp)+"",f,m;return{c(){e=o("div"),t=o("div"),s=o("div"),r=j(a),c=v(),u=o("div"),f=j(d),i(s,"class","message-text svelte-1nvcu37"),i(u,"class","message-time svelte-1nvcu37"),i(t,"class","message-content svelte-1nvcu37"),i(e,"class",m="message "+l[10].sender+" svelte-1nvcu37")},m(p,h){M(p,e,h),n(e,t),n(t,s),n(s,r),n(t,c),n(t,u),n(u,f)},p(p,h){h&2&&a!==(a=p[10].text+"")&&K(r,a),h&2&&d!==(d=Ll(p[10].timestamp)+"")&&K(f,d),h&2&&m!==(m="message "+p[10].sender+" svelte-1nvcu37")&&i(e,"class",m)},d(p){p&&E(e)}}}function Al(l){let e;return{c(){e=o("div"),e.innerHTML='<div class="message-content svelte-1nvcu37"><div class="typing-indicator svelte-1nvcu37"><span class="svelte-1nvcu37"></span> <span class="svelte-1nvcu37"></span> <span class="svelte-1nvcu37"></span></div></div>',i(e,"class","message ai svelte-1nvcu37")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Rn(l){let e,t,s,a,r,c,u,d,f,m=!l[0]&&Cl(),p=l[0]&&Tl(l);return{c(){e=o("div"),t=o("button"),s=o("span"),s.textContent="üí¨",a=v(),r=o("span"),r.textContent="AI Assistant",c=v(),m&&m.c(),u=v(),p&&p.c(),i(s,"class","chat-icon svelte-1nvcu37"),i(r,"class","chat-text"),i(t,"class","chat-toggle svelte-1nvcu37"),Pe(t,"open",l[0]),i(e,"class","chat-widget svelte-1nvcu37")},m(h,g){M(h,e,g),n(e,t),n(t,s),n(t,a),n(t,r),n(t,c),m&&m.m(t,null),n(e,u),p&&p.m(e,null),d||(f=U(t,"click",l[5]),d=!0)},p(h,[g]){h[0]?m&&(m.d(1),m=null):m||(m=Cl(),m.c(),m.m(t,null)),g&1&&Pe(t,"open",h[0]),h[0]?p?p.p(h,g):(p=Tl(h),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:ne,o:ne,d(h){h&&E(e),m&&m.d(),p&&p.d(),d=!1,f()}}}function Un(l){const e=l.toLowerCase();if(e.includes("bucket list")||e.includes("add")||e.includes("destination"))return"To add items to your bucket list, go to the Bucket List page and click 'Add New Item'. You can categorize destinations by Beaches, Cities, Mountains, Adventure, or Romantic experiences. Set priority levels to help organize your travel goals!";if(e.includes("complete")||e.includes("finished")||e.includes("done"))return"To mark a trip as complete, hover over the item's image and click the circular button. Completed trips automatically move to your My Trips page where you can see all your travel achievements!";if(e.includes("search")||e.includes("filter")||e.includes("find"))return"Use the search bar on the Bucket List page to find items by title or description. You can also click category filters (Beaches, Cities, etc.) to narrow down your list by interest.";if(e.includes("profile")||e.includes("account")||e.includes("settings"))return"Visit the Profile page to update your information, add a profile picture, and customize your preferences. This helps personalize your PINPOINT experience!";if(e.includes("travel")||e.includes("trip")||e.includes("vacation"))return"PINPOINT is perfect for planning your travel adventures! Start by exploring destinations on the Home page, add them to your bucket list, and track your completed trips. What kind of travel experience are you looking for?";if(e.includes("help")||e.includes("how")||e.includes("what"))return"I'm here to help! You can ask me about using PINPOINT features, travel planning tips, or general questions. Try asking about bucket lists, completed trips, or how to organize your travel goals.";const t=["That's a great question! PINPOINT helps you organize and track your travel dreams. You can create bucket lists, mark trips as complete, and see your travel statistics. What would you like to know more about?","I'd be happy to help you with that! PINPOINT offers features like bucket list management, trip tracking, and travel organization. Feel free to ask me about any specific feature you'd like to learn about.","Thanks for your question! PINPOINT is designed to make travel planning fun and organized. You can explore destinations, build your bucket list, and celebrate completed adventures. How can I assist you further?"];return t[Math.floor(Math.random()*t.length)]}function Ll(l){return l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function Wn(l,e,t){let s=!1,a=[],r="",c=!1,u;je(()=>{t(1,a=[{id:1,text:"Hi! I'm your PINPOINT travel assistant. I can help you with questions about using the website, travel planning tips, or general travel advice. How can I help you today?",sender:"ai",timestamp:new Date}])});function d(){t(0,s=!s)}async function f(){if(!r.trim()||c)return;const g={id:Date.now(),text:r,sender:"user",timestamp:new Date};t(1,a=[...a,g]),t(2,r=""),t(3,c=!0),setTimeout(()=>{const y=Un(g.text),C={id:Date.now()+1,text:y,sender:"ai",timestamp:new Date};t(1,a=[...a,C]),t(3,c=!1),setTimeout(()=>{u&&t(4,u.scrollTop=u.scrollHeight,u)},100)},1e3)}function m(g){g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())}function p(g){ut[g?"unshift":"push"](()=>{u=g,t(4,u)})}function h(){r=this.value,t(2,r)}return[s,a,r,c,u,d,f,m,p,h]}class Gn extends De{constructor(e){super(),Ie(this,e,Wn,Rn,ze,{})}}function Sl(l,e,t){const s=l.slice();return s[6]=e[t],s[8]=t,s}function Pl(l,e,t){const s=l.slice();s[9]=e[t],s[12]=t;const a=`${s[8]}-${s[12]}`;return s[10]=a,s}function Nl(l,e,t){const s=l.slice();return s[13]=e[t],s}function zl(l){let e,t,s,a,r,c,u,d;return{c(){e=o("div"),t=o("div"),t.textContent=`${l[13].icon}`,s=v(),a=o("div"),r=o("h3"),r.textContent=`${l[13].title}`,c=v(),u=o("p"),u.textContent=`${l[13].description}`,d=v(),i(t,"class","step-icon svelte-10dnoj4"),i(r,"class","svelte-10dnoj4"),i(u,"class","svelte-10dnoj4"),i(a,"class","step-content svelte-10dnoj4"),i(e,"class","step-item svelte-10dnoj4")},m(f,m){M(f,e,m),n(e,t),n(e,s),n(e,a),n(a,r),n(a,c),n(a,u),n(e,d)},p:ne,d(f){f&&E(e)}}}function Fl(l){let e,t;return{c(){e=o("div"),t=o("p"),t.textContent=`${l[9].a}`,i(t,"class","svelte-10dnoj4"),i(e,"class","answer svelte-10dnoj4")},m(s,a){M(s,e,a),n(e,t)},p:ne,d(s){s&&E(e)}}}function Bl(l){let e,t,s,a,r,c=l[0]===l[10]?"‚àí":"+",u,d,f,m,p,h;function g(){return l[4](l[8],l[12])}let y=l[0]===l[10]&&Fl(l);return{c(){e=o("div"),t=o("button"),s=o("span"),s.textContent=`${l[9].q}`,a=v(),r=o("span"),u=j(c),f=v(),y&&y.c(),m=v(),i(s,"class","question-text svelte-10dnoj4"),i(r,"class","question-icon svelte-10dnoj4"),i(t,"class",d="question-btn "+(l[0]===l[10]?"open":"")+" svelte-10dnoj4"),i(e,"class","question-item svelte-10dnoj4")},m(C,k){M(C,e,k),n(e,t),n(t,s),n(t,a),n(t,r),n(r,u),n(e,f),y&&y.m(e,null),n(e,m),p||(h=U(t,"click",g),p=!0)},p(C,k){l=C,k&1&&c!==(c=l[0]===l[10]?"‚àí":"+")&&K(u,c),k&1&&d!==(d="question-btn "+(l[0]===l[10]?"open":"")+" svelte-10dnoj4")&&i(t,"class",d),l[0]===l[10]?y?y.p(l,k):(y=Fl(l),y.c(),y.m(e,m)):y&&(y.d(1),y=null)},d(C){C&&E(e),y&&y.d(),p=!1,h()}}}function Il(l){let e,t,s,a,r=l[6].category+"",c,u,d,f,m=pe(l[6].questions),p=[];for(let h=0;h<m.length;h+=1)p[h]=Bl(Pl(l,m,h));return{c(){e=o("div"),t=o("h3"),s=o("span"),s.textContent=`${l[6].category==="Getting Started"?"üöÄ":l[6].category==="Using the Bucket List"?"üìù":l[6].category==="My Trips"?"‚úàÔ∏è":"‚öôÔ∏è"}`,a=v(),c=j(r),u=v(),d=o("div");for(let h=0;h<p.length;h+=1)p[h].c();f=v(),i(s,"class","category-emoji svelte-10dnoj4"),i(t,"class","category-title svelte-10dnoj4"),i(d,"class","questions svelte-10dnoj4"),i(e,"class","faq-category svelte-10dnoj4")},m(h,g){M(h,e,g),n(e,t),n(t,s),n(t,a),n(t,c),n(e,u),n(e,d);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(d,null);n(e,f)},p(h,g){if(g&11){m=pe(h[6].questions);let y;for(y=0;y<m.length;y+=1){const C=Pl(h,m,y);p[y]?p[y].p(C,g):(p[y]=Bl(C),p[y].c(),p[y].m(d,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=m.length}},d(h){h&&E(e),Ce(p,h)}}}function Vn(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P=pe(l[2]),I=[];for(let A=0;A<P.length;A+=1)I[A]=zl(Nl(l,P,A));let O=pe(l[1]),F=[];for(let A=0;A<O.length;A+=1)F[A]=Il(Sl(l,O,A));return b=new Gn({}),{c(){e=o("main"),t=o("section"),t.innerHTML='<div class="container"><div class="hero-content svelte-10dnoj4"><h1 class="svelte-10dnoj4">Help &amp; Support</h1> <p class="svelte-10dnoj4">Get answers to common questions and learn how to make the most of PINPOINT</p></div></div>',s=v(),a=o("section"),r=o("div"),c=o("h2"),c.textContent="How to Use PINPOINT",u=v(),d=o("p"),d.textContent="A simple guide to get started with your travel planning journey",f=v(),m=o("div");for(let A=0;A<I.length;A+=1)I[A].c();p=v(),h=o("section"),g=o("div"),y=o("h2"),y.textContent="Frequently Asked Questions",C=v(),k=o("p"),k.textContent="Find quick answers to the most common questions about using PINPOINT",S=v();for(let A=0;A<F.length;A+=1)F[A].c();w=v(),D=o("section"),D.innerHTML='<div class="container"><div class="help-content svelte-10dnoj4"><h2 class="svelte-10dnoj4">Still Need Help?</h2> <p class="svelte-10dnoj4">Can&#39;t find what you&#39;re looking for? We&#39;re here to help you make the most of your travel planning journey.</p> <div class="help-buttons svelte-10dnoj4"><button class="help-btn primary svelte-10dnoj4">Contact Support</button> <button class="help-btn secondary svelte-10dnoj4">View Tutorials</button></div></div></div>',q=v(),Ee(b.$$.fragment),i(t,"class","hero svelte-10dnoj4"),i(c,"class","svelte-10dnoj4"),i(d,"class","how-to-intro svelte-10dnoj4"),i(m,"class","steps svelte-10dnoj4"),i(r,"class","container"),i(a,"class","how-to-use svelte-10dnoj4"),i(y,"class","svelte-10dnoj4"),i(k,"class","faq-intro svelte-10dnoj4"),i(g,"class","container"),i(h,"class","faq-section svelte-10dnoj4"),i(D,"class","additional-help svelte-10dnoj4"),i(e,"class","help-page svelte-10dnoj4")},m(A,N){M(A,e,N),n(e,t),n(e,s),n(e,a),n(a,r),n(r,c),n(r,u),n(r,d),n(r,f),n(r,m);for(let _=0;_<I.length;_+=1)I[_]&&I[_].m(m,null);n(e,p),n(e,h),n(h,g),n(g,y),n(g,C),n(g,k),n(g,S);for(let _=0;_<F.length;_+=1)F[_]&&F[_].m(g,null);n(e,w),n(e,D),M(A,q,N),Fe(b,A,N),z=!0},p(A,[N]){if(N&4){P=pe(A[2]);let _;for(_=0;_<P.length;_+=1){const L=Nl(A,P,_);I[_]?I[_].p(L,N):(I[_]=zl(L),I[_].c(),I[_].m(m,null))}for(;_<I.length;_+=1)I[_].d(1);I.length=P.length}if(N&11){O=pe(A[1]);let _;for(_=0;_<O.length;_+=1){const L=Sl(A,O,_);F[_]?F[_].p(L,N):(F[_]=Il(L),F[_].c(),F[_].m(g,null))}for(;_<F.length;_+=1)F[_].d(1);F.length=O.length}},i(A){z||(Se(b.$$.fragment,A),z=!0)},o(A){Ne(b.$$.fragment,A),z=!1},d(A){A&&(E(e),E(q)),Ce(I,A),Ce(F,A),Be(b,A)}}}function Jn(l,e,t){const s=[{category:"Getting Started",questions:[{q:"How do I create a bucket list item?",a:"Navigate to the Bucket List page and click the 'Add New Item' button. Fill in the details like destination, description, category, and priority, then save your item to start planning your adventure!"},{q:"What categories are available?",a:"You can categorize your bucket list items into: Beaches, Cities, Mountains, Adventure, and Romantic experiences. This helps you organize your travel goals."},{q:"How do I set priority levels?",a:"When creating or editing a bucket list item, you can set it as High, Medium, or Low priority. This helps you focus on what matters most to you."}]},{category:"Using the Bucket List",questions:[{q:"How do I mark an item as completed?",a:"Click on the circular button that appears when you hover over an item's image. You can also update items to add a completion date and move them to your completed trips."},{q:"Can I search and filter my bucket list?",a:"Yes! Use the search bar to find items by title or description, and click category filters (Beaches, Cities, etc.) to narrow down your list by interest."},{q:"How do I sort my bucket list?",a:"Use the sort dropdown to organize by Date Added, Priority, Title, or Category. This makes it easy to find what you're looking for."}]},{category:"My Trips",questions:[{q:"How do items appear in My Trips?",a:"Completed items automatically appear in your My Trips page, sorted by completion date so you can see your most recent adventures first."},{q:"Can I see statistics about my travels?",a:"Yes! The My Trips page shows your total trips completed and breaks them down by category so you can see your travel patterns."}]},{category:"Account & Settings",questions:[{q:"How do I update my profile?",a:"Go to the Profile page to add information about yourself, upload a profile picture, and update your preferences."},{q:"Can I export my bucket list?",a:"This feature is coming soon! Soon you'll be able to download your bucket list as a PDF or share it with friends."}]}],a=[{icon:"1Ô∏è‚É£",title:"Explore Destinations",description:"Visit the Home page to browse featured destinations and get inspired for your next adventure. Click on any destination to view details and add it to your bucket list."},{icon:"2Ô∏è‚É£",title:"Build Your Bucket List",description:"Go to the Bucket List page to see all your travel dreams. Use the search bar and category filters to organize by Beaches, Cities, Mountains, Adventure, or Romantic destinations."},{icon:"3Ô∏è‚É£",title:"Mark as Complete",description:"When you complete a trip, hover over the item image and click the circular button to mark it as complete. It will automatically move to your My Trips page."},{icon:"4Ô∏è‚É£",title:"View Your Adventures",description:"Check the My Trips page to see all your completed journeys, sorted by date with statistics showing your travel patterns and favorite categories."}];let r=null;function c(d,f){const m=`${d}-${f}`;t(0,r=r===m?null:m)}return[r,s,a,c,(d,f)=>c(d,f)]}class Yn extends De{constructor(e){super(),Ie(this,e,Jn,Vn,ze,{})}}function Dl(l){let e,t;return{c(){e=o("div"),t=j(l[3]),i(e,"class","alert alert-success svelte-1r3guas")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a&8&&K(t,s[3])},d(s){s&&E(e)}}}function El(l){let e,t=l[1].general+"",s;return{c(){e=o("div"),s=j(t),i(e,"class","alert alert-error svelte-1r3guas")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].general+"")&&K(s,t)},d(a){a&&E(e)}}}function Ml(l){let e,t=l[1].username+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","error-message svelte-1r3guas")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].username+"")&&K(s,t)},d(a){a&&E(e)}}}function jl(l){let e,t=l[1].password+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","error-message svelte-1r3guas")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].password+"")&&K(s,t)},d(a){a&&E(e)}}}function Kn(l){let e;return{c(){e=j("Sign In")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Qn(l){let e;return{c(){e=j("Signing In...")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function Xn(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F=l[3]&&Dl(l),A=l[1].general&&El(l),N=l[1].username&&Ml(l),_=l[1].password&&jl(l);function L(T,H){return T[2]?Qn:Kn}let R=L(l),B=R(l);return{c(){e=o("main"),t=o("div"),s=o("div"),a=o("div"),a.innerHTML='<h1 class="svelte-1r3guas">Welcome Back</h1> <p class="svelte-1r3guas">Sign in to your PINPOINT account</p>',r=v(),F&&F.c(),c=v(),A&&A.c(),u=v(),d=o("form"),f=o("div"),m=o("label"),m.textContent="Username",p=v(),h=o("input"),g=v(),N&&N.c(),y=v(),C=o("div"),k=o("label"),k.textContent="Password",S=v(),w=o("input"),D=v(),_&&_.c(),q=v(),b=o("button"),B.c(),z=v(),P=o("div"),P.innerHTML='<p class="svelte-1r3guas">Don&#39;t have an account? <a href="#register" class="svelte-1r3guas">Sign up</a></p>',i(a,"class","auth-header svelte-1r3guas"),i(m,"for","username"),i(m,"class","svelte-1r3guas"),i(h,"id","username"),i(h,"type","text"),i(h,"placeholder","Enter your username"),h.disabled=l[2],i(h,"class","svelte-1r3guas"),Pe(h,"error",l[1].username),i(f,"class","form-group svelte-1r3guas"),i(k,"for","password"),i(k,"class","svelte-1r3guas"),i(w,"id","password"),i(w,"type","password"),i(w,"placeholder","Enter your password"),w.disabled=l[2],i(w,"class","svelte-1r3guas"),Pe(w,"error",l[1].password),i(C,"class","form-group svelte-1r3guas"),i(b,"type","submit"),i(b,"class","btn btn-primary svelte-1r3guas"),b.disabled=l[2],i(d,"class","auth-form svelte-1r3guas"),i(P,"class","auth-footer svelte-1r3guas"),i(s,"class","auth-card svelte-1r3guas"),i(t,"class","auth-container svelte-1r3guas"),i(e,"class","auth-page svelte-1r3guas")},m(T,H){M(T,e,H),n(e,t),n(t,s),n(s,a),n(s,r),F&&F.m(s,null),n(s,c),A&&A.m(s,null),n(s,u),n(s,d),n(d,f),n(f,m),n(f,p),n(f,h),te(h,l[0].username),n(f,g),N&&N.m(f,null),n(d,y),n(d,C),n(C,k),n(C,S),n(C,w),te(w,l[0].password),n(C,D),_&&_.m(C,null),n(d,q),n(d,b),B.m(b,null),n(s,z),n(s,P),I||(O=[U(h,"input",l[6]),U(h,"keypress",l[5]),U(w,"input",l[7]),U(w,"keypress",l[5]),U(d,"submit",Re(l[4]))],I=!0)},p(T,[H]){T[3]?F?F.p(T,H):(F=Dl(T),F.c(),F.m(s,c)):F&&(F.d(1),F=null),T[1].general?A?A.p(T,H):(A=El(T),A.c(),A.m(s,u)):A&&(A.d(1),A=null),H&4&&(h.disabled=T[2]),H&1&&h.value!==T[0].username&&te(h,T[0].username),H&2&&Pe(h,"error",T[1].username),T[1].username?N?N.p(T,H):(N=Ml(T),N.c(),N.m(f,null)):N&&(N.d(1),N=null),H&4&&(w.disabled=T[2]),H&1&&w.value!==T[0].password&&te(w,T[0].password),H&2&&Pe(w,"error",T[1].password),T[1].password?_?_.p(T,H):(_=jl(T),_.c(),_.m(C,null)):_&&(_.d(1),_=null),R!==(R=L(T))&&(B.d(1),B=R(T),B&&(B.c(),B.m(b,null))),H&4&&(b.disabled=T[2])},i:ne,o:ne,d(T){T&&E(e),F&&F.d(),A&&A.d(),N&&N.d(),_&&_.d(),B.d(),I=!1,ye(O)}}}function Zn(l,e,t){let s={username:"",password:""},a={},r=!1,c="";async function u(){if(t(1,a={}),t(3,c=""),t(2,r=!0),!s.username){t(1,a.username="Username is required",a),t(2,r=!1);return}if(!s.password){t(1,a.password="Password is required",a),t(2,r=!1);return}try{console.log("Login: Attempting login for:",s.username);const p=await gs(s.username,s.password);if(console.log("Login: Login response:",p),p.success){console.log("Login: Login successful, session_key:",p.session_key),t(3,c="Login successful! Redirecting...");const h=document.cookie;console.log("Login: Current cookies:",h);const g=h.includes("sessionid");console.log("Login: Has session cookie:",g),await new Promise(k=>setTimeout(k,500));const y=document.cookie;console.log("Login: Cookies after delay:",y);const C=y.includes("sessionid");console.log("Login: Has session cookie after delay:",C);try{const k=await Ge();console.log("Login: Auth verification:",k),console.log("Login: Has cookie in check:",k.has_cookie),console.log("Login: Cookies received by backend:",k.cookies_received),k.is_authenticated?(typeof window<"u"&&(localStorage.setItem("auth_update",Date.now().toString()),window.dispatchEvent(new Event("auth-state-changed"))),setTimeout(()=>{window.location.hash="#profile"},500)):(console.error("Login: Session not verified after login!"),console.error("Login: This usually means the cookie was not set or is being blocked"),t(1,a.general="Login successful but session not created. Please check browser settings or try again.",a),t(2,r=!1))}catch(k){console.error("Login: Auth verification failed:",k),t(1,a.general="Login successful but could not verify session. Please refresh the page.",a),t(2,r=!1)}}else t(1,a.general=p.error||"Login failed. Please try again.",a)}catch(p){console.error("Login error:",p),t(1,a.general=p.message||"Invalid username or password. Please try again.",a)}finally{t(2,r=!1)}}function d(p){p.key==="Enter"&&u()}je(async()=>{try{(await Ge()).is_authenticated&&(window.location.hash="#home",window.location.reload())}catch{}});function f(){s.username=this.value,t(0,s)}function m(){s.password=this.value,t(0,s)}return[s,a,r,c,u,d,f,m]}class $n extends De{constructor(e){super(),Ie(this,e,Zn,Xn,ze,{})}}function Ol(l){let e,t;return{c(){e=o("div"),t=j(l[3]),i(e,"class","alert alert-success svelte-dfufvr")},m(s,a){M(s,e,a),n(e,t)},p(s,a){a&8&&K(t,s[3])},d(s){s&&E(e)}}}function Hl(l){let e,t=l[1].general+"",s;return{c(){e=o("div"),s=j(t),i(e,"class","alert alert-error svelte-dfufvr")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].general+"")&&K(s,t)},d(a){a&&E(e)}}}function Rl(l){let e,t=l[1].username+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","error-message svelte-dfufvr")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].username+"")&&K(s,t)},d(a){a&&E(e)}}}function Ul(l){let e,t=l[1].password+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","error-message svelte-dfufvr")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].password+"")&&K(s,t)},d(a){a&&E(e)}}}function Wl(l){let e,t=l[1].password_confirm+"",s;return{c(){e=o("span"),s=j(t),i(e,"class","error-message svelte-dfufvr")},m(a,r){M(a,e,r),n(e,s)},p(a,r){r&2&&t!==(t=a[1].password_confirm+"")&&K(s,t)},d(a){a&&E(e)}}}function xn(l){let e;return{c(){e=j("Create Account")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function ei(l){let e;return{c(){e=j("Creating Account...")},m(t,s){M(t,e,s)},d(t){t&&E(e)}}}function ti(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B=l[3]&&Ol(l),T=l[1].general&&Hl(l),H=l[1].username&&Rl(l),Q=l[1].password&&Ul(l),Y=l[1].password_confirm&&Wl(l);function X(G,Z){return G[2]?ei:xn}let V=X(l),ee=V(l);return{c(){e=o("main"),t=o("div"),s=o("div"),a=o("div"),a.innerHTML='<h1 class="svelte-dfufvr">Create Account</h1> <p class="svelte-dfufvr">Join PINPOINT and start planning your dream trips</p>',r=v(),B&&B.c(),c=v(),T&&T.c(),u=v(),d=o("form"),f=o("div"),m=o("label"),m.textContent="Username *",p=v(),h=o("input"),g=v(),H&&H.c(),y=v(),C=o("div"),k=o("label"),k.textContent="Password *",S=v(),w=o("input"),D=v(),Q&&Q.c(),q=v(),b=o("div"),z=o("label"),z.textContent="Confirm Password *",P=v(),I=o("input"),O=v(),Y&&Y.c(),F=v(),A=o("button"),ee.c(),N=v(),_=o("div"),_.innerHTML='<p class="svelte-dfufvr">Already have an account? <a href="#login" class="svelte-dfufvr">Sign in</a></p>',i(a,"class","auth-header svelte-dfufvr"),i(m,"for","username"),i(m,"class","svelte-dfufvr"),i(h,"id","username"),i(h,"type","text"),i(h,"placeholder","Choose a username"),h.disabled=l[2],i(h,"class","svelte-dfufvr"),Pe(h,"error",l[1].username),i(f,"class","form-group svelte-dfufvr"),i(k,"for","password"),i(k,"class","svelte-dfufvr"),i(w,"id","password"),i(w,"type","password"),i(w,"placeholder","At least 8 characters"),w.disabled=l[2],i(w,"class","svelte-dfufvr"),Pe(w,"error",l[1].password),i(C,"class","form-group svelte-dfufvr"),i(z,"for","password_confirm"),i(z,"class","svelte-dfufvr"),i(I,"id","password_confirm"),i(I,"type","password"),i(I,"placeholder","Confirm your password"),I.disabled=l[2],i(I,"class","svelte-dfufvr"),Pe(I,"error",l[1].password_confirm),i(b,"class","form-group svelte-dfufvr"),i(A,"type","submit"),i(A,"class","btn btn-primary svelte-dfufvr"),A.disabled=l[2],i(d,"class","auth-form svelte-dfufvr"),i(_,"class","auth-footer svelte-dfufvr"),i(s,"class","auth-card svelte-dfufvr"),i(t,"class","auth-container svelte-dfufvr"),i(e,"class","auth-page svelte-dfufvr")},m(G,Z){M(G,e,Z),n(e,t),n(t,s),n(s,a),n(s,r),B&&B.m(s,null),n(s,c),T&&T.m(s,null),n(s,u),n(s,d),n(d,f),n(f,m),n(f,p),n(f,h),te(h,l[0].username),n(f,g),H&&H.m(f,null),n(d,y),n(d,C),n(C,k),n(C,S),n(C,w),te(w,l[0].password),n(C,D),Q&&Q.m(C,null),n(d,q),n(d,b),n(b,z),n(b,P),n(b,I),te(I,l[0].password_confirm),n(b,O),Y&&Y.m(b,null),n(d,F),n(d,A),ee.m(A,null),n(s,N),n(s,_),L||(R=[U(h,"input",l[6]),U(h,"keypress",l[5]),U(w,"input",l[7]),U(w,"keypress",l[5]),U(I,"input",l[8]),U(I,"keypress",l[5]),U(d,"submit",Re(l[4]))],L=!0)},p(G,[Z]){G[3]?B?B.p(G,Z):(B=Ol(G),B.c(),B.m(s,c)):B&&(B.d(1),B=null),G[1].general?T?T.p(G,Z):(T=Hl(G),T.c(),T.m(s,u)):T&&(T.d(1),T=null),Z&4&&(h.disabled=G[2]),Z&1&&h.value!==G[0].username&&te(h,G[0].username),Z&2&&Pe(h,"error",G[1].username),G[1].username?H?H.p(G,Z):(H=Rl(G),H.c(),H.m(f,null)):H&&(H.d(1),H=null),Z&4&&(w.disabled=G[2]),Z&1&&w.value!==G[0].password&&te(w,G[0].password),Z&2&&Pe(w,"error",G[1].password),G[1].password?Q?Q.p(G,Z):(Q=Ul(G),Q.c(),Q.m(C,null)):Q&&(Q.d(1),Q=null),Z&4&&(I.disabled=G[2]),Z&1&&I.value!==G[0].password_confirm&&te(I,G[0].password_confirm),Z&2&&Pe(I,"error",G[1].password_confirm),G[1].password_confirm?Y?Y.p(G,Z):(Y=Wl(G),Y.c(),Y.m(b,null)):Y&&(Y.d(1),Y=null),V!==(V=X(G))&&(ee.d(1),ee=V(G),ee&&(ee.c(),ee.m(A,null))),Z&4&&(A.disabled=G[2])},i:ne,o:ne,d(G){G&&E(e),B&&B.d(),T&&T.d(),H&&H.d(),Q&&Q.d(),Y&&Y.d(),ee.d(),L=!1,ye(R)}}}function li(l,e,t){let s={username:"",password:"",password_confirm:""},a={},r=!1,c="";async function u(){if(t(1,a={}),t(3,c=""),t(2,r=!0),(!s.username||s.username.length<3)&&t(1,a.username="Username must be at least 3 characters",a),(!s.password||s.password.length<8)&&t(1,a.password="Password must be at least 8 characters",a),s.password!==s.password_confirm&&t(1,a.password_confirm="Passwords do not match",a),Object.keys(a).length>0){t(2,r=!1);return}try{const h=await vs(s.username,s.password);if(h.success){t(3,c="Registration successful! Redirecting..."),await new Promise(g=>setTimeout(g,300));try{const g=await Ge();console.log("Register: Auth verification:",g),g.is_authenticated?(typeof window<"u"&&(localStorage.setItem("auth_update",Date.now().toString()),window.dispatchEvent(new Event("auth-state-changed"))),setTimeout(()=>{window.location.hash="#profile"},500)):(console.warn("Register: Session not verified, reloading page"),setTimeout(()=>{window.location.hash="#profile",window.location.reload()},1e3))}catch(g){console.error("Register: Auth verification failed:",g),setTimeout(()=>{window.location.hash="#profile",window.location.reload()},1e3)}}else t(1,a.general=h.error||"Registration failed. Please try again.",a)}catch(h){console.error("Registration error:",h),t(1,a.general=h.message||"Registration failed. Please try again.",a)}finally{t(2,r=!1)}}function d(h){h.key==="Enter"&&u()}je(async()=>{try{(await Ge()).is_authenticated&&(window.location.hash="#home",window.location.reload())}catch{}});function f(){s.username=this.value,t(0,s)}function m(){s.password=this.value,t(0,s)}function p(){s.password_confirm=this.value,t(0,s)}return[s,a,r,c,u,d,f,m,p]}class si extends De{constructor(e){super(),Ie(this,e,li,ti,ze,{})}}function Gl(l){let e,t,s,a,r,c,u,d,f,m,p,h,g;return{c(){e=o("a"),t=o("span"),t.textContent="üîê",s=v(),a=o("span"),a.textContent="Login",c=v(),u=o("a"),d=o("span"),d.textContent="‚úèÔ∏è",f=v(),m=o("span"),m.textContent="Sign Up",i(t,"class","nav-icon"),i(a,"class","nav-text"),i(e,"class",r="link "+(l[0]==="login"?"active":"")),i(e,"href","#login"),i(d,"class","nav-icon"),i(m,"class","nav-text"),i(u,"class",p="link "+(l[0]==="register"?"active":"")),i(u,"href","#register")},m(y,C){M(y,e,C),n(e,t),n(e,s),n(e,a),M(y,c,C),M(y,u,C),n(u,d),n(u,f),n(u,m),h||(g=[U(e,"click",l[5]),U(u,"click",l[5])],h=!0)},p(y,C){C&1&&r!==(r="link "+(y[0]==="login"?"active":""))&&i(e,"class",r),C&1&&p!==(p="link "+(y[0]==="register"?"active":""))&&i(u,"class",p)},d(y){y&&(E(e),E(c),E(u)),h=!1,ye(g)}}}function ni(l){let e,t;return e=new si({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function ii(l){let e,t;return e=new $n({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function ai(l){let e,t;return e=new Yn({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function oi(l){let e,t;return e=new Hn({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function ri(l){let e,t;return e=new Tn({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function ci(l){let e,t;return e=new _n({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function ui(l){let e,t;return e=new an({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function fi(l){let e,t;return e=new Xs({}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p:ne,i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function di(l){let e,t;return e=new hs({props:{query:l[3],search:l[6]}}),{c(){Ee(e.$$.fragment)},m(s,a){Fe(e,s,a),t=!0},p(s,a){const r={};a&8&&(r.query=s[3]),e.$set(r)},i(s){t||(Se(e.$$.fragment,s),t=!0)},o(s){Ne(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function pi(l){let e;return{c(){e=o("main"),e.innerHTML="<p>Loading...</p>",i(e,"class","container"),Oe(e,"text-align","center"),Oe(e,"padding","4rem")},m(t,s){M(t,e,s)},p:ne,i:ne,o:ne,d(t){t&&E(e)}}}function mi(l){let e,t,s,a,r,c,u,d,f,m,p,h,g,y,C,k,S,w,D,q,b,z,P,I,O,F,A,N,_,L,R,B,T,H,Q,Y,X,V,ee,G,Z,$,ae,oe,fe,re,ve,be,_e,ce=!l[1]&&Gl(l);const ke=[pi,di,fi,ui,ci,ri,oi,ai,ii,ni],J=[];function le(W,se){return W[2]?0:W[0]==="home"?1:W[0]==="bucket"?2:W[0]==="trips"?3:W[0]==="profile"?4:W[0]==="destination"?5:W[0]==="trip"?6:W[0]==="help"?7:W[0]==="login"?8:W[0]==="register"?9:-1}return~(oe=le(l))&&(fe=J[oe]=ke[oe](l)),{c(){e=o("header"),t=o("div"),s=o("nav"),a=o("a"),a.textContent="PINPOINT",r=v(),c=o("button"),u=j("‚ò∞"),d=v(),f=o("div"),m=o("a"),p=o("span"),p.textContent="üè†",h=v(),g=o("span"),g.textContent="Home",C=v(),k=o("a"),S=o("span"),S.textContent="üìù",w=v(),D=o("span"),D.textContent="Bucket List",b=v(),z=o("a"),P=o("span"),P.textContent="‚úàÔ∏è",I=v(),O=o("span"),O.textContent="My Trips",A=v(),N=o("a"),_=o("span"),_.textContent="üë§",L=v(),R=o("span"),R.textContent="Profile",T=v(),H=o("a"),Q=o("span"),Q.textContent="‚ùì",Y=v(),X=o("span"),X.textContent="Help",ee=v(),ce&&ce.c(),Z=v(),$=o("div"),ae=v(),fe&&fe.c(),re=He(),i(a,"class","brand"),i(a,"href","#home"),i(c,"class","menu-btn"),i(c,"aria-label","Menu"),i(c,"aria-expanded",l[4]),i(p,"class","nav-icon"),i(g,"class","nav-text"),i(m,"class",y="link "+(l[0]==="home"?"active":"")),i(m,"href","#home"),i(S,"class","nav-icon"),i(D,"class","nav-text"),i(k,"class",q="link "+(l[0]==="bucket"?"active":"")),i(k,"href","#bucket"),i(P,"class","nav-icon"),i(O,"class","nav-text"),i(z,"class",F="link "+(l[0]==="trips"?"active":"")),i(z,"href","#trips"),i(_,"class","nav-icon"),i(R,"class","nav-text"),i(N,"class",B="link "+(l[0]==="profile"?"active":"")),i(N,"href","#profile"),i(Q,"class","nav-icon"),i(X,"class","nav-text"),i(H,"class",V="link "+(l[0]==="help"?"active":"")),i(H,"href","#help"),i(f,"class",G="links "+(l[4]?"open":"")),i(s,"class","nav"),i(t,"class","container"),i($,"class","accent"),i(e,"class","topbar")},m(W,se){M(W,e,se),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(c,u),n(s,d),n(s,f),n(f,m),n(m,p),n(m,h),n(m,g),n(f,C),n(f,k),n(k,S),n(k,w),n(k,D),n(f,b),n(f,z),n(z,P),n(z,I),n(z,O),n(f,A),n(f,N),n(N,_),n(N,L),n(N,R),n(f,T),n(f,H),n(H,Q),n(H,Y),n(H,X),n(f,ee),ce&&ce.m(f,null),n(e,Z),n(e,$),M(W,ae,se),~oe&&J[oe].m(W,se),M(W,re,se),ve=!0,be||(_e=[U(a,"click",l[5]),U(c,"click",l[8]),U(m,"click",l[5]),U(k,"click",l[5]),U(z,"click",l[5]),U(N,"click",l[5]),U(H,"click",l[5])],be=!0)},p(W,[se]){(!ve||se&16)&&i(c,"aria-expanded",W[4]),(!ve||se&1&&y!==(y="link "+(W[0]==="home"?"active":"")))&&i(m,"class",y),(!ve||se&1&&q!==(q="link "+(W[0]==="bucket"?"active":"")))&&i(k,"class",q),(!ve||se&1&&F!==(F="link "+(W[0]==="trips"?"active":"")))&&i(z,"class",F),(!ve||se&1&&B!==(B="link "+(W[0]==="profile"?"active":"")))&&i(N,"class",B),(!ve||se&1&&V!==(V="link "+(W[0]==="help"?"active":"")))&&i(H,"class",V),W[1]?ce&&(ce.d(1),ce=null):ce?ce.p(W,se):(ce=Gl(W),ce.c(),ce.m(f,null)),(!ve||se&16&&G!==(G="links "+(W[4]?"open":"")))&&i(f,"class",G);let ge=oe;oe=le(W),oe===ge?~oe&&J[oe].p(W,se):(fe&&(is(),Ne(J[ge],1,1,()=>{J[ge]=null}),as()),~oe?(fe=J[oe],fe?fe.p(W,se):(fe=J[oe]=ke[oe](W),fe.c()),Se(fe,1),fe.m(re.parentNode,re)):fe=null)},i(W){ve||(Se(fe),ve=!0)},o(W){Ne(fe),ve=!1},d(W){W&&(E(e),E(ae),E(re)),ce&&ce.d(),~oe&&J[oe].d(W),be=!1,ye(_e)}}}function hi(l,e,t){let s="",a="home",r=!1,c=!0,u=null,d=!1,f=!0;function m(){const k=(location.hash||"#home").replace("#","");let S="";k.startsWith("destination/")?S="destination":k.startsWith("trip/")?S="trip":S=k||"home",t(0,a=S),t(4,r=!1),c&&typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"}),c=!0}function p(k){c=!0,m()}typeof window<"u"&&(m(),window.addEventListener("hashchange",k=>{var w;c=((w=performance.getEntriesByType("navigation")[0])==null?void 0:w.type)!=="back_forward",m()}),window.addEventListener("popstate",()=>{c=!1}));function h(){t(3,s)}async function g(){try{console.log("Checking auth status...");const k=await Ge();console.log("Auth check response:",k),t(1,d=k.is_authenticated||!1),k.is_authenticated?(u={username:k.username,id:k.id},console.log("User authenticated:",u)):(u=null,console.log("User not authenticated"))}catch(k){console.error("Auth check failed:",k),t(1,d=!1),u=null}finally{t(2,f=!1),console.log("Auth check complete. isAuthenticated:",d)}}let y="";je(()=>{if(g(),t(7,y=a),typeof window<"u"){const k=()=>{localStorage.getItem("auth_update")&&(localStorage.removeItem("auth_update"),g())};k(),window.addEventListener("storage",S=>{S.key==="auth_update"&&g()}),window.addEventListener("auth-state-changed",()=>{g()}),window.addEventListener("focus",()=>{g()}),setInterval(k,2e3)}});const C=()=>t(4,r=!r);return l.$$.update=()=>{l.$$.dirty&133&&a&&a!==y&&!f&&(t(7,y=a),(a==="login"||a==="register"||a==="profile")&&g()),l.$$.dirty&7&&a==="profile"&&!d&&!f&&g()},[a,d,f,s,r,p,h,y,C]}class vi extends De{constructor(e){super(),Ie(this,e,hi,mi,ze,{})}}new vi({target:document.getElementById("app")});
