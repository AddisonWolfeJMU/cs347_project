var _l=Object.defineProperty;var bl=(t,e,l)=>e in t?_l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var lt=(t,e,l)=>(bl(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function l(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=l(a);fetch(a.href,r)}})();function te(){}function ml(t){return t()}function ct(){return Object.create(null)}function we(t){t.forEach(ml)}function ot(t){return typeof t=="function"}function Ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ze;function kl(t,e){return t===e?!0:(Ze||(Ze=document.createElement("a")),Ze.href=e,t===Ze.href)}function wl(t){return Object.keys(t).length===0}function n(t,e){t.appendChild(e)}function O(t,e,l){t.insertBefore(e,l||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function Ae(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function o(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function m(){return E(" ")}function Ye(){return E("")}function J(t,e,l,s){return t.addEventListener(e,l,s),()=>t.removeEventListener(e,l,s)}function Xe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function hl(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function i(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function yl(t){return Array.from(t.childNodes)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function $e(t,e,l,s){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,s?"important":"")}function ut(t,e,l){for(let s=0;s<t.options.length;s+=1){const a=t.options[s];if(a.__value===e){a.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Cl(t){const e=t.querySelector(":checked");return e&&e.__value}function Se(t,e,l){t.classList.toggle(e,!!l)}let Qe;function Ke(t){Qe=t}function Tl(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function He(t){Tl().$$.on_mount.push(t)}function gl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(s=>s.call(this,e))}const We=[],it=[];let Ge=[];const dt=[],Ll=Promise.resolve();let at=!1;function Al(){at||(at=!0,Ll.then(vl))}function tt(t){Ge.push(t)}const nt=new Set;let Ve=0;function vl(){if(Ve!==0)return;const t=Qe;do{try{for(;Ve<We.length;){const e=We[Ve];Ve++,Ke(e),Sl(e.$$)}}catch(e){throw We.length=0,Ve=0,e}for(Ke(null),We.length=0,Ve=0;it.length;)it.pop()();for(let e=0;e<Ge.length;e+=1){const l=Ge[e];nt.has(l)||(nt.add(l),l())}Ge.length=0}while(We.length);for(;dt.length;)dt.pop()();at=!1,nt.clear(),Ke(t)}function Sl(t){if(t.fragment!==null){t.update(),we(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function Pl(t){const e=[],l=[];Ge.forEach(s=>t.indexOf(s)===-1?e.push(s):l.push(s)),l.forEach(s=>s()),Ge=e}const et=new Set;let Oe;function Nl(){Oe={r:0,c:[],p:Oe}}function Il(){Oe.r||we(Oe.c),Oe=Oe.p}function Pe(t,e){t&&t.i&&(et.delete(t),t.i(e))}function Ne(t,e,l,s){if(t&&t.o){if(et.has(t))return;et.add(t),Oe.c.push(()=>{et.delete(t),s&&(l&&t.d(1),s())}),t.o(e)}else s&&s()}function fe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function qe(t){t&&t.c()}function Me(t,e,l){const{fragment:s,after_update:a}=t.$$;s&&s.m(e,l),tt(()=>{const r=t.$$.on_mount.map(ml).filter(ot);t.$$.on_destroy?t.$$.on_destroy.push(...r):we(r),t.$$.on_mount=[]}),a.forEach(tt)}function De(t,e){const l=t.$$;l.fragment!==null&&(Pl(l.after_update),we(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Ml(t,e){t.$$.dirty[0]===-1&&(We.push(t),Al(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,l,s,a,r,c=null,f=[-1]){const u=Qe;Ke(t);const d=t.$$={fragment:null,ctx:[],props:r,update:te,not_equal:a,bound:ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ct(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};c&&c(d.root);let h=!1;if(d.ctx=l?l(t,e.props||{},(p,g,...v)=>{const w=v.length?v[0]:g;return d.ctx&&a(d.ctx[p],d.ctx[p]=w)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](w),h&&Ml(t,p)),g}):[],d.update(),h=!0,we(d.before_update),d.fragment=s?s(d.ctx):!1,e.target){if(e.hydrate){const p=yl(e.target);d.fragment&&d.fragment.l(p),p.forEach(H)}else d.fragment&&d.fragment.c();e.intro&&Pe(t.$$.fragment),Me(t,e.target,e.anchor),vl()}Ke(u)}class Fe{constructor(){lt(this,"$$");lt(this,"$$set")}$destroy(){De(this,1),this.$destroy=te}$on(e,l){if(!ot(l))return te;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(l),()=>{const a=s.indexOf(l);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!wl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dl);const jl="/assets/PinpointLogo-b2c8a3b8.png";function ft(t,e,l){const s=t.slice();return s[12]=e[l],s}function pt(t,e,l){const s=t.slice();return s[15]=e[l],s}function mt(t){let e,l,s,a,r,c,f,u;function d(){return t[8](t[15])}return{c(){e=o("button"),l=o("span"),l.textContent=`${t[15].emoji}`,s=m(),a=o("span"),a.textContent=`${t[15].name}`,r=m(),i(l,"class","filter-emoji"),i(a,"class","filter-name"),i(e,"class",c="filter-btn "+(t[2]===t[15].value?"active":"")),$e(e,"--category-color",t[15].color)},m(h,p){O(h,e,p),n(e,l),n(e,s),n(e,a),n(e,r),f||(u=J(e,"click",d),f=!0)},p(h,p){t=h,p&4&&c!==(c="filter-btn "+(t[2]===t[15].value?"active":""))&&i(e,"class",c)},d(h){h&&H(e),f=!1,u()}}}function Fl(t){let e;return{c(){e=o("div"),e.innerHTML='<p class="no-results-text">No destinations found matching your search.</p> <p class="no-results-subtext">Try adjusting your search or filter criteria.</p>',i(e,"class","no-results")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function El(t){let e,l=fe(t[3]),s=[];for(let a=0;a<l.length;a+=1)s[a]=ht(ft(t,l,a));return{c(){e=o("div");for(let a=0;a<s.length;a+=1)s[a].c();i(e,"class","destinations-grid")},m(a,r){O(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(a,r){if(r&8){l=fe(a[3]);let c;for(c=0;c<l.length;c+=1){const f=ft(a,l,c);s[c]?s[c].p(f,r):(s[c]=ht(f),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=l.length}},d(a){a&&H(e),Ae(s,a)}}}function ht(t){let e,l,s,a,r,c,f=t[12].name+"",u,d,h,p=t[12].price+"",g,v,w,y;function k(){return t[9](t[12])}return{c(){e=o("div"),l=o("div"),a=m(),r=o("div"),c=o("h3"),u=E(f),d=m(),h=o("p"),g=E(p),v=m(),i(l,"class","destination-image"),i(l,"style",s=`background-image: url('${t[12].image}')`),i(h,"class","destination-price"),i(r,"class","destination-content"),i(e,"class","destination-card")},m(N,T){O(N,e,T),n(e,l),n(e,a),n(e,r),n(r,c),n(c,u),n(r,d),n(r,h),n(h,g),n(e,v),w||(y=J(e,"click",k),w=!0)},p(N,T){t=N,T&8&&s!==(s=`background-image: url('${t[12].image}')`)&&i(l,"style",s),T&8&&f!==(f=t[12].name+"")&&$(u,f),T&8&&p!==(p=t[12].price+"")&&$(g,p)},d(N){N&&H(e),w=!1,y()}}}function Bl(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U=fe(t[5]),A=[];for(let b=0;b<U.length;b+=1)A[b]=mt(pt(t,U,b));function j(b,C){return b[3].length>0?El:Fl}let B=j(t),P=B(t);return{c(){e=o("main"),l=o("section"),s=o("img"),r=m(),c=o("div"),f=o("input"),u=m(),d=o("button"),d.textContent="üîç",h=m(),p=o("section"),g=o("div"),v=o("h2"),v.textContent="Filter Destinations",w=m(),y=o("div");for(let b=0;b<A.length;b+=1)A[b].c();k=m(),N=o("section"),T=o("div"),T.innerHTML="<h2>Explore Popular Destinations</h2>",F=m(),P.c(),i(s,"class","brand-logo"),kl(s.src,a=jl)||i(s,"src",a),i(s,"alt","Pinpoint logo"),i(f,"placeholder","Explore your Dream Vacation"),i(f,"aria-label","Search"),i(d,"class","search-btn"),i(d,"aria-label","Search"),i(c,"class","search"),i(l,"class","hero container"),i(y,"class","filter-buttons"),i(g,"class","container"),i(p,"class","filters"),i(T,"class","container"),i(N,"class","destinations"),i(e,"class","home")},m(b,C){O(b,e,C),n(e,l),n(l,s),n(l,r),n(l,c),n(c,f),se(f,t[0]),n(c,u),n(c,d),n(e,h),n(e,p),n(p,g),n(g,v),n(g,w),n(g,y);for(let _=0;_<A.length;_+=1)A[_]&&A[_].m(y,null);n(e,k),n(e,N),n(N,T),n(N,F),P.m(N,null),I||(L=[J(f,"input",t[7]),J(f,"keydown",t[4]),J(d,"click",function(){ot(t[1])&&t[1].apply(this,arguments)})],I=!0)},p(b,[C]){if(t=b,C&1&&f.value!==t[0]&&se(f,t[0]),C&100){U=fe(t[5]);let _;for(_=0;_<U.length;_+=1){const M=pt(t,U,_);A[_]?A[_].p(M,C):(A[_]=mt(M),A[_].c(),A[_].m(y,null))}for(;_<A.length;_+=1)A[_].d(1);A.length=U.length}B===(B=j(t))&&P?P.p(t,C):(P.d(1),P=B(t),P&&(P.c(),P.m(N,null)))},i:te,o:te,d(b){b&&H(e),Ae(A,b),P.d(),I=!1,we(L)}}}function ql(t){window.location.hash=`#destination/${t}`}function Hl(t,e,l){let{query:s=""}=e,{search:a}=e;const r=y=>{y.key==="Enter"&&(a==null||a())},c={"new-england":{name:"New England",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500",price:"From $299",category:"mountains",id:"new-england"},"aspen-colorado":{name:"Aspen, Colorado",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=500",price:"From $450",category:"mountains",id:"aspen-colorado"},vermont:{name:"Vermont",image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=500",price:"From $199",category:"mountains",id:"vermont"},"bali-indonesia":{name:"Bali, Indonesia",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500",price:"From $599",category:"beaches",id:"bali-indonesia"},"santorini-greece":{name:"Santorini, Greece",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=500",price:"From $799",category:"beaches",id:"santorini-greece"},"dubai-uae":{name:"Dubai, UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=500",price:"From $699",category:"cities",id:"dubai-uae"},"swiss-alps":{name:"Swiss Alps",image:"https://s1.it.atcdn.net/wp-content/uploads/2015/11/shutterstock_279572969.jpg",price:"From $899",category:"mountains",id:"swiss-alps"},iceland:{name:"Iceland",image:"https://cdn.britannica.com/06/171306-050-C88DD752/Aurora-borealis-peninsula-Snaefellsnes-Iceland-March-2013.jpg",price:"From $599",category:"adventure",id:"iceland"},"banff-canada":{name:"Banff, Canada",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500",price:"From $399",category:"mountains",id:"banff-canada"}},f=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}];let u="all",d=Object.values(c);function h(y){l(2,u=y.value),p()}function p(){let y=Object.values(c);if(u!=="all"&&(y=y.filter(k=>k.category===u)),s&&s.trim()!==""){const k=s.toLowerCase().trim();y=y.filter(N=>N.name.toLowerCase().includes(k)||N.category.toLowerCase().includes(k)||N.id.toLowerCase().includes(k))}l(3,d=y)}p();function g(){s=this.value,l(0,s)}const v=y=>h(y),w=y=>ql(y.id);return t.$$set=y=>{"query"in y&&l(0,s=y.query),"search"in y&&l(1,a=y.search)},t.$$.update=()=>{t.$$.dirty&1&&s!==void 0&&p()},[s,a,u,d,r,f,h,g,v,w]}class Ol extends Fe{constructor(e){super(),je(this,e,Hl,Bl,Ie,{query:0,search:1})}}const Ul={}.VITE_API_URL||"http://localhost:8000/api";async function Ee(t,e={}){const l=`${Ul}${t}`,s={...e,headers:{"Content-Type":"application/json",...e.headers},credentials:"include"};try{const a=await fetch(l,s);if(!a)throw new Error("Network error: Unable to reach the server. Make sure the Django server is running on http://127.0.0.1:8000");const r=a.headers.get("content-type");if(!r||!r.includes("application/json")){const f=await a.text();throw console.error("Non-JSON response received:",{status:a.status,statusText:a.statusText,url:l,contentType:r,preview:f.substring(0,200)}),a.ok?new Error("Server returned non-JSON response. Check server configuration."):new Error(`Server returned non-JSON response (${a.status}): ${a.statusText}`)}const c=await a.json();if(!a.ok)throw new Error(c.error||c.message||`HTTP error! status: ${a.status}`);return c}catch(a){throw a.name==="TypeError"&&a.message.includes("fetch")?(console.error("API request failed - Network error:",a),new Error("Network error: Unable to reach the server. Make sure the Django server is running on http://127.0.0.1:8000")):(console.error("API request failed:",a),a)}}async function Rl(t,e){return Ee("/register/",{method:"POST",body:JSON.stringify({username:t,password:e})})}async function zl(t,e){return Ee("/login/",{method:"POST",body:JSON.stringify({username:t,password:e})})}async function Vl(){return Ee("/logout/",{method:"POST"})}async function Wl(){try{return await Ee("/user/")}catch{return{is_authenticated:!1}}}async function Gl(t){return Ee("/user/update/",{method:"PATCH",body:JSON.stringify(t)})}async function Ue(){try{return await Ee("/check-auth/")}catch(t){return console.error("Auth check error:",t),{is_authenticated:!1}}}async function Yl(){try{return await Ee("/bucket-list/")}catch(t){throw console.error("Error fetching bucket list:",t),t}}async function Jl(){try{return await Ee("/my-trips/")}catch(t){throw console.error("Error fetching my trips:",t),t}}async function Kl(t){try{return await Ee("/trips/create-for-bucket-list/",{method:"POST",body:JSON.stringify(t)})}catch(e){throw console.error("Error creating trip for bucket list:",e),e}}async function $l(t){try{return await Ee("/trips/create-for-my-trips/",{method:"POST",body:JSON.stringify(t)})}catch(e){throw console.error("Error creating trip for my trips:",e),e}}function gt(t,e,l){const s=t.slice();s[42]=e[l],s[45]=l;const a=s[45]+1;return s[43]=a,s}function vt(t,e,l){const s=t.slice();return s[46]=e[l],s}function _t(t,e,l){const s=t.slice();return s[49]=e[l],s}function bt(t,e,l){const s=t.slice();return s[52]=e[l],s}function kt(t){let e,l=t[52].name+"",s;return{c(){e=o("option"),s=E(l),e.__value=t[52].value,se(e,e.__value)},m(a,r){O(a,e,r),n(e,s)},p:te,d(a){a&&H(e)}}}function wt(t){let e,l,s,a,r,c,f,u;function d(){return t[33](t[49])}return{c(){e=o("button"),l=o("span"),l.textContent=`${t[49].emoji}`,s=m(),a=o("span"),a.textContent=`${t[49].name}`,r=m(),i(l,"class","category-emoji"),i(a,"class","category-name"),i(e,"class",c="category-btn "+(t[0]===t[49].value?"active":"")),$e(e,"--category-color",t[49].color)},m(h,p){O(h,e,p),n(e,l),n(e,s),n(e,a),n(e,r),f||(u=J(e,"click",d),f=!0)},p(h,p){t=h,p[0]&1&&c!==(c="category-btn "+(t[0]===t[49].value?"active":""))&&i(e,"class",c)},d(h){h&&H(e),f=!1,u()}}}function Ql(t){let e,l,s,a=fe(t[15]),r=[];for(let f=0;f<a.length;f+=1)r[f]=Ct(vt(t,a,f));let c=t[13]>1&&Tt(t);return{c(){e=o("div");for(let f=0;f<r.length;f+=1)r[f].c();l=m(),c&&c.c(),s=Ye(),i(e,"class","items-grid")},m(f,u){O(f,e,u);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);O(f,l,u),c&&c.m(f,u),O(f,s,u)},p(f,u){if(u[0]&32768){a=fe(f[15]);let d;for(d=0;d<a.length;d+=1){const h=vt(f,a,d);r[d]?r[d].p(h,u):(r[d]=Ct(h),r[d].c(),r[d].m(e,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=a.length}f[13]>1?c?c.p(f,u):(c=Tt(f),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(f){f&&(H(e),H(l),H(s)),Ae(r,f),c&&c.d(f)}}}function Xl(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">üìù</div> <h3>Your bucket list is empty</h3> <p>Start adding trips to your bucket list to see them here!</p>',i(e,"class","empty-state")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function Zl(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">üìù</div> <h3>No items found</h3> <p>Try adjusting your search or filters to find what you&#39;re looking for.</p>',i(e,"class","empty-state")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function xl(t){let e,l,s,a,r,c,f;return{c(){e=o("div"),l=o("div"),l.textContent="‚ö†Ô∏è",s=m(),a=o("h3"),a.textContent="Error loading bucket list",r=m(),c=o("p"),f=E(t[8]),i(l,"class","empty-icon"),i(e,"class","empty-state")},m(u,d){O(u,e,d),n(e,l),n(e,s),n(e,a),n(e,r),n(e,c),n(c,f)},p(u,d){d[0]&256&&$(f,u[8])},d(u){u&&H(e)}}}function en(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚è≥</div> <h3>Loading...</h3> <p>Loading your bucket list items...</p>',i(e,"class","empty-state")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function yt(t){let e,l,s=new Date(t[46].completedDate).toLocaleDateString()+"",a;return{c(){e=o("span"),l=E("Completed: "),a=E(s),i(e,"class","completed-date")},m(r,c){O(r,e,c),n(e,l),n(e,a)},p(r,c){c[0]&32768&&s!==(s=new Date(r[46].completedDate).toLocaleDateString()+"")&&$(a,s)},d(r){r&&H(e)}}}function Ct(t){let e,l,s,a,r=t[46].completed?"‚úì":"‚óã",c,f,u,d,h,p=t[46].priority+"",g,v,w,y,k,N,T,F=t[46].title+"",I,L,U,A=t[46].category+"",j,B,P,b=t[46].description+"",C,_,M,Y,V,D=new Date(t[46].dateAdded).toLocaleDateString()+"",S,z,R,X,ce,ie;function q(){return t[34](t[46])}let W=t[46].completed&&t[46].completedDate&&yt(t);return{c(){e=o("div"),l=o("div"),s=o("div"),a=o("button"),c=E(r),d=m(),h=o("div"),g=E(p),y=m(),k=o("div"),N=o("div"),T=o("h3"),I=E(F),L=m(),U=o("span"),j=E(A),B=m(),P=o("p"),C=E(b),_=m(),M=o("div"),Y=o("span"),V=E("Added: "),S=E(D),z=m(),W&&W.c(),R=m(),i(a,"class",f="complete-btn "+(t[46].completed?"completed":"")),i(a,"aria-label",u=t[46].completed?"Mark as incomplete":"Mark as complete"),i(s,"class","item-overlay"),i(h,"class","priority-badge"),i(h,"style",v=`background-color: ${Pt(t[46].priority)}`),i(l,"class","item-image"),i(l,"style",w=`background-image: url('${t[46].image}')`),i(T,"class","item-title"),i(U,"class","item-category"),i(N,"class","item-header"),i(P,"class","item-description"),i(Y,"class","item-date"),i(M,"class","item-footer"),i(k,"class","item-content"),i(e,"class",X="bucket-item "+(t[46].completed?"completed":""))},m(le,G){O(le,e,G),n(e,l),n(l,s),n(s,a),n(a,c),n(l,d),n(l,h),n(h,g),n(e,y),n(e,k),n(k,N),n(N,T),n(T,I),n(N,L),n(N,U),n(U,j),n(k,B),n(k,P),n(P,C),n(k,_),n(k,M),n(M,Y),n(Y,V),n(Y,S),n(M,z),W&&W.m(M,null),n(e,R),ce||(ie=J(a,"click",q),ce=!0)},p(le,G){t=le,G[0]&32768&&r!==(r=t[46].completed?"‚úì":"‚óã")&&$(c,r),G[0]&32768&&f!==(f="complete-btn "+(t[46].completed?"completed":""))&&i(a,"class",f),G[0]&32768&&u!==(u=t[46].completed?"Mark as incomplete":"Mark as complete")&&i(a,"aria-label",u),G[0]&32768&&p!==(p=t[46].priority+"")&&$(g,p),G[0]&32768&&v!==(v=`background-color: ${Pt(t[46].priority)}`)&&i(h,"style",v),G[0]&32768&&w!==(w=`background-image: url('${t[46].image}')`)&&i(l,"style",w),G[0]&32768&&F!==(F=t[46].title+"")&&$(I,F),G[0]&32768&&A!==(A=t[46].category+"")&&$(j,A),G[0]&32768&&b!==(b=t[46].description+"")&&$(C,b),G[0]&32768&&D!==(D=new Date(t[46].dateAdded).toLocaleDateString()+"")&&$(S,D),t[46].completed&&t[46].completedDate?W?W.p(t,G):(W=yt(t),W.c(),W.m(M,null)):W&&(W.d(1),W=null),G[0]&32768&&X!==(X="bucket-item "+(t[46].completed?"completed":""))&&i(e,"class",X)},d(le){le&&H(e),W&&W.d(),ce=!1,ie()}}}function Tt(t){let e,l,s,a=t[5]+1+"",r,c,f=Math.min(t[4],t[6].length)+"",u,d,h=t[6].length+"",p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P=fe(Array(t[13])),b=[];for(let C=0;C<P.length;C+=1)b[C]=Lt(gt(t,P,C));return{c(){e=o("div"),l=o("div"),s=E("Showing "),r=E(a),c=E(" - "),u=E(f),d=E(" of "),p=E(h),g=E(" items"),v=m(),w=o("div"),y=o("button"),k=E("‚Üê Previous"),T=m(),F=o("div");for(let C=0;C<b.length;C+=1)b[C].c();I=m(),L=o("button"),U=E("Next ‚Üí"),i(l,"class","pagination-info"),i(y,"class","pagination-btn"),y.disabled=N=t[3]===1,i(F,"class","page-numbers"),i(L,"class","pagination-btn"),L.disabled=A=t[3]===t[13],i(w,"class","pagination-controls"),i(e,"class","pagination")},m(C,_){O(C,e,_),n(e,l),n(l,s),n(l,r),n(l,c),n(l,u),n(l,d),n(l,p),n(l,g),n(e,v),n(e,w),n(w,y),n(y,k),n(w,T),n(w,F);for(let M=0;M<b.length;M+=1)b[M]&&b[M].m(F,null);n(w,I),n(w,L),n(L,U),j||(B=[J(y,"click",t[23]),J(L,"click",t[22])],j=!0)},p(C,_){if(_[0]&32&&a!==(a=C[5]+1+"")&&$(r,a),_[0]&80&&f!==(f=Math.min(C[4],C[6].length)+"")&&$(u,f),_[0]&64&&h!==(h=C[6].length+"")&&$(p,h),_[0]&8&&N!==(N=C[3]===1)&&(y.disabled=N),_[0]&16785416){P=fe(Array(C[13]));let M;for(M=0;M<P.length;M+=1){const Y=gt(C,P,M);b[M]?b[M].p(Y,_):(b[M]=Lt(Y),b[M].c(),b[M].m(F,null))}for(;M<b.length;M+=1)b[M].d(1);b.length=P.length}_[0]&8200&&A!==(A=C[3]===C[13])&&(L.disabled=A)},d(C){C&&H(e),Ae(b,C),j=!1,we(B)}}}function tn(t){let e;return{c(){e=o("span"),e.textContent="...",i(e,"class","page-ellipsis")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function ln(t){let e,l,s,a,r,c;function f(){return t[35](t[43])}return{c(){e=o("button"),l=E(t[43]),s=m(),i(e,"class",a="page-btn "+(t[43]===t[3]?"active":""))},m(u,d){O(u,e,d),n(e,l),n(e,s),r||(c=J(e,"click",f),r=!0)},p(u,d){t=u,d[0]&8&&a!==(a="page-btn "+(t[43]===t[3]?"active":""))&&i(e,"class",a)},d(u){u&&H(e),r=!1,c()}}}function Lt(t){let e;function l(r,c){if(r[43]===1||r[43]===r[13]||r[43]>=r[3]-2&&r[43]<=r[3]+2)return ln;if(r[43]===r[3]-3||r[43]===r[3]+3)return tn}let s=l(t),a=s&&s(t);return{c(){a&&a.c(),e=Ye()},m(r,c){a&&a.m(r,c),O(r,e,c)},p(r,c){s===(s=l(r))&&a?a.p(r,c):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){r&&H(e),a&&a.d(r)}}}function At(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_,M=t[12]?"Adding...":"Add to Bucket List",Y,V,D,S=t[11]&&St(t);return{c(){e=o("div"),l=o("div"),s=o("div"),a=o("h2"),a.textContent="Add New Trip to Bucket List",r=m(),c=o("button"),c.textContent="√ó",f=m(),u=o("form"),S&&S.c(),d=m(),h=o("div"),p=o("label"),p.textContent="Trip Name *",g=m(),v=o("input"),w=m(),y=o("div"),k=o("label"),k.textContent="Location *",N=m(),T=o("input"),F=m(),I=o("div"),L=o("label"),L.textContent="Date (Optional)",U=m(),A=o("input"),j=m(),B=o("div"),P=o("button"),b=E("Cancel"),C=m(),_=o("button"),Y=E(M),i(a,"class","svelte-hicz6b"),i(c,"class","modal-close svelte-hicz6b"),i(s,"class","modal-header svelte-hicz6b"),i(p,"for","trip-name"),i(p,"class","svelte-hicz6b"),i(v,"id","trip-name"),i(v,"type","text"),i(v,"placeholder","e.g., Visit Paris"),v.required=!0,v.disabled=t[12],i(v,"class","svelte-hicz6b"),i(h,"class","form-group svelte-hicz6b"),i(k,"for","trip-location"),i(k,"class","svelte-hicz6b"),i(T,"id","trip-location"),i(T,"type","text"),i(T,"placeholder","e.g., Paris, France"),T.required=!0,T.disabled=t[12],i(T,"class","svelte-hicz6b"),i(y,"class","form-group svelte-hicz6b"),i(L,"for","trip-date"),i(L,"class","svelte-hicz6b"),i(A,"id","trip-date"),i(A,"type","date"),A.disabled=t[12],i(A,"class","svelte-hicz6b"),i(I,"class","form-group svelte-hicz6b"),i(P,"type","button"),i(P,"class","btn-cancel svelte-hicz6b"),P.disabled=t[12],i(_,"type","submit"),i(_,"class","btn-submit svelte-hicz6b"),_.disabled=t[12],i(B,"class","form-actions svelte-hicz6b"),i(u,"class","trip-form svelte-hicz6b"),i(l,"class","modal-content svelte-hicz6b"),i(e,"class","modal-overlay svelte-hicz6b")},m(z,R){O(z,e,R),n(e,l),n(l,s),n(s,a),n(s,r),n(s,c),n(l,f),n(l,u),S&&S.m(u,null),n(u,d),n(u,h),n(h,p),n(h,g),n(h,v),se(v,t[10].name),n(u,w),n(u,y),n(y,k),n(y,N),n(y,T),se(T,t[10].location),n(u,F),n(u,I),n(I,L),n(I,U),n(I,A),se(A,t[10].date),n(u,j),n(u,B),n(B,P),n(P,b),n(B,C),n(B,_),n(_,Y),V||(D=[J(c,"click",t[19]),J(v,"input",t[36]),J(T,"input",t[37]),J(A,"input",t[38]),J(P,"click",t[19]),J(u,"submit",Xe(t[17])),J(l,"click",hl(t[30])),J(e,"click",t[19])],V=!0)},p(z,R){z[11]?S?S.p(z,R):(S=St(z),S.c(),S.m(u,d)):S&&(S.d(1),S=null),R[0]&4096&&(v.disabled=z[12]),R[0]&1024&&v.value!==z[10].name&&se(v,z[10].name),R[0]&4096&&(T.disabled=z[12]),R[0]&1024&&T.value!==z[10].location&&se(T,z[10].location),R[0]&4096&&(A.disabled=z[12]),R[0]&1024&&se(A,z[10].date),R[0]&4096&&(P.disabled=z[12]),R[0]&4096&&M!==(M=z[12]?"Adding...":"Add to Bucket List")&&$(Y,M),R[0]&4096&&(_.disabled=z[12])},d(z){z&&H(e),S&&S.d(),V=!1,we(D)}}}function St(t){let e,l;return{c(){e=o("div"),l=E(t[11]),i(e,"class","form-error svelte-hicz6b")},m(s,a){O(s,e,a),n(e,l)},p(s,a){a[0]&2048&&$(l,s[11])},d(s){s&&H(e)}}}function nn(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_,M,Y,V,D,S,z,R,X,ce,ie,q,W,le,G,ee,de,he,ve,_e,be,me,ke=fe(t[21]),x=[];for(let K=0;K<ke.length;K+=1)x[K]=kt(bt(t,ke,K));let ye=fe(t[20]),Q=[];for(let K=0;K<ye.length;K+=1)Q[K]=wt(_t(t,ye,K));function ue(K,ge){return K[7]?en:K[8]?xl:K[6].length===0&&K[16]?Zl:K[16]?Ql:Xl}let pe=ue(t),Z=pe(t),oe=t[9]&&At(t);return{c(){e=o("main"),l=o("section"),s=o("div"),a=o("div"),r=o("h1"),r.textContent="My Bucket List",c=m(),f=o("p"),f.textContent="Dream it. Plan it. Do it.",u=m(),d=o("div"),h=o("div"),p=o("span"),g=E(t[14]),v=m(),w=o("span"),w.textContent="Active Goals",y=m(),k=o("div"),N=o("span"),N.textContent=`${t[20].length-1}`,T=m(),F=o("span"),F.textContent="Categories",I=m(),L=o("section"),U=o("div"),A=o("div"),j=o("h2"),j.textContent="Filter & Sort",B=m(),P=o("div"),b=o("div"),C=o("input"),_=m(),M=o("span"),M.textContent="üîç",Y=m(),V=o("select");for(let K=0;K<x.length;K+=1)x[K].c();D=m(),S=o("div");for(let K=0;K<Q.length;K+=1)Q[K].c();z=m(),R=o("section"),X=o("div"),Z.c(),ce=m(),ie=o("section"),q=o("div"),W=o("div"),le=o("h2"),le.textContent="Ready to add more dreams?",G=m(),ee=o("p"),ee.textContent="Start building your ultimate bucket list today",de=m(),he=o("button"),he.innerHTML=`<span class="btn-icon">+</span>
          Add New Item`,ve=m(),oe&&oe.c(),_e=Ye(),i(p,"class","stat-number"),i(w,"class","stat-label"),i(h,"class","stat-item"),i(N,"class","stat-number"),i(F,"class","stat-label"),i(k,"class","stat-item"),i(d,"class","stats"),i(a,"class","hero-content"),i(s,"class","container"),i(l,"class","hero"),i(C,"type","text"),i(C,"placeholder","Search your bucket list..."),i(C,"class","search-input"),i(M,"class","search-icon"),i(b,"class","search-box"),i(V,"class","sort-select"),t[1]===void 0&&tt(()=>t[32].call(V)),i(P,"class","filters-controls"),i(A,"class","filters-header"),i(S,"class","category-filters"),i(U,"class","container"),i(L,"class","filters-section"),i(X,"class","container"),i(R,"class","bucket-items"),i(he,"class","add-item-btn"),i(W,"class","cta-content"),i(q,"class","container"),i(ie,"class","add-item-cta"),i(e,"class","bucket-list-page")},m(K,ge){O(K,e,ge),n(e,l),n(l,s),n(s,a),n(a,r),n(a,c),n(a,f),n(a,u),n(a,d),n(d,h),n(h,p),n(p,g),n(h,v),n(h,w),n(d,y),n(d,k),n(k,N),n(k,T),n(k,F),n(e,I),n(e,L),n(L,U),n(U,A),n(A,j),n(A,B),n(A,P),n(P,b),n(b,C),se(C,t[2]),n(b,_),n(b,M),n(P,Y),n(P,V);for(let ne=0;ne<x.length;ne+=1)x[ne]&&x[ne].m(V,null);ut(V,t[1],!0),n(U,D),n(U,S);for(let ne=0;ne<Q.length;ne+=1)Q[ne]&&Q[ne].m(S,null);n(e,z),n(e,R),n(R,X),Z.m(X,null),n(e,ce),n(e,ie),n(ie,q),n(q,W),n(W,le),n(W,G),n(W,ee),n(W,de),n(W,he),O(K,ve,ge),oe&&oe.m(K,ge),O(K,_e,ge),be||(me=[J(C,"input",t[31]),J(V,"change",t[32]),J(he,"click",t[18])],be=!0)},p(K,ge){if(ge[0]&16384&&$(g,K[14]),ge[0]&4&&C.value!==K[2]&&se(C,K[2]),ge[0]&2097152){ke=fe(K[21]);let ne;for(ne=0;ne<ke.length;ne+=1){const Be=bt(K,ke,ne);x[ne]?x[ne].p(Be,ge):(x[ne]=kt(Be),x[ne].c(),x[ne].m(V,null))}for(;ne<x.length;ne+=1)x[ne].d(1);x.length=ke.length}if(ge[0]&2097154&&ut(V,K[1]),ge[0]&1048577){ye=fe(K[20]);let ne;for(ne=0;ne<ye.length;ne+=1){const Be=_t(K,ye,ne);Q[ne]?Q[ne].p(Be,ge):(Q[ne]=wt(Be),Q[ne].c(),Q[ne].m(S,null))}for(;ne<Q.length;ne+=1)Q[ne].d(1);Q.length=ye.length}pe===(pe=ue(K))&&Z?Z.p(K,ge):(Z.d(1),Z=pe(K),Z&&(Z.c(),Z.m(X,null))),K[9]?oe?oe.p(K,ge):(oe=At(K),oe.c(),oe.m(_e.parentNode,_e)):oe&&(oe.d(1),oe=null)},i:te,o:te,d(K){K&&(H(e),H(ve),H(_e)),Ae(x,K),Ae(Q,K),Z.d(),oe&&oe.d(K),be=!1,we(me)}}}const st=10;function sn(t){t.completed=!t.completed,t.completed&&!t.completedDate&&(t.completedDate=new Date().toISOString().split("T")[0])}function Pt(t){switch(t){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}function an(t,e,l){let s,a,r,c,f,u,d,h,p,g,v=[],w=!0,y=null,k=!1,N={name:"",location:"",date:""},T=null,F=!1;async function I(){l(7,w=!0),l(8,y=null);try{const G=await Yl();G.success&&G.trips&&l(25,v=G.trips.map(ee=>({id:ee.id,title:ee.name||ee.location,description:ee.location||`Trip to ${ee.name||"Unknown"}`,category:"adventure",priority:"medium",completed:!1,dateAdded:ee.date||new Date().toISOString().split("T")[0],image:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"})))}catch(G){console.error("Error loading bucket list:",G),l(8,y=G.message||"Failed to load bucket list")}finally{l(7,w=!1)}}He(()=>{I()});async function L(){if(l(11,T=null),l(12,F=!0),!N.name||!N.location){l(11,T="Name and location are required"),l(12,F=!1);return}try{(await Kl({name:N.name,location:N.location,date:N.date||null})).success&&(l(10,N={name:"",location:"",date:""}),l(9,k=!1),await I())}catch(G){l(11,T=G.message||"Failed to create trip")}finally{l(12,F=!1)}}function U(){l(9,k=!0),l(11,T=null),l(10,N={name:"",location:"",date:""})}function A(){l(9,k=!1),l(11,T=null),l(10,N={name:"",location:"",date:""})}let j="all",B="date-added",P="",b=1;const C=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}],_=[{name:"Date Added",value:"date-added"},{name:"Priority",value:"priority"},{name:"Title",value:"title"},{name:"Category",value:"category"}];let M="";function Y(){b<c&&l(3,b++,b)}function V(){b>1&&l(3,b--,b)}function D(G){l(3,b=G)}function S(G){gl.call(this,t,G)}function z(){P=this.value,l(2,P)}function R(){B=Cl(this),l(1,B),l(21,_)}const X=G=>l(0,j=G.value),ce=G=>sn(G),ie=G=>D(G);function q(){N.name=this.value,l(10,N)}function W(){N.location=this.value,l(10,N)}function le(){N.date=this.value,l(10,N)}return t.$$.update=()=>{t.$$.dirty[0]&33554437&&l(29,s=v.filter(G=>{const ee=j==="all"||G.category===j,de=G.title.toLowerCase().includes(P.toLowerCase())||G.description.toLowerCase().includes(P.toLowerCase()),he=!G.completed;return ee&&de&&he})),t.$$.dirty[0]&33554432&&l(16,a=v.length>0),t.$$.dirty[0]&536870914&&l(6,r=[...s].sort((G,ee)=>{switch(B){case"priority":const de={high:3,medium:2,low:1};return de[ee.priority]-de[G.priority];case"title":return G.title.localeCompare(ee.title);case"category":return G.category.localeCompare(ee.category);default:return new Date(ee.dateAdded)-new Date(G.dateAdded)}})),t.$$.dirty[0]&64&&l(13,c=Math.ceil(r.length/st)),t.$$.dirty[0]&7&&l(27,f=`${j}-${B}-${P}`),t.$$.dirty[0]&201326592&&(M&&M!==f&&l(3,b=1),l(26,M=f)),t.$$.dirty[0]&8&&l(5,u=(b-1)*st),t.$$.dirty[0]&32&&l(4,d=u+st),t.$$.dirty[0]&112&&l(15,h=r.slice(u,d)),t.$$.dirty[0]&33554432&&l(28,p=v.filter(G=>!G.completed)),t.$$.dirty[0]&268435456&&l(14,g=p.length),t.$$.dirty[0]&33554432&&v.filter(G=>G.completed).length,t.$$.dirty[0]&33554432&&v.length},[j,B,P,b,d,u,r,w,y,k,N,T,F,c,g,h,a,L,U,A,C,_,Y,V,D,v,M,f,p,s,S,z,R,X,ce,ie,q,W,le]}class on extends Fe{constructor(e){super(),je(this,e,an,nn,Ie,{},null,[-1,-1])}}function Nt(t,e,l){const s=t.slice();return s[25]=e[l],s}function It(t,e,l){const s=t.slice();return s[28]=e[l],s}function Mt(t){let e,l,s=t[8][t[28].value]+"",a,r;return{c(){e=o("span"),l=E("("),a=E(s),r=E(")"),i(e,"class","category-count svelte-1sswxwr")},m(c,f){O(c,e,f),n(e,l),n(e,a),n(e,r)},p(c,f){f&256&&s!==(s=c[8][c[28].value]+"")&&$(a,s)},d(c){c&&H(e)}}}function Dt(t){let e,l,s,a,r,c,f,u,d,h=t[8][t[28].value]&&Mt(t);function p(){return t[20](t[28])}return{c(){e=o("button"),l=o("span"),l.textContent=`${t[28].emoji}`,s=m(),a=o("span"),a.textContent=`${t[28].name}`,r=m(),h&&h.c(),c=m(),i(l,"class","category-emoji"),i(a,"class","category-name"),i(e,"class",f="category-btn "+(t[0]===t[28].value?"active":"")+" svelte-1sswxwr"),$e(e,"--category-color",t[28].color)},m(g,v){O(g,e,v),n(e,l),n(e,s),n(e,a),n(e,r),h&&h.m(e,null),n(e,c),u||(d=J(e,"click",p),u=!0)},p(g,v){t=g,t[8][t[28].value]?h?h.p(t,v):(h=Mt(t),h.c(),h.m(e,c)):h&&(h.d(1),h=null),v&1&&f!==(f="category-btn "+(t[0]===t[28].value?"active":"")+" svelte-1sswxwr")&&i(e,"class",f)},d(g){g&&H(e),h&&h.d(),u=!1,d()}}}function rn(t){let e,l=fe(t[10]),s=[];for(let a=0;a<l.length;a+=1)s[a]=jt(Nt(t,l,a));return{c(){e=o("div");for(let a=0;a<s.length;a+=1)s[a].c();i(e,"class","items-grid")},m(a,r){O(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(a,r){if(r&1024){l=fe(a[10]);let c;for(c=0;c<l.length;c+=1){const f=Nt(a,l,c);s[c]?s[c].p(f,r):(s[c]=jt(f),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=l.length}},d(a){a&&H(e),Ae(s,a)}}}function cn(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚úàÔ∏è</div> <h3>No trips yet</h3> <p>Start your journey by adding items to your bucket list and completing your first adventure!</p>',i(e,"class","empty-state")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function un(t){let e,l,s,a,r,c,f;return{c(){e=o("div"),l=o("div"),l.textContent="‚ö†Ô∏è",s=m(),a=o("h3"),a.textContent="Error loading trips",r=m(),c=o("p"),f=E(t[3]),i(l,"class","empty-icon"),i(e,"class","empty-state")},m(u,d){O(u,e,d),n(e,l),n(e,s),n(e,a),n(e,r),n(e,c),n(c,f)},p(u,d){d&8&&$(f,u[3])},d(u){u&&H(e)}}}function dn(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="empty-icon">‚è≥</div> <h3>Loading...</h3> <p>Loading your trips...</p>',i(e,"class","empty-state")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function jt(t){let e,l,s,a=t[25].priority+"",r,c,f,u,d,h,p,g,v,w=t[25].title+"",y,k,N,T=t[25].category+"",F,I,L,U=t[25].description+"",A,j,B,P,b,C=xe(t[25].dateAdded)+"",_,M,Y,V,D=xe(t[25].completedDate)+"",S,z,R,X,ce=qt(t[25].completedDate)+"",ie,q,W;return{c(){e=o("div"),l=o("div"),s=o("div"),r=E(a),f=m(),u=o("div"),u.textContent="‚úì Completed",h=m(),p=o("div"),g=o("div"),v=o("h3"),y=E(w),k=m(),N=o("span"),F=E(T),I=m(),L=o("p"),A=E(U),j=m(),B=o("div"),P=o("span"),b=E("Added: "),_=E(C),M=m(),Y=o("span"),V=E("‚úì Completed: "),S=E(D),z=m(),R=o("span"),X=E("("),ie=E(ce),q=E(" days ago)"),W=m(),i(s,"class","priority-badge"),i(s,"style",c=`background-color: ${Bt(t[25].priority)}`),i(u,"class","completed-badge svelte-1sswxwr"),i(l,"class","item-image"),i(l,"style",d=`background-image: url('${t[25].image}')`),i(v,"class","item-title"),i(N,"class","item-category"),i(g,"class","item-header"),i(L,"class","item-description"),i(P,"class","item-date"),i(Y,"class","completed-date"),i(R,"class","days-ago svelte-1sswxwr"),i(B,"class","item-footer"),i(p,"class","item-content"),i(e,"class","bucket-item completed svelte-1sswxwr")},m(le,G){O(le,e,G),n(e,l),n(l,s),n(s,r),n(l,f),n(l,u),n(e,h),n(e,p),n(p,g),n(g,v),n(v,y),n(g,k),n(g,N),n(N,F),n(p,I),n(p,L),n(L,A),n(p,j),n(p,B),n(B,P),n(P,b),n(P,_),n(B,M),n(B,Y),n(Y,V),n(Y,S),n(B,z),n(B,R),n(R,X),n(R,ie),n(R,q),n(e,W)},p(le,G){G&1024&&a!==(a=le[25].priority+"")&&$(r,a),G&1024&&c!==(c=`background-color: ${Bt(le[25].priority)}`)&&i(s,"style",c),G&1024&&d!==(d=`background-image: url('${le[25].image}')`)&&i(l,"style",d),G&1024&&w!==(w=le[25].title+"")&&$(y,w),G&1024&&T!==(T=le[25].category+"")&&$(F,T),G&1024&&U!==(U=le[25].description+"")&&$(A,U),G&1024&&C!==(C=xe(le[25].dateAdded)+"")&&$(_,C),G&1024&&D!==(D=xe(le[25].completedDate)+"")&&$(S,D),G&1024&&ce!==(ce=qt(le[25].completedDate)+"")&&$(ie,ce)},d(le){le&&H(e)}}}function Ft(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_,M=t[7]?"Adding...":"Add to My Trips",Y,V,D,S=t[6]&&Et(t);return{c(){e=o("div"),l=o("div"),s=o("div"),a=o("h2"),a.textContent="Add Completed Trip",r=m(),c=o("button"),c.textContent="√ó",f=m(),u=o("form"),S&&S.c(),d=m(),h=o("div"),p=o("label"),p.textContent="Trip Name *",g=m(),v=o("input"),w=m(),y=o("div"),k=o("label"),k.textContent="Location *",N=m(),T=o("input"),F=m(),I=o("div"),L=o("label"),L.textContent="Date (Optional)",U=m(),A=o("input"),j=m(),B=o("div"),P=o("button"),b=E("Cancel"),C=m(),_=o("button"),Y=E(M),i(a,"class","svelte-1sswxwr"),i(c,"class","modal-close svelte-1sswxwr"),i(s,"class","modal-header svelte-1sswxwr"),i(p,"for","trip-name"),i(p,"class","svelte-1sswxwr"),i(v,"id","trip-name"),i(v,"type","text"),i(v,"placeholder","e.g., Visit Paris"),v.required=!0,v.disabled=t[7],i(v,"class","svelte-1sswxwr"),i(h,"class","form-group svelte-1sswxwr"),i(k,"for","trip-location"),i(k,"class","svelte-1sswxwr"),i(T,"id","trip-location"),i(T,"type","text"),i(T,"placeholder","e.g., Paris, France"),T.required=!0,T.disabled=t[7],i(T,"class","svelte-1sswxwr"),i(y,"class","form-group svelte-1sswxwr"),i(L,"for","trip-date"),i(L,"class","svelte-1sswxwr"),i(A,"id","trip-date"),i(A,"type","date"),A.disabled=t[7],i(A,"class","svelte-1sswxwr"),i(I,"class","form-group svelte-1sswxwr"),i(P,"type","button"),i(P,"class","btn-cancel svelte-1sswxwr"),P.disabled=t[7],i(_,"type","submit"),i(_,"class","btn-submit svelte-1sswxwr"),_.disabled=t[7],i(B,"class","form-actions svelte-1sswxwr"),i(u,"class","trip-form svelte-1sswxwr"),i(l,"class","modal-content svelte-1sswxwr"),i(e,"class","modal-overlay svelte-1sswxwr")},m(z,R){O(z,e,R),n(e,l),n(l,s),n(s,a),n(s,r),n(s,c),n(l,f),n(l,u),S&&S.m(u,null),n(u,d),n(u,h),n(h,p),n(h,g),n(h,v),se(v,t[5].name),n(u,w),n(u,y),n(y,k),n(y,N),n(y,T),se(T,t[5].location),n(u,F),n(u,I),n(I,L),n(I,U),n(I,A),se(A,t[5].date),n(u,j),n(u,B),n(B,P),n(P,b),n(B,C),n(B,_),n(_,Y),V||(D=[J(c,"click",t[13]),J(v,"input",t[21]),J(T,"input",t[22]),J(A,"input",t[23]),J(P,"click",t[13]),J(u,"submit",Xe(t[11])),J(l,"click",hl(t[18])),J(e,"click",t[13])],V=!0)},p(z,R){z[6]?S?S.p(z,R):(S=Et(z),S.c(),S.m(u,d)):S&&(S.d(1),S=null),R&128&&(v.disabled=z[7]),R&32&&v.value!==z[5].name&&se(v,z[5].name),R&128&&(T.disabled=z[7]),R&32&&T.value!==z[5].location&&se(T,z[5].location),R&128&&(A.disabled=z[7]),R&32&&se(A,z[5].date),R&128&&(P.disabled=z[7]),R&128&&M!==(M=z[7]?"Adding...":"Add to My Trips")&&$(Y,M),R&128&&(_.disabled=z[7])},d(z){z&&H(e),S&&S.d(),V=!1,we(D)}}}function Et(t){let e,l;return{c(){e=o("div"),l=E(t[6]),i(e,"class","form-error svelte-1sswxwr")},m(s,a){O(s,e,a),n(e,l)},p(s,a){a&64&&$(l,s[6])},d(s){s&&H(e)}}}function fn(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T=Object.keys(t[8]).length+"",F,I,L,U,A,j,B,P,b,C,_,M,Y,V,D,S,z,R,X,ce,ie,q,W,le,G,ee,de,he,ve,_e,be,me,ke=fe(t[14]),x=[];for(let Z=0;Z<ke.length;Z+=1)x[Z]=Dt(It(t,ke,Z));function ye(Z,oe){return Z[2]?dn:Z[3]?un:Z[10].length===0?cn:rn}let Q=ye(t),ue=Q(t),pe=t[4]&&Ft(t);return{c(){e=o("main"),l=o("section"),s=o("div"),a=o("div"),r=o("h1"),r.textContent="My Completed Trips",c=m(),f=o("p"),f.textContent="Celebrate your adventures and travel achievements",u=m(),d=o("div"),h=o("div"),p=o("span"),g=E(t[9]),v=m(),w=o("span"),w.textContent="Trips Completed",y=m(),k=o("div"),N=o("span"),F=E(T),I=m(),L=o("span"),L.textContent="Categories",U=m(),A=o("section"),j=o("div"),B=o("div"),P=o("h2"),P.textContent="Filter Your Adventures",b=m(),C=o("div"),_=o("div"),M=o("input"),Y=m(),V=o("span"),V.textContent="üîç",D=m(),S=o("div");for(let Z=0;Z<x.length;Z+=1)x[Z].c();z=m(),R=o("section"),X=o("div"),ue.c(),ce=m(),ie=o("section"),q=o("div"),W=o("div"),le=o("h2"),le.textContent="Keep the adventure going!",G=m(),ee=o("p"),ee.textContent="Your journey doesn't end here. Add more completed trips to your collection",de=m(),he=o("button"),he.innerHTML=`<span class="btn-icon">+</span>
          Add Completed Trip`,ve=m(),pe&&pe.c(),_e=Ye(),i(p,"class","stat-number"),i(w,"class","stat-label"),i(h,"class","stat-item"),i(N,"class","stat-number"),i(L,"class","stat-label"),i(k,"class","stat-item"),i(d,"class","stats"),i(a,"class","hero-content"),i(s,"class","container"),i(l,"class","hero"),i(M,"type","text"),i(M,"placeholder","Search your completed trips..."),i(M,"class","search-input"),i(V,"class","search-icon"),i(_,"class","search-box"),i(C,"class","filters-controls"),i(B,"class","filters-header"),i(S,"class","category-filters"),i(j,"class","container"),i(A,"class","filters-section"),i(X,"class","container"),i(R,"class","bucket-items"),i(he,"class","add-item-btn svelte-1sswxwr"),i(W,"class","cta-content"),i(q,"class","container"),i(ie,"class","add-item-cta"),i(e,"class","bucket-list-page")},m(Z,oe){O(Z,e,oe),n(e,l),n(l,s),n(s,a),n(a,r),n(a,c),n(a,f),n(a,u),n(a,d),n(d,h),n(h,p),n(p,g),n(h,v),n(h,w),n(d,y),n(d,k),n(k,N),n(N,F),n(k,I),n(k,L),n(e,U),n(e,A),n(A,j),n(j,B),n(B,P),n(B,b),n(B,C),n(C,_),n(_,M),se(M,t[1]),n(_,Y),n(_,V),n(j,D),n(j,S);for(let K=0;K<x.length;K+=1)x[K]&&x[K].m(S,null);n(e,z),n(e,R),n(R,X),ue.m(X,null),n(e,ce),n(e,ie),n(ie,q),n(q,W),n(W,le),n(W,G),n(W,ee),n(W,de),n(W,he),O(Z,ve,oe),pe&&pe.m(Z,oe),O(Z,_e,oe),be||(me=[J(M,"input",t[19]),J(he,"click",t[12])],be=!0)},p(Z,[oe]){if(oe&512&&$(g,Z[9]),oe&256&&T!==(T=Object.keys(Z[8]).length+"")&&$(F,T),oe&2&&M.value!==Z[1]&&se(M,Z[1]),oe&16641){ke=fe(Z[14]);let K;for(K=0;K<ke.length;K+=1){const ge=It(Z,ke,K);x[K]?x[K].p(ge,oe):(x[K]=Dt(ge),x[K].c(),x[K].m(S,null))}for(;K<x.length;K+=1)x[K].d(1);x.length=ke.length}Q===(Q=ye(Z))&&ue?ue.p(Z,oe):(ue.d(1),ue=Q(Z),ue&&(ue.c(),ue.m(X,null))),Z[4]?pe?pe.p(Z,oe):(pe=Ft(Z),pe.c(),pe.m(_e.parentNode,_e)):pe&&(pe.d(1),pe=null)},i:te,o:te,d(Z){Z&&(H(e),H(ve),H(_e)),Ae(x,Z),ue.d(),pe&&pe.d(Z),be=!1,we(me)}}}function Bt(t){switch(t){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}function qt(t){return Math.floor((new Date-new Date(t))/864e5)}function xe(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function pn(t,e,l){let s,a,r,c,f,u=[],d=!0,h=null,p=!1,g={name:"",location:"",date:""},v=null,w=!1;async function y(){l(2,d=!0),l(3,h=null);try{const C=await Jl();C.success&&C.trips&&l(15,u=C.trips.map(_=>({id:_.id,title:_.name||_.location,description:_.location||`Trip to ${_.name||"Unknown"}`,category:"adventure",priority:"medium",completed:!0,dateAdded:_.date||new Date().toISOString().split("T")[0],completedDate:_.date||new Date().toISOString().split("T")[0],image:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400"})))}catch(C){console.error("Error loading trips:",C),l(3,h=C.message||"Failed to load trips")}finally{l(2,d=!1)}}He(()=>{y()});async function k(){if(l(6,v=null),l(7,w=!0),!g.name||!g.location){l(6,v="Name and location are required"),l(7,w=!1);return}try{(await $l({name:g.name,location:g.location,date:g.date||null})).success&&(l(5,g={name:"",location:"",date:""}),l(4,p=!1),await y())}catch(C){l(6,v=C.message||"Failed to create trip")}finally{l(7,w=!1)}}function N(){l(4,p=!0),l(6,v=null),l(5,g={name:"",location:"",date:""})}function T(){l(4,p=!1),l(6,v=null),l(5,g={name:"",location:"",date:""})}let F="all",I="";const L=[{name:"All",emoji:"üåç",color:"#6366f1",value:"all"},{name:"Beaches",emoji:"üèñÔ∏è",color:"#4FC3F7",value:"beaches"},{name:"Cities",emoji:"üèôÔ∏è",color:"#FF7043",value:"cities"},{name:"Mountains",emoji:"üèîÔ∏è",color:"#66BB6A",value:"mountains"},{name:"Adventure",emoji:"üßó‚Äç‚ôÄÔ∏è",color:"#AB47BC",value:"adventure"},{name:"Romantic",emoji:"üíï",color:"#F06292",value:"romantic"}];function U(C){gl.call(this,t,C)}function A(){I=this.value,l(1,I)}const j=C=>l(0,F=C.value);function B(){g.name=this.value,l(5,g)}function P(){g.location=this.value,l(5,g)}function b(){g.date=this.value,l(5,g)}return t.$$.update=()=>{t.$$.dirty&32768&&l(16,s=u.filter(C=>C.completed)),t.$$.dirty&65539&&l(17,a=s.filter(C=>{const _=F==="all"||C.category===F,M=C.title.toLowerCase().includes(I.toLowerCase())||C.description.toLowerCase().includes(I.toLowerCase());return _&&M})),t.$$.dirty&131072&&l(10,r=[...a].sort((C,_)=>new Date(_.completedDate)-new Date(C.completedDate))),t.$$.dirty&65536&&l(9,c=s.length),t.$$.dirty&65536&&l(8,f=s.reduce((C,_)=>(C[_.category]=(C[_.category]||0)+1,C),{}))},[F,I,d,h,p,g,v,w,f,c,r,k,N,T,L,u,s,a,U,A,j,B,P,b]}class mn extends Fe{constructor(e){super(),je(this,e,pn,fn,Ie,{})}}function hn(t){var ce,ie;let e,l,s,a,r=(((ce=t[0].first_name)==null?void 0:ce.charAt(0))||((ie=t[0].username)==null?void 0:ie.charAt(0))||"U").toUpperCase()+"",c,f,u,d,h,p,g=t[0].username+"",v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_=t[0].email&&Ht(t),M=t[2]&&Ot(t),Y=!t[4]&&Ut(t);function V(q,W){return q[4]?_n:bn}let D=V(t),S=D(t);function z(q,W){return q[3]?Cn:yn}let R=z(t),X=R(t);return{c(){e=o("div"),l=o("div"),s=o("div"),a=o("span"),c=E(r),f=m(),u=o("div"),d=o("h1"),d.textContent=`${t[12]()}`,h=m(),p=o("p"),v=E(g),w=m(),_&&_.c(),y=m(),M&&M.c(),k=m(),N=o("div"),T=o("div"),F=o("div"),I=o("h3"),I.textContent="Account Information",L=m(),Y&&Y.c(),U=m(),S.c(),A=m(),j=o("div"),B=o("button"),X.c(),i(a,"class","avatar-icon svelte-1aken4e"),i(s,"class","profile-avatar svelte-1aken4e"),i(d,"class","svelte-1aken4e"),i(p,"class","user-subtitle svelte-1aken4e"),i(u,"class","profile-info svelte-1aken4e"),i(l,"class","profile-header svelte-1aken4e"),i(I,"class","svelte-1aken4e"),i(F,"class","card-header svelte-1aken4e"),i(T,"class","detail-card svelte-1aken4e"),i(N,"class","profile-details svelte-1aken4e"),i(B,"class","btn btn-danger svelte-1aken4e"),B.disabled=P=t[3]||t[4],i(j,"class","profile-actions svelte-1aken4e"),i(e,"class","profile-container svelte-1aken4e")},m(q,W){O(q,e,W),n(e,l),n(l,s),n(s,a),n(a,c),n(l,f),n(l,u),n(u,d),n(u,h),n(u,p),n(p,v),n(u,w),_&&_.m(u,null),n(e,y),M&&M.m(e,null),n(e,k),n(e,N),n(N,T),n(T,F),n(F,I),n(F,L),Y&&Y.m(F,null),n(T,U),S.m(T,null),n(e,A),n(e,j),n(j,B),X.m(B,null),b||(C=J(B,"click",t[11]),b=!0)},p(q,W){var le,G;W&1&&r!==(r=(((le=q[0].first_name)==null?void 0:le.charAt(0))||((G=q[0].username)==null?void 0:G.charAt(0))||"U").toUpperCase()+"")&&$(c,r),W&1&&g!==(g=q[0].username+"")&&$(v,g),q[0].email?_?_.p(q,W):(_=Ht(q),_.c(),_.m(u,null)):_&&(_.d(1),_=null),q[2]?M?M.p(q,W):(M=Ot(q),M.c(),M.m(e,k)):M&&(M.d(1),M=null),q[4]?Y&&(Y.d(1),Y=null):Y?Y.p(q,W):(Y=Ut(q),Y.c(),Y.m(F,null)),D===(D=V(q))&&S?S.p(q,W):(S.d(1),S=D(q),S&&(S.c(),S.m(T,null))),R!==(R=z(q))&&(X.d(1),X=R(q),X&&(X.c(),X.m(B,null))),W&24&&P!==(P=q[3]||q[4])&&(B.disabled=P)},d(q){q&&H(e),_&&_.d(),M&&M.d(),Y&&Y.d(),S.d(),X.d(),b=!1,C()}}}function gn(t){let e,l,s,a,r,c,f;return{c(){e=o("div"),l=o("div"),s=E(t[2]),a=m(),r=o("button"),r.textContent="Try Again",i(l,"class","alert alert-error svelte-1aken4e"),i(r,"class","btn btn-primary svelte-1aken4e"),i(e,"class","error-state svelte-1aken4e")},m(u,d){O(u,e,d),n(e,l),n(l,s),n(e,a),n(e,r),c||(f=J(r,"click",t[7]),c=!0)},p(u,d){d&4&&$(s,u[2])},d(u){u&&H(e),c=!1,f()}}}function vn(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="spinner svelte-1aken4e"></div> <p>Loading profile...</p>',i(e,"class","loading-state svelte-1aken4e")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function Ht(t){let e,l=t[0].email+"",s;return{c(){e=o("p"),s=E(l),i(e,"class","user-email svelte-1aken4e")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&1&&l!==(l=a[0].email+"")&&$(s,l)},d(a){a&&H(e)}}}function Ot(t){let e,l;return{c(){e=o("div"),l=E(t[2]),i(e,"class","alert alert-error svelte-1aken4e")},m(s,a){O(s,e,a),n(e,l)},p(s,a){a&4&&$(l,s[2])},d(s){s&&H(e)}}}function Ut(t){let e,l,s;return{c(){e=o("button"),e.innerHTML="<span>‚úèÔ∏è</span> Edit",i(e,"class","btn-edit svelte-1aken4e")},m(a,r){O(a,e,r),l||(s=J(e,"click",t[8]),l=!0)},p:te,d(a){a&&H(e),l=!1,s()}}}function _n(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_;function M(D,S){return D[5]?wn:kn}let Y=M(t),V=Y(t);return{c(){e=o("form"),l=o("div"),s=o("label"),s.textContent="Username",a=m(),r=o("input"),c=m(),f=o("div"),u=o("div"),d=o("label"),d.textContent="First Name",h=m(),p=o("input"),g=m(),v=o("div"),w=o("label"),w.textContent="Last Name",y=m(),k=o("input"),N=m(),T=o("div"),F=o("label"),F.textContent="Email",I=m(),L=o("input"),U=m(),A=o("div"),j=o("button"),B=E("Cancel"),P=m(),b=o("button"),V.c(),i(s,"for","username"),i(s,"class","svelte-1aken4e"),i(r,"id","username"),i(r,"type","text"),i(r,"placeholder","Username"),r.required=!0,i(r,"class","svelte-1aken4e"),i(l,"class","form-group svelte-1aken4e"),i(d,"for","first_name"),i(d,"class","svelte-1aken4e"),i(p,"id","first_name"),i(p,"type","text"),i(p,"placeholder","First Name"),i(p,"class","svelte-1aken4e"),i(u,"class","form-group svelte-1aken4e"),i(w,"for","last_name"),i(w,"class","svelte-1aken4e"),i(k,"id","last_name"),i(k,"type","text"),i(k,"placeholder","Last Name"),i(k,"class","svelte-1aken4e"),i(v,"class","form-group svelte-1aken4e"),i(f,"class","form-row svelte-1aken4e"),i(F,"for","email"),i(F,"class","svelte-1aken4e"),i(L,"id","email"),i(L,"type","email"),i(L,"placeholder","email@example.com"),i(L,"class","svelte-1aken4e"),i(T,"class","form-group svelte-1aken4e"),i(j,"type","button"),i(j,"class","btn btn-secondary svelte-1aken4e"),j.disabled=t[5],i(b,"type","submit"),i(b,"class","btn btn-primary svelte-1aken4e"),b.disabled=t[5],i(A,"class","form-actions svelte-1aken4e"),i(e,"class","edit-form svelte-1aken4e")},m(D,S){O(D,e,S),n(e,l),n(l,s),n(l,a),n(l,r),se(r,t[6].username),n(e,c),n(e,f),n(f,u),n(u,d),n(u,h),n(u,p),se(p,t[6].first_name),n(f,g),n(f,v),n(v,w),n(v,y),n(v,k),se(k,t[6].last_name),n(e,N),n(e,T),n(T,F),n(T,I),n(T,L),se(L,t[6].email),n(e,U),n(e,A),n(A,j),n(j,B),n(A,P),n(A,b),V.m(b,null),C||(_=[J(r,"input",t[13]),J(p,"input",t[14]),J(k,"input",t[15]),J(L,"input",t[16]),J(j,"click",t[9]),J(e,"submit",Xe(t[10]))],C=!0)},p(D,S){S&64&&r.value!==D[6].username&&se(r,D[6].username),S&64&&p.value!==D[6].first_name&&se(p,D[6].first_name),S&64&&k.value!==D[6].last_name&&se(k,D[6].last_name),S&64&&L.value!==D[6].email&&se(L,D[6].email),S&32&&(j.disabled=D[5]),Y!==(Y=M(D))&&(V.d(1),V=Y(D),V&&(V.c(),V.m(b,null))),S&32&&(b.disabled=D[5])},d(D){D&&H(e),V.d(),C=!1,we(_)}}}function bn(t){let e,l,s,a,r,c=t[0].username+"",f,u,d,h,p,g,v=(t[0].first_name||"Not set")+"",w,y,k,N,T,F,I=(t[0].last_name||"Not set")+"",L,U,A,j,B,P,b=(t[0].email||"Not set")+"",C,_,M,Y,V,D,S=t[0].id+"",z;return{c(){e=o("div"),l=o("div"),s=o("span"),s.textContent="Username",a=m(),r=o("span"),f=E(c),u=m(),d=o("div"),h=o("span"),h.textContent="First Name",p=m(),g=o("span"),w=E(v),y=m(),k=o("div"),N=o("span"),N.textContent="Last Name",T=m(),F=o("span"),L=E(I),U=m(),A=o("div"),j=o("span"),j.textContent="Email",B=m(),P=o("span"),C=E(b),_=m(),M=o("div"),Y=o("span"),Y.textContent="User ID",V=m(),D=o("span"),z=E(S),i(s,"class","detail-label svelte-1aken4e"),i(r,"class","detail-value svelte-1aken4e"),i(l,"class","detail-item svelte-1aken4e"),i(h,"class","detail-label svelte-1aken4e"),i(g,"class","detail-value svelte-1aken4e"),i(d,"class","detail-item svelte-1aken4e"),i(N,"class","detail-label svelte-1aken4e"),i(F,"class","detail-value svelte-1aken4e"),i(k,"class","detail-item svelte-1aken4e"),i(j,"class","detail-label svelte-1aken4e"),i(P,"class","detail-value svelte-1aken4e"),i(A,"class","detail-item svelte-1aken4e"),i(Y,"class","detail-label svelte-1aken4e"),i(D,"class","detail-value svelte-1aken4e"),i(M,"class","detail-item svelte-1aken4e"),i(e,"class","detail-list svelte-1aken4e")},m(R,X){O(R,e,X),n(e,l),n(l,s),n(l,a),n(l,r),n(r,f),n(e,u),n(e,d),n(d,h),n(d,p),n(d,g),n(g,w),n(e,y),n(e,k),n(k,N),n(k,T),n(k,F),n(F,L),n(e,U),n(e,A),n(A,j),n(A,B),n(A,P),n(P,C),n(e,_),n(e,M),n(M,Y),n(M,V),n(M,D),n(D,z)},p(R,X){X&1&&c!==(c=R[0].username+"")&&$(f,c),X&1&&v!==(v=(R[0].first_name||"Not set")+"")&&$(w,v),X&1&&I!==(I=(R[0].last_name||"Not set")+"")&&$(L,I),X&1&&b!==(b=(R[0].email||"Not set")+"")&&$(C,b),X&1&&S!==(S=R[0].id+"")&&$(z,S)},d(R){R&&H(e)}}}function kn(t){let e;return{c(){e=E("Save Changes")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function wn(t){let e;return{c(){e=E("Saving...")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function yn(t){let e;return{c(){e=E("Logout")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Cn(t){let e;return{c(){e=E("Logging out...")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Tn(t){let e,l;function s(c,f){if(c[1])return vn;if(c[2]&&!c[0])return gn;if(c[0])return hn}let a=s(t),r=a&&a(t);return{c(){e=o("main"),l=o("div"),r&&r.c(),i(l,"class","container"),i(e,"class","profile-page svelte-1aken4e")},m(c,f){O(c,e,f),n(e,l),r&&r.m(l,null)},p(c,[f]){a===(a=s(c))&&r?r.p(c,f):(r&&r.d(1),r=a&&a(c),r&&(r.c(),r.m(l,null)))},i:te,o:te,d(c){c&&H(e),r&&r.d()}}}function Ln(t,e,l){let s=null,a=!0,r="",c=!1,f=!1,u=!1,d={username:"",first_name:"",last_name:"",email:""};He(async()=>{await new Promise(I=>setTimeout(I,100)),await h()});async function h(){l(1,a=!0),l(2,r="");try{console.log("Profile: Loading user data...");const I=await Ue();if(console.log("Profile: Auth check result:",I),I.is_authenticated)l(0,s={username:I.username,id:I.id,first_name:I.first_name||"",last_name:I.last_name||"",email:I.email||""}),l(2,r=""),console.log("Profile: User data loaded from check-auth:",s);else try{const L=await Wl();L.is_authenticated?(l(0,s={username:L.username,id:L.id,first_name:L.first_name||"",last_name:L.last_name||"",email:L.email||""}),l(2,r=""),console.log("Profile: User data loaded from getCurrentUser:",s)):(console.log("Profile: Not authenticated, redirecting to login"),setTimeout(()=>{window.location.hash="#login"},500))}catch{console.log("Profile: getCurrentUser failed, redirecting to login"),setTimeout(()=>{window.location.hash="#login"},500)}}catch(I){console.error("Profile: Failed to fetch user:",I),setTimeout(async()=>{try{const L=await Ue();L.is_authenticated?(l(0,s={username:L.username,id:L.id,first_name:L.first_name||"",last_name:L.last_name||"",email:L.email||""}),l(2,r=""),l(1,a=!1)):window.location.hash="#login"}catch{console.error("Profile: Retry failed, redirecting to login"),window.location.hash="#login"}},1e3)}finally{l(1,a=!1)}}function p(){l(4,f=!0),l(6,d={username:s.username||"",first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||""}),l(2,r="")}function g(){l(4,f=!1),l(2,r="")}async function v(){l(5,u=!0),l(2,r="");try{const I=await Gl(d);I.success?(l(0,s={...s,username:I.username||s.username,first_name:I.first_name||"",last_name:I.last_name||"",email:I.email||""}),l(4,f=!1)):l(2,r=I.error||"Failed to update profile. Please try again.")}catch(I){console.error("Update error:",I),l(2,r=I.message||"Failed to update profile. Please try again.")}finally{l(5,u=!1)}}async function w(){l(3,c=!0),l(2,r="");try{await Vl(),window.location.hash="#home",window.location.reload()}catch(I){console.error("Logout error:",I),l(2,r="Logout failed. Please try again."),l(3,c=!1)}}function y(){return s.first_name||s.last_name?`${s.first_name||""} ${s.last_name||""}`.trim():s.username}function k(){d.username=this.value,l(6,d)}function N(){d.first_name=this.value,l(6,d)}function T(){d.last_name=this.value,l(6,d)}function F(){d.email=this.value,l(6,d)}return[s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F]}class An extends Fe{constructor(e){super(),je(this,e,Ln,Tn,Ie,{})}}function Rt(t,e,l){const s=t.slice();return s[4]=e[l],s}function zt(t,e,l){const s=t.slice();return s[7]=e[l],s}function Sn(t){let e,l,s,a,r,c,f,u=t[0].name+"",d,h,p,g=t[0].price+"",v,w,y,k=t[0].description+"",N,T,F,I,L,U,A,j,B,P,b,C,_,M,Y,V,D,S,z,R,X,ce=t[0].bestTime+"",ie,q,W,le,G,ee,de=t[0].weather+"",he,ve,_e,be,me,ke,x=t[0].name+"",ye,Q,ue,pe,Z,oe,K,ge=t[0].price+"",ne,Be,rt,Re=fe(t[0].highlights),Ce=[];for(let ae=0;ae<Re.length;ae+=1)Ce[ae]=Vt(zt(t,Re,ae));let ze=fe(t[0].activities),Te=[];for(let ae=0;ae<ze.length;ae+=1)Te[ae]=Wt(Rt(t,ze,ae));return{c(){e=o("main"),l=o("section"),s=o("div"),a=o("button"),a.textContent="‚Üê Back",r=m(),c=o("div"),f=o("h1"),d=E(u),h=m(),p=o("p"),v=E(g),w=m(),y=o("p"),N=E(k),T=m(),F=o("div"),L=m(),U=o("section"),A=o("h2"),A.textContent="What Makes It Special",j=m(),B=o("div");for(let ae=0;ae<Ce.length;ae+=1)Ce[ae].c();P=m(),b=o("section"),C=o("h2"),C.textContent="Popular Activities",_=m(),M=o("div");for(let ae=0;ae<Te.length;ae+=1)Te[ae].c();Y=m(),V=o("section"),D=o("div"),S=o("div"),z=o("h3"),z.textContent="Best Time to Visit",R=m(),X=o("p"),ie=E(ce),q=m(),W=o("div"),le=o("h3"),le.textContent="Weather",G=m(),ee=o("p"),he=E(de),ve=m(),_e=o("section"),be=o("div"),me=o("h2"),ke=E("Ready to Experience "),ye=E(x),Q=E("?"),ue=m(),pe=o("p"),pe.textContent="Book your dream vacation today and create memories that will last a lifetime.",Z=m(),oe=o("button"),K=E("Book Now - "),ne=E(ge),i(a,"class","back-btn"),i(p,"class","hero-price"),i(y,"class","hero-description"),i(c,"class","hero-text"),i(s,"class","hero-content"),i(F,"class","hero-image"),i(F,"style",I=`background-image: url('${t[0].image}')`),i(l,"class","hero"),i(B,"class","highlights-grid"),i(U,"class","highlights"),i(M,"class","activities-grid"),i(b,"class","activities"),i(S,"class","info-card"),i(W,"class","info-card"),i(D,"class","info-grid"),i(V,"class","travel-info"),i(oe,"class","book-btn"),i(be,"class","booking-card"),i(_e,"class","booking"),i(e,"class","destination-page")},m(ae,Le){O(ae,e,Le),n(e,l),n(l,s),n(s,a),n(s,r),n(s,c),n(c,f),n(f,d),n(c,h),n(c,p),n(p,v),n(c,w),n(c,y),n(y,N),n(l,T),n(l,F),n(e,L),n(e,U),n(U,A),n(U,j),n(U,B);for(let re=0;re<Ce.length;re+=1)Ce[re]&&Ce[re].m(B,null);n(e,P),n(e,b),n(b,C),n(b,_),n(b,M);for(let re=0;re<Te.length;re+=1)Te[re]&&Te[re].m(M,null);n(e,Y),n(e,V),n(V,D),n(D,S),n(S,z),n(S,R),n(S,X),n(X,ie),n(D,q),n(D,W),n(W,le),n(W,G),n(W,ee),n(ee,he),n(e,ve),n(e,_e),n(_e,be),n(be,me),n(me,ke),n(me,ye),n(me,Q),n(be,ue),n(be,pe),n(be,Z),n(be,oe),n(oe,K),n(oe,ne),Be||(rt=[J(a,"click",In),J(oe,"click",t[2])],Be=!0)},p(ae,Le){if(Le&1&&u!==(u=ae[0].name+"")&&$(d,u),Le&1&&g!==(g=ae[0].price+"")&&$(v,g),Le&1&&k!==(k=ae[0].description+"")&&$(N,k),Le&1&&I!==(I=`background-image: url('${ae[0].image}')`)&&i(F,"style",I),Le&1){Re=fe(ae[0].highlights);let re;for(re=0;re<Re.length;re+=1){const Je=zt(ae,Re,re);Ce[re]?Ce[re].p(Je,Le):(Ce[re]=Vt(Je),Ce[re].c(),Ce[re].m(B,null))}for(;re<Ce.length;re+=1)Ce[re].d(1);Ce.length=Re.length}if(Le&1){ze=fe(ae[0].activities);let re;for(re=0;re<ze.length;re+=1){const Je=Rt(ae,ze,re);Te[re]?Te[re].p(Je,Le):(Te[re]=Wt(Je),Te[re].c(),Te[re].m(M,null))}for(;re<Te.length;re+=1)Te[re].d(1);Te.length=ze.length}Le&1&&ce!==(ce=ae[0].bestTime+"")&&$(ie,ce),Le&1&&de!==(de=ae[0].weather+"")&&$(he,de),Le&1&&x!==(x=ae[0].name+"")&&$(ye,x),Le&1&&ge!==(ge=ae[0].price+"")&&$(ne,ge)},d(ae){ae&&H(e),Ae(Ce,ae),Ae(Te,ae),Be=!1,we(rt)}}}function Pn(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="spinner"></div> <p>Loading destination...</p>',i(e,"class","loading")},m(l,s){O(l,e,s)},p:te,d(l){l&&H(e)}}}function Vt(t){let e,l,s,a,r=t[7]+"",c,f;return{c(){e=o("div"),l=o("div"),l.textContent="‚ú®",s=m(),a=o("p"),c=E(r),f=m(),i(l,"class","highlight-icon"),i(e,"class","highlight-item")},m(u,d){O(u,e,d),n(e,l),n(e,s),n(e,a),n(a,c),n(e,f)},p(u,d){d&1&&r!==(r=u[7]+"")&&$(c,r)},d(u){u&&H(e)}}}function Wt(t){let e,l,s=t[4].name+"",a,r,c,f,u,d=t[4].duration+"",h,p,g,v=t[4].price+"",w,y;return{c(){e=o("div"),l=o("h3"),a=E(s),r=m(),c=o("div"),f=o("span"),u=E("‚è±Ô∏è "),h=E(d),p=m(),g=o("span"),w=E(v),y=m(),i(f,"class","duration"),i(g,"class","price"),i(c,"class","activity-details"),i(e,"class","activity-card")},m(k,N){O(k,e,N),n(e,l),n(l,a),n(e,r),n(e,c),n(c,f),n(f,u),n(f,h),n(c,p),n(c,g),n(g,w),n(e,y)},p(k,N){N&1&&s!==(s=k[4].name+"")&&$(a,s),N&1&&d!==(d=k[4].duration+"")&&$(h,d),N&1&&v!==(v=k[4].price+"")&&$(w,v)},d(k){k&&H(e)}}}function Nn(t){let e;function l(r,c){if(r[1])return Pn;if(r[0])return Sn}let s=l(t),a=s&&s(t);return{c(){a&&a.c(),e=Ye()},m(r,c){a&&a.m(r,c),O(r,e,c)},p(r,[c]){s===(s=l(r))&&a?a.p(r,c):(a&&a.d(1),a=s&&s(r),a&&(a.c(),a.m(e.parentNode,e)))},i:te,o:te,d(r){r&&H(e),a&&a.d(r)}}}function In(){window.history.back()}function Mn(t,e,l){let s=null,a=!0;const r={"new-england":{name:"New England",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200",price:"From $299",description:"Experience the stunning fall foliage and charming coastal towns of New England. From the rocky shores of Maine to the historic streets of Boston, discover the perfect blend of natural beauty and rich history.",highlights:["Stunning fall foliage","Historic coastal towns","Fresh seafood cuisine","Lighthouse tours","Mountain hiking trails"],activities:[{name:"Foliage Tours",duration:"4-6 hours",price:"$89"},{name:"Lighthouse Cruise",duration:"2 hours",price:"$45"},{name:"Historic Walking Tour",duration:"3 hours",price:"$35"},{name:"Seafood Tasting",duration:"2 hours",price:"$65"}],bestTime:"September - November",weather:"Cool, crisp air with colorful foliage"},"aspen-colorado":{name:"Aspen, Colorado",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200",price:"From $450",description:"Discover the luxury mountain resort town of Aspen, famous for world-class skiing, upscale shopping, and breathtaking mountain views. Perfect for both adventure seekers and those looking for relaxation.",highlights:["World-class skiing","Luxury mountain resorts","Art galleries and culture","Fine dining scene","Scenic mountain drives"],activities:[{name:"Ski Lessons",duration:"Full day",price:"$150"},{name:"Mountain Hiking",duration:"4-6 hours",price:"$75"},{name:"Art Gallery Tour",duration:"2 hours",price:"$25"},{name:"Fine Dining Experience",duration:"2-3 hours",price:"$120"}],bestTime:"December - March (skiing), June - September (summer)",weather:"Mountain climate with snow in winter, mild summers"},vermont:{name:"Vermont",image:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=1200",price:"From $199",description:"Explore the Green Mountain State with its rolling hills, covered bridges, and charming small towns. Vermont offers a perfect escape into nature with its pristine landscapes and local farm-to-table cuisine.",highlights:["Covered bridges","Maple syrup farms","Rolling green hills","Farm-to-table dining","Artisan cheese tours"],activities:[{name:"Maple Syrup Tour",duration:"2 hours",price:"$25"},{name:"Cheese Farm Visit",duration:"3 hours",price:"$40"},{name:"Covered Bridge Tour",duration:"4 hours",price:"$55"},{name:"Farm-to-Table Dinner",duration:"2 hours",price:"$85"}],bestTime:"May - October",weather:"Mild summers, colorful autumns, snowy winters"},"bali-indonesia":{name:"Bali, Indonesia",image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=1200",price:"From $599",description:"Immerse yourself in the tropical paradise of Bali, where ancient temples meet pristine beaches. Experience the unique blend of Hindu culture, lush rice terraces, and world-class resorts.",highlights:["Ancient Hindu temples","Pristine beaches","Rice terrace landscapes","Traditional Balinese culture","Luxury beach resorts"],activities:[{name:"Temple Tour",duration:"6 hours",price:"$45"},{name:"Rice Terrace Trek",duration:"4 hours",price:"$35"},{name:"Beach Yoga Session",duration:"1.5 hours",price:"$25"},{name:"Traditional Cooking Class",duration:"3 hours",price:"$55"}],bestTime:"April - October",weather:"Tropical climate with warm temperatures year-round"},"santorini-greece":{name:"Santorini, Greece",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?w=1200",price:"From $799",description:"Discover the iconic white-washed buildings and stunning sunsets of Santorini. This volcanic island offers breathtaking views, world-class wines, and some of the most romantic settings in the world.",highlights:["Iconic white buildings","Stunning sunsets","Volcanic landscapes","World-class wines","Romantic cliffside views"],activities:[{name:"Sunset Sailing",duration:"4 hours",price:"$120"},{name:"Wine Tasting Tour",duration:"3 hours",price:"$75"},{name:"Volcano Hiking",duration:"5 hours",price:"$65"},{name:"Photography Tour",duration:"3 hours",price:"$85"}],bestTime:"May - October",weather:"Mediterranean climate with hot, dry summers"},"dubai-uae":{name:"Dubai, UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=1200",price:"From $699",description:"Experience the futuristic skyline and luxury lifestyle of Dubai. From the world's tallest building to pristine beaches, Dubai offers a unique blend of modern architecture and traditional Arabian culture.",highlights:["Burj Khalifa views","Luxury shopping malls","Desert safaris","Pristine beaches","Traditional souks"],activities:[{name:"Burj Khalifa Visit",duration:"2 hours",price:"$95"},{name:"Desert Safari",duration:"6 hours",price:"$120"},{name:"Gold Souk Tour",duration:"3 hours",price:"$45"},{name:"Luxury Shopping",duration:"4 hours",price:"$65"}],bestTime:"November - March",weather:"Desert climate with hot summers, mild winters"},"swiss-alps":{name:"Swiss Alps",image:"https://s1.it.atcdn.net/wp-content/uploads/2015/11/shutterstock_279572969.jpg",price:"From $899",description:"Discover the breathtaking beauty of the Swiss Alps with their pristine snow-capped peaks, charming alpine villages, and world-class ski resorts. Experience the perfect blend of adventure and luxury in one of Europe's most stunning mountain ranges.",highlights:["Snow-capped mountain peaks","World-class ski resorts","Charming alpine villages","Scenic train journeys","Luxury mountain hotels"],activities:[{name:"Skiing & Snowboarding",duration:"Full day",price:"$120"},{name:"Mountain Hiking",duration:"6-8 hours",price:"$85"},{name:"Scenic Train Ride",duration:"4 hours",price:"$95"},{name:"Alpine Village Tour",duration:"3 hours",price:"$65"}],bestTime:"December - March (winter sports), June - September (hiking)",weather:"Alpine climate with cold winters and mild summers"},iceland:{name:"Iceland",image:"https://cdn.britannica.com/06/171306-050-C88DD752/Aurora-borealis-peninsula-Snaefellsnes-Iceland-March-2013.jpg",price:"From $599",description:"Explore the land of fire and ice with its dramatic landscapes, powerful waterfalls, and otherworldly geothermal features. From the Northern Lights to the Blue Lagoon, Iceland offers unforgettable natural wonders.",highlights:["Northern Lights viewing","Geysers and hot springs","Dramatic waterfalls","Glacier landscapes","Blue Lagoon spa"],activities:[{name:"Northern Lights Tour",duration:"3-4 hours",price:"$75"},{name:"Golden Circle Tour",duration:"8 hours",price:"$120"},{name:"Blue Lagoon Visit",duration:"2-3 hours",price:"$85"},{name:"Glacier Hiking",duration:"4 hours",price:"$95"}],bestTime:"September - March (Northern Lights), June - August (midnight sun)",weather:"Subarctic climate with cool summers and cold winters"},"banff-canada":{name:"Banff, Canada",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200",price:"From $399",description:"Experience the stunning beauty of Canada's first national park with its turquoise lakes, towering mountain peaks, and abundant wildlife. Banff offers world-class outdoor adventures in one of the most beautiful settings on Earth.",highlights:["Turquoise glacial lakes","Towering mountain peaks","Abundant wildlife","Hot springs","World-class hiking trails"],activities:[{name:"Lake Louise Visit",duration:"4 hours",price:"$45"},{name:"Banff Gondola Ride",duration:"2 hours",price:"$65"},{name:"Wildlife Viewing Tour",duration:"3 hours",price:"$55"},{name:"Hot Springs Soak",duration:"1-2 hours",price:"$25"}],bestTime:"June - September (hiking), December - March (skiing)",weather:"Mountain climate with cool summers and cold, snowy winters"}};He(()=>{const u=window.location.hash.replace("#destination/","");u&&r[u]?l(0,s=r[u]):l(0,s=r["new-england"]),l(1,a=!1)});function c(){alert(`Booking ${s.name} - ${s.price}`)}return[s,a,c]}class Dn extends Fe{constructor(e){super(),je(this,e,Mn,Nn,Ie,{})}}function Gt(t,e,l){const s=t.slice();return s[10]=e[l],s}function Yt(t){let e;return{c(){e=o("span"),e.textContent="New",i(e,"class","chat-badge svelte-1nvcu37")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Jt(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T=fe(t[1]),F=[];for(let L=0;L<T.length;L+=1)F[L]=Kt(Gt(t,T,L));let I=t[3]&&$t();return{c(){e=o("div"),l=o("div"),s=o("div"),s.innerHTML='<span class="chat-avatar svelte-1nvcu37">ü§ñ</span> <div class="chat-info svelte-1nvcu37"><h3 class="svelte-1nvcu37">PINPOINT Assistant</h3> <span class="chat-status svelte-1nvcu37">Online</span></div>',a=m(),r=o("button"),r.textContent="√ó",c=m(),f=o("div");for(let L=0;L<F.length;L+=1)F[L].c();u=m(),I&&I.c(),d=m(),h=o("div"),p=o("input"),g=m(),v=o("button"),w=o("span"),w.textContent="üì§",i(s,"class","chat-title svelte-1nvcu37"),i(r,"class","chat-close svelte-1nvcu37"),i(l,"class","chat-header svelte-1nvcu37"),i(f,"class","chat-messages svelte-1nvcu37"),i(p,"type","text"),i(p,"placeholder","Type your message..."),p.disabled=t[3],i(p,"class","svelte-1nvcu37"),i(w,"class","send-icon svelte-1nvcu37"),i(v,"class","send-btn svelte-1nvcu37"),v.disabled=y=t[3]||!t[2].trim(),i(h,"class","chat-input svelte-1nvcu37"),i(e,"class","chat-window svelte-1nvcu37")},m(L,U){O(L,e,U),n(e,l),n(l,s),n(l,a),n(l,r),n(e,c),n(e,f);for(let A=0;A<F.length;A+=1)F[A]&&F[A].m(f,null);n(f,u),I&&I.m(f,null),t[8](f),n(e,d),n(e,h),n(h,p),se(p,t[2]),n(h,g),n(h,v),n(v,w),k||(N=[J(r,"click",t[5]),J(p,"input",t[9]),J(p,"keypress",t[7]),J(v,"click",t[6])],k=!0)},p(L,U){if(U&2){T=fe(L[1]);let A;for(A=0;A<T.length;A+=1){const j=Gt(L,T,A);F[A]?F[A].p(j,U):(F[A]=Kt(j),F[A].c(),F[A].m(f,u))}for(;A<F.length;A+=1)F[A].d(1);F.length=T.length}L[3]?I||(I=$t(),I.c(),I.m(f,null)):I&&(I.d(1),I=null),U&8&&(p.disabled=L[3]),U&4&&p.value!==L[2]&&se(p,L[2]),U&12&&y!==(y=L[3]||!L[2].trim())&&(v.disabled=y)},d(L){L&&H(e),Ae(F,L),I&&I.d(),t[8](null),k=!1,we(N)}}}function Kt(t){let e,l,s,a=t[10].text+"",r,c,f,u=Qt(t[10].timestamp)+"",d,h;return{c(){e=o("div"),l=o("div"),s=o("div"),r=E(a),c=m(),f=o("div"),d=E(u),i(s,"class","message-text svelte-1nvcu37"),i(f,"class","message-time svelte-1nvcu37"),i(l,"class","message-content svelte-1nvcu37"),i(e,"class",h="message "+t[10].sender+" svelte-1nvcu37")},m(p,g){O(p,e,g),n(e,l),n(l,s),n(s,r),n(l,c),n(l,f),n(f,d)},p(p,g){g&2&&a!==(a=p[10].text+"")&&$(r,a),g&2&&u!==(u=Qt(p[10].timestamp)+"")&&$(d,u),g&2&&h!==(h="message "+p[10].sender+" svelte-1nvcu37")&&i(e,"class",h)},d(p){p&&H(e)}}}function $t(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="message-content svelte-1nvcu37"><div class="typing-indicator svelte-1nvcu37"><span class="svelte-1nvcu37"></span> <span class="svelte-1nvcu37"></span> <span class="svelte-1nvcu37"></span></div></div>',i(e,"class","message ai svelte-1nvcu37")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function jn(t){let e,l,s,a,r,c,f,u,d,h=!t[0]&&Yt(),p=t[0]&&Jt(t);return{c(){e=o("div"),l=o("button"),s=o("span"),s.textContent="üí¨",a=m(),r=o("span"),r.textContent="AI Assistant",c=m(),h&&h.c(),f=m(),p&&p.c(),i(s,"class","chat-icon svelte-1nvcu37"),i(r,"class","chat-text"),i(l,"class","chat-toggle svelte-1nvcu37"),Se(l,"open",t[0]),i(e,"class","chat-widget svelte-1nvcu37")},m(g,v){O(g,e,v),n(e,l),n(l,s),n(l,a),n(l,r),n(l,c),h&&h.m(l,null),n(e,f),p&&p.m(e,null),u||(d=J(l,"click",t[5]),u=!0)},p(g,[v]){g[0]?h&&(h.d(1),h=null):h||(h=Yt(),h.c(),h.m(l,null)),v&1&&Se(l,"open",g[0]),g[0]?p?p.p(g,v):(p=Jt(g),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:te,o:te,d(g){g&&H(e),h&&h.d(),p&&p.d(),u=!1,d()}}}function Fn(t){const e=t.toLowerCase();if(e.includes("bucket list")||e.includes("add")||e.includes("destination"))return"To add items to your bucket list, go to the Bucket List page and click 'Add New Item'. You can categorize destinations by Beaches, Cities, Mountains, Adventure, or Romantic experiences. Set priority levels to help organize your travel goals!";if(e.includes("complete")||e.includes("finished")||e.includes("done"))return"To mark a trip as complete, hover over the item's image and click the circular button. Completed trips automatically move to your My Trips page where you can see all your travel achievements!";if(e.includes("search")||e.includes("filter")||e.includes("find"))return"Use the search bar on the Bucket List page to find items by title or description. You can also click category filters (Beaches, Cities, etc.) to narrow down your list by interest.";if(e.includes("profile")||e.includes("account")||e.includes("settings"))return"Visit the Profile page to update your information, add a profile picture, and customize your preferences. This helps personalize your PINPOINT experience!";if(e.includes("travel")||e.includes("trip")||e.includes("vacation"))return"PINPOINT is perfect for planning your travel adventures! Start by exploring destinations on the Home page, add them to your bucket list, and track your completed trips. What kind of travel experience are you looking for?";if(e.includes("help")||e.includes("how")||e.includes("what"))return"I'm here to help! You can ask me about using PINPOINT features, travel planning tips, or general questions. Try asking about bucket lists, completed trips, or how to organize your travel goals.";const l=["That's a great question! PINPOINT helps you organize and track your travel dreams. You can create bucket lists, mark trips as complete, and see your travel statistics. What would you like to know more about?","I'd be happy to help you with that! PINPOINT offers features like bucket list management, trip tracking, and travel organization. Feel free to ask me about any specific feature you'd like to learn about.","Thanks for your question! PINPOINT is designed to make travel planning fun and organized. You can explore destinations, build your bucket list, and celebrate completed adventures. How can I assist you further?"];return l[Math.floor(Math.random()*l.length)]}function Qt(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function En(t,e,l){let s=!1,a=[],r="",c=!1,f;He(()=>{l(1,a=[{id:1,text:"Hi! I'm your PINPOINT travel assistant. I can help you with questions about using the website, travel planning tips, or general travel advice. How can I help you today?",sender:"ai",timestamp:new Date}])});function u(){l(0,s=!s)}async function d(){if(!r.trim()||c)return;const v={id:Date.now(),text:r,sender:"user",timestamp:new Date};l(1,a=[...a,v]),l(2,r=""),l(3,c=!0),setTimeout(()=>{const w=Fn(v.text),y={id:Date.now()+1,text:w,sender:"ai",timestamp:new Date};l(1,a=[...a,y]),l(3,c=!1),setTimeout(()=>{f&&l(4,f.scrollTop=f.scrollHeight,f)},100)},1e3)}function h(v){v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d())}function p(v){it[v?"unshift":"push"](()=>{f=v,l(4,f)})}function g(){r=this.value,l(2,r)}return[s,a,r,c,f,u,d,h,p,g]}class Bn extends Fe{constructor(e){super(),je(this,e,En,jn,Ie,{})}}function Xt(t,e,l){const s=t.slice();return s[6]=e[l],s[8]=l,s}function Zt(t,e,l){const s=t.slice();s[9]=e[l],s[12]=l;const a=`${s[8]}-${s[12]}`;return s[10]=a,s}function xt(t,e,l){const s=t.slice();return s[13]=e[l],s}function el(t){let e,l,s,a,r,c,f,u;return{c(){e=o("div"),l=o("div"),l.textContent=`${t[13].icon}`,s=m(),a=o("div"),r=o("h3"),r.textContent=`${t[13].title}`,c=m(),f=o("p"),f.textContent=`${t[13].description}`,u=m(),i(l,"class","step-icon svelte-10dnoj4"),i(r,"class","svelte-10dnoj4"),i(f,"class","svelte-10dnoj4"),i(a,"class","step-content svelte-10dnoj4"),i(e,"class","step-item svelte-10dnoj4")},m(d,h){O(d,e,h),n(e,l),n(e,s),n(e,a),n(a,r),n(a,c),n(a,f),n(e,u)},p:te,d(d){d&&H(e)}}}function tl(t){let e,l;return{c(){e=o("div"),l=o("p"),l.textContent=`${t[9].a}`,i(l,"class","svelte-10dnoj4"),i(e,"class","answer svelte-10dnoj4")},m(s,a){O(s,e,a),n(e,l)},p:te,d(s){s&&H(e)}}}function ll(t){let e,l,s,a,r,c=t[0]===t[10]?"‚àí":"+",f,u,d,h,p,g;function v(){return t[4](t[8],t[12])}let w=t[0]===t[10]&&tl(t);return{c(){e=o("div"),l=o("button"),s=o("span"),s.textContent=`${t[9].q}`,a=m(),r=o("span"),f=E(c),d=m(),w&&w.c(),h=m(),i(s,"class","question-text svelte-10dnoj4"),i(r,"class","question-icon svelte-10dnoj4"),i(l,"class",u="question-btn "+(t[0]===t[10]?"open":"")+" svelte-10dnoj4"),i(e,"class","question-item svelte-10dnoj4")},m(y,k){O(y,e,k),n(e,l),n(l,s),n(l,a),n(l,r),n(r,f),n(e,d),w&&w.m(e,null),n(e,h),p||(g=J(l,"click",v),p=!0)},p(y,k){t=y,k&1&&c!==(c=t[0]===t[10]?"‚àí":"+")&&$(f,c),k&1&&u!==(u="question-btn "+(t[0]===t[10]?"open":"")+" svelte-10dnoj4")&&i(l,"class",u),t[0]===t[10]?w?w.p(t,k):(w=tl(t),w.c(),w.m(e,h)):w&&(w.d(1),w=null)},d(y){y&&H(e),w&&w.d(),p=!1,g()}}}function nl(t){let e,l,s,a,r=t[6].category+"",c,f,u,d,h=fe(t[6].questions),p=[];for(let g=0;g<h.length;g+=1)p[g]=ll(Zt(t,h,g));return{c(){e=o("div"),l=o("h3"),s=o("span"),s.textContent=`${t[6].category==="Getting Started"?"üöÄ":t[6].category==="Using the Bucket List"?"üìù":t[6].category==="My Trips"?"‚úàÔ∏è":"‚öôÔ∏è"}`,a=m(),c=E(r),f=m(),u=o("div");for(let g=0;g<p.length;g+=1)p[g].c();d=m(),i(s,"class","category-emoji svelte-10dnoj4"),i(l,"class","category-title svelte-10dnoj4"),i(u,"class","questions svelte-10dnoj4"),i(e,"class","faq-category svelte-10dnoj4")},m(g,v){O(g,e,v),n(e,l),n(l,s),n(l,a),n(l,c),n(e,f),n(e,u);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(u,null);n(e,d)},p(g,v){if(v&11){h=fe(g[6].questions);let w;for(w=0;w<h.length;w+=1){const y=Zt(g,h,w);p[w]?p[w].p(y,v):(p[w]=ll(y),p[w].c(),p[w].m(u,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=h.length}},d(g){g&&H(e),Ae(p,g)}}}function qn(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A=fe(t[2]),j=[];for(let b=0;b<A.length;b+=1)j[b]=el(xt(t,A,b));let B=fe(t[1]),P=[];for(let b=0;b<B.length;b+=1)P[b]=nl(Xt(t,B,b));return L=new Bn({}),{c(){e=o("main"),l=o("section"),l.innerHTML='<div class="container"><div class="hero-content svelte-10dnoj4"><h1 class="svelte-10dnoj4">Help &amp; Support</h1> <p class="svelte-10dnoj4">Get answers to common questions and learn how to make the most of PINPOINT</p></div></div>',s=m(),a=o("section"),r=o("div"),c=o("h2"),c.textContent="How to Use PINPOINT",f=m(),u=o("p"),u.textContent="A simple guide to get started with your travel planning journey",d=m(),h=o("div");for(let b=0;b<j.length;b+=1)j[b].c();p=m(),g=o("section"),v=o("div"),w=o("h2"),w.textContent="Frequently Asked Questions",y=m(),k=o("p"),k.textContent="Find quick answers to the most common questions about using PINPOINT",N=m();for(let b=0;b<P.length;b+=1)P[b].c();T=m(),F=o("section"),F.innerHTML='<div class="container"><div class="help-content svelte-10dnoj4"><h2 class="svelte-10dnoj4">Still Need Help?</h2> <p class="svelte-10dnoj4">Can&#39;t find what you&#39;re looking for? We&#39;re here to help you make the most of your travel planning journey.</p> <div class="help-buttons svelte-10dnoj4"><button class="help-btn primary svelte-10dnoj4">Contact Support</button> <button class="help-btn secondary svelte-10dnoj4">View Tutorials</button></div></div></div>',I=m(),qe(L.$$.fragment),i(l,"class","hero svelte-10dnoj4"),i(c,"class","svelte-10dnoj4"),i(u,"class","how-to-intro svelte-10dnoj4"),i(h,"class","steps svelte-10dnoj4"),i(r,"class","container"),i(a,"class","how-to-use svelte-10dnoj4"),i(w,"class","svelte-10dnoj4"),i(k,"class","faq-intro svelte-10dnoj4"),i(v,"class","container"),i(g,"class","faq-section svelte-10dnoj4"),i(F,"class","additional-help svelte-10dnoj4"),i(e,"class","help-page svelte-10dnoj4")},m(b,C){O(b,e,C),n(e,l),n(e,s),n(e,a),n(a,r),n(r,c),n(r,f),n(r,u),n(r,d),n(r,h);for(let _=0;_<j.length;_+=1)j[_]&&j[_].m(h,null);n(e,p),n(e,g),n(g,v),n(v,w),n(v,y),n(v,k),n(v,N);for(let _=0;_<P.length;_+=1)P[_]&&P[_].m(v,null);n(e,T),n(e,F),O(b,I,C),Me(L,b,C),U=!0},p(b,[C]){if(C&4){A=fe(b[2]);let _;for(_=0;_<A.length;_+=1){const M=xt(b,A,_);j[_]?j[_].p(M,C):(j[_]=el(M),j[_].c(),j[_].m(h,null))}for(;_<j.length;_+=1)j[_].d(1);j.length=A.length}if(C&11){B=fe(b[1]);let _;for(_=0;_<B.length;_+=1){const M=Xt(b,B,_);P[_]?P[_].p(M,C):(P[_]=nl(M),P[_].c(),P[_].m(v,null))}for(;_<P.length;_+=1)P[_].d(1);P.length=B.length}},i(b){U||(Pe(L.$$.fragment,b),U=!0)},o(b){Ne(L.$$.fragment,b),U=!1},d(b){b&&(H(e),H(I)),Ae(j,b),Ae(P,b),De(L,b)}}}function Hn(t,e,l){const s=[{category:"Getting Started",questions:[{q:"How do I create a bucket list item?",a:"Navigate to the Bucket List page and click the 'Add New Item' button. Fill in the details like destination, description, category, and priority, then save your item to start planning your adventure!"},{q:"What categories are available?",a:"You can categorize your bucket list items into: Beaches, Cities, Mountains, Adventure, and Romantic experiences. This helps you organize your travel goals."},{q:"How do I set priority levels?",a:"When creating or editing a bucket list item, you can set it as High, Medium, or Low priority. This helps you focus on what matters most to you."}]},{category:"Using the Bucket List",questions:[{q:"How do I mark an item as completed?",a:"Click on the circular button that appears when you hover over an item's image. You can also update items to add a completion date and move them to your completed trips."},{q:"Can I search and filter my bucket list?",a:"Yes! Use the search bar to find items by title or description, and click category filters (Beaches, Cities, etc.) to narrow down your list by interest."},{q:"How do I sort my bucket list?",a:"Use the sort dropdown to organize by Date Added, Priority, Title, or Category. This makes it easy to find what you're looking for."}]},{category:"My Trips",questions:[{q:"How do items appear in My Trips?",a:"Completed items automatically appear in your My Trips page, sorted by completion date so you can see your most recent adventures first."},{q:"Can I see statistics about my travels?",a:"Yes! The My Trips page shows your total trips completed and breaks them down by category so you can see your travel patterns."}]},{category:"Account & Settings",questions:[{q:"How do I update my profile?",a:"Go to the Profile page to add information about yourself, upload a profile picture, and update your preferences."},{q:"Can I export my bucket list?",a:"This feature is coming soon! Soon you'll be able to download your bucket list as a PDF or share it with friends."}]}],a=[{icon:"1Ô∏è‚É£",title:"Explore Destinations",description:"Visit the Home page to browse featured destinations and get inspired for your next adventure. Click on any destination to view details and add it to your bucket list."},{icon:"2Ô∏è‚É£",title:"Build Your Bucket List",description:"Go to the Bucket List page to see all your travel dreams. Use the search bar and category filters to organize by Beaches, Cities, Mountains, Adventure, or Romantic destinations."},{icon:"3Ô∏è‚É£",title:"Mark as Complete",description:"When you complete a trip, hover over the item image and click the circular button to mark it as complete. It will automatically move to your My Trips page."},{icon:"4Ô∏è‚É£",title:"View Your Adventures",description:"Check the My Trips page to see all your completed journeys, sorted by date with statistics showing your travel patterns and favorite categories."}];let r=null;function c(u,d){const h=`${u}-${d}`;l(0,r=r===h?null:h)}return[r,s,a,c,(u,d)=>c(u,d)]}class On extends Fe{constructor(e){super(),je(this,e,Hn,qn,Ie,{})}}function sl(t){let e,l;return{c(){e=o("div"),l=E(t[3]),i(e,"class","alert alert-success svelte-1r3guas")},m(s,a){O(s,e,a),n(e,l)},p(s,a){a&8&&$(l,s[3])},d(s){s&&H(e)}}}function il(t){let e,l=t[1].general+"",s;return{c(){e=o("div"),s=E(l),i(e,"class","alert alert-error svelte-1r3guas")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].general+"")&&$(s,l)},d(a){a&&H(e)}}}function al(t){let e,l=t[1].username+"",s;return{c(){e=o("span"),s=E(l),i(e,"class","error-message svelte-1r3guas")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].username+"")&&$(s,l)},d(a){a&&H(e)}}}function ol(t){let e,l=t[1].password+"",s;return{c(){e=o("span"),s=E(l),i(e,"class","error-message svelte-1r3guas")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].password+"")&&$(s,l)},d(a){a&&H(e)}}}function Un(t){let e;return{c(){e=E("Sign In")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Rn(t){let e;return{c(){e=E("Signing In...")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function zn(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P=t[3]&&sl(t),b=t[1].general&&il(t),C=t[1].username&&al(t),_=t[1].password&&ol(t);function M(D,S){return D[2]?Rn:Un}let Y=M(t),V=Y(t);return{c(){e=o("main"),l=o("div"),s=o("div"),a=o("div"),a.innerHTML='<h1 class="svelte-1r3guas">Welcome Back</h1> <p class="svelte-1r3guas">Sign in to your PINPOINT account</p>',r=m(),P&&P.c(),c=m(),b&&b.c(),f=m(),u=o("form"),d=o("div"),h=o("label"),h.textContent="Username",p=m(),g=o("input"),v=m(),C&&C.c(),w=m(),y=o("div"),k=o("label"),k.textContent="Password",N=m(),T=o("input"),F=m(),_&&_.c(),I=m(),L=o("button"),V.c(),U=m(),A=o("div"),A.innerHTML='<p class="svelte-1r3guas">Don&#39;t have an account? <a href="#register" class="svelte-1r3guas">Sign up</a></p>',i(a,"class","auth-header svelte-1r3guas"),i(h,"for","username"),i(h,"class","svelte-1r3guas"),i(g,"id","username"),i(g,"type","text"),i(g,"placeholder","Enter your username"),g.disabled=t[2],i(g,"class","svelte-1r3guas"),Se(g,"error",t[1].username),i(d,"class","form-group svelte-1r3guas"),i(k,"for","password"),i(k,"class","svelte-1r3guas"),i(T,"id","password"),i(T,"type","password"),i(T,"placeholder","Enter your password"),T.disabled=t[2],i(T,"class","svelte-1r3guas"),Se(T,"error",t[1].password),i(y,"class","form-group svelte-1r3guas"),i(L,"type","submit"),i(L,"class","btn btn-primary svelte-1r3guas"),L.disabled=t[2],i(u,"class","auth-form svelte-1r3guas"),i(A,"class","auth-footer svelte-1r3guas"),i(s,"class","auth-card svelte-1r3guas"),i(l,"class","auth-container svelte-1r3guas"),i(e,"class","auth-page svelte-1r3guas")},m(D,S){O(D,e,S),n(e,l),n(l,s),n(s,a),n(s,r),P&&P.m(s,null),n(s,c),b&&b.m(s,null),n(s,f),n(s,u),n(u,d),n(d,h),n(d,p),n(d,g),se(g,t[0].username),n(d,v),C&&C.m(d,null),n(u,w),n(u,y),n(y,k),n(y,N),n(y,T),se(T,t[0].password),n(y,F),_&&_.m(y,null),n(u,I),n(u,L),V.m(L,null),n(s,U),n(s,A),j||(B=[J(g,"input",t[6]),J(g,"keypress",t[5]),J(T,"input",t[7]),J(T,"keypress",t[5]),J(u,"submit",Xe(t[4]))],j=!0)},p(D,[S]){D[3]?P?P.p(D,S):(P=sl(D),P.c(),P.m(s,c)):P&&(P.d(1),P=null),D[1].general?b?b.p(D,S):(b=il(D),b.c(),b.m(s,f)):b&&(b.d(1),b=null),S&4&&(g.disabled=D[2]),S&1&&g.value!==D[0].username&&se(g,D[0].username),S&2&&Se(g,"error",D[1].username),D[1].username?C?C.p(D,S):(C=al(D),C.c(),C.m(d,null)):C&&(C.d(1),C=null),S&4&&(T.disabled=D[2]),S&1&&T.value!==D[0].password&&se(T,D[0].password),S&2&&Se(T,"error",D[1].password),D[1].password?_?_.p(D,S):(_=ol(D),_.c(),_.m(y,null)):_&&(_.d(1),_=null),Y!==(Y=M(D))&&(V.d(1),V=Y(D),V&&(V.c(),V.m(L,null))),S&4&&(L.disabled=D[2])},i:te,o:te,d(D){D&&H(e),P&&P.d(),b&&b.d(),C&&C.d(),_&&_.d(),V.d(),j=!1,we(B)}}}function Vn(t,e,l){let s={username:"",password:""},a={},r=!1,c="";async function f(){if(l(1,a={}),l(3,c=""),l(2,r=!0),!s.username){l(1,a.username="Username is required",a),l(2,r=!1);return}if(!s.password){l(1,a.password="Password is required",a),l(2,r=!1);return}try{console.log("Login: Attempting login for:",s.username);const p=await zl(s.username,s.password);if(console.log("Login: Login response:",p),p.success){console.log("Login: Login successful, session_key:",p.session_key),l(3,c="Login successful! Redirecting...");const g=document.cookie;console.log("Login: Current cookies:",g);const v=g.includes("sessionid");console.log("Login: Has session cookie:",v),await new Promise(k=>setTimeout(k,500));const w=document.cookie;console.log("Login: Cookies after delay:",w);const y=w.includes("sessionid");console.log("Login: Has session cookie after delay:",y);try{const k=await Ue();console.log("Login: Auth verification:",k),console.log("Login: Has cookie in check:",k.has_cookie),console.log("Login: Cookies received by backend:",k.cookies_received),k.is_authenticated?(typeof window<"u"&&(localStorage.setItem("auth_update",Date.now().toString()),window.dispatchEvent(new Event("auth-state-changed"))),setTimeout(()=>{window.location.hash="#profile"},500)):(console.error("Login: Session not verified after login!"),console.error("Login: This usually means the cookie was not set or is being blocked"),l(1,a.general="Login successful but session not created. Please check browser settings or try again.",a),l(2,r=!1))}catch(k){console.error("Login: Auth verification failed:",k),l(1,a.general="Login successful but could not verify session. Please refresh the page.",a),l(2,r=!1)}}else l(1,a.general=p.error||"Login failed. Please try again.",a)}catch(p){console.error("Login error:",p),l(1,a.general=p.message||"Invalid username or password. Please try again.",a)}finally{l(2,r=!1)}}function u(p){p.key==="Enter"&&f()}He(async()=>{try{(await Ue()).is_authenticated&&(window.location.hash="#home",window.location.reload())}catch{}});function d(){s.username=this.value,l(0,s)}function h(){s.password=this.value,l(0,s)}return[s,a,r,c,f,u,d,h]}class Wn extends Fe{constructor(e){super(),je(this,e,Vn,zn,Ie,{})}}function rl(t){let e,l;return{c(){e=o("div"),l=E(t[3]),i(e,"class","alert alert-success svelte-dfufvr")},m(s,a){O(s,e,a),n(e,l)},p(s,a){a&8&&$(l,s[3])},d(s){s&&H(e)}}}function cl(t){let e,l=t[1].general+"",s;return{c(){e=o("div"),s=E(l),i(e,"class","alert alert-error svelte-dfufvr")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].general+"")&&$(s,l)},d(a){a&&H(e)}}}function ul(t){let e,l=t[1].username+"",s;return{c(){e=o("span"),s=E(l),i(e,"class","error-message svelte-dfufvr")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].username+"")&&$(s,l)},d(a){a&&H(e)}}}function dl(t){let e,l=t[1].password+"",s;return{c(){e=o("span"),s=E(l),i(e,"class","error-message svelte-dfufvr")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].password+"")&&$(s,l)},d(a){a&&H(e)}}}function fl(t){let e,l=t[1].password_confirm+"",s;return{c(){e=o("span"),s=E(l),i(e,"class","error-message svelte-dfufvr")},m(a,r){O(a,e,r),n(e,s)},p(a,r){r&2&&l!==(l=a[1].password_confirm+"")&&$(s,l)},d(a){a&&H(e)}}}function Gn(t){let e;return{c(){e=E("Create Account")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Yn(t){let e;return{c(){e=E("Creating Account...")},m(l,s){O(l,e,s)},d(l){l&&H(e)}}}function Jn(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_,M,Y,V=t[3]&&rl(t),D=t[1].general&&cl(t),S=t[1].username&&ul(t),z=t[1].password&&dl(t),R=t[1].password_confirm&&fl(t);function X(q,W){return q[2]?Yn:Gn}let ce=X(t),ie=ce(t);return{c(){e=o("main"),l=o("div"),s=o("div"),a=o("div"),a.innerHTML='<h1 class="svelte-dfufvr">Create Account</h1> <p class="svelte-dfufvr">Join PINPOINT and start planning your dream trips</p>',r=m(),V&&V.c(),c=m(),D&&D.c(),f=m(),u=o("form"),d=o("div"),h=o("label"),h.textContent="Username *",p=m(),g=o("input"),v=m(),S&&S.c(),w=m(),y=o("div"),k=o("label"),k.textContent="Password *",N=m(),T=o("input"),F=m(),z&&z.c(),I=m(),L=o("div"),U=o("label"),U.textContent="Confirm Password *",A=m(),j=o("input"),B=m(),R&&R.c(),P=m(),b=o("button"),ie.c(),C=m(),_=o("div"),_.innerHTML='<p class="svelte-dfufvr">Already have an account? <a href="#login" class="svelte-dfufvr">Sign in</a></p>',i(a,"class","auth-header svelte-dfufvr"),i(h,"for","username"),i(h,"class","svelte-dfufvr"),i(g,"id","username"),i(g,"type","text"),i(g,"placeholder","Choose a username"),g.disabled=t[2],i(g,"class","svelte-dfufvr"),Se(g,"error",t[1].username),i(d,"class","form-group svelte-dfufvr"),i(k,"for","password"),i(k,"class","svelte-dfufvr"),i(T,"id","password"),i(T,"type","password"),i(T,"placeholder","At least 8 characters"),T.disabled=t[2],i(T,"class","svelte-dfufvr"),Se(T,"error",t[1].password),i(y,"class","form-group svelte-dfufvr"),i(U,"for","password_confirm"),i(U,"class","svelte-dfufvr"),i(j,"id","password_confirm"),i(j,"type","password"),i(j,"placeholder","Confirm your password"),j.disabled=t[2],i(j,"class","svelte-dfufvr"),Se(j,"error",t[1].password_confirm),i(L,"class","form-group svelte-dfufvr"),i(b,"type","submit"),i(b,"class","btn btn-primary svelte-dfufvr"),b.disabled=t[2],i(u,"class","auth-form svelte-dfufvr"),i(_,"class","auth-footer svelte-dfufvr"),i(s,"class","auth-card svelte-dfufvr"),i(l,"class","auth-container svelte-dfufvr"),i(e,"class","auth-page svelte-dfufvr")},m(q,W){O(q,e,W),n(e,l),n(l,s),n(s,a),n(s,r),V&&V.m(s,null),n(s,c),D&&D.m(s,null),n(s,f),n(s,u),n(u,d),n(d,h),n(d,p),n(d,g),se(g,t[0].username),n(d,v),S&&S.m(d,null),n(u,w),n(u,y),n(y,k),n(y,N),n(y,T),se(T,t[0].password),n(y,F),z&&z.m(y,null),n(u,I),n(u,L),n(L,U),n(L,A),n(L,j),se(j,t[0].password_confirm),n(L,B),R&&R.m(L,null),n(u,P),n(u,b),ie.m(b,null),n(s,C),n(s,_),M||(Y=[J(g,"input",t[6]),J(g,"keypress",t[5]),J(T,"input",t[7]),J(T,"keypress",t[5]),J(j,"input",t[8]),J(j,"keypress",t[5]),J(u,"submit",Xe(t[4]))],M=!0)},p(q,[W]){q[3]?V?V.p(q,W):(V=rl(q),V.c(),V.m(s,c)):V&&(V.d(1),V=null),q[1].general?D?D.p(q,W):(D=cl(q),D.c(),D.m(s,f)):D&&(D.d(1),D=null),W&4&&(g.disabled=q[2]),W&1&&g.value!==q[0].username&&se(g,q[0].username),W&2&&Se(g,"error",q[1].username),q[1].username?S?S.p(q,W):(S=ul(q),S.c(),S.m(d,null)):S&&(S.d(1),S=null),W&4&&(T.disabled=q[2]),W&1&&T.value!==q[0].password&&se(T,q[0].password),W&2&&Se(T,"error",q[1].password),q[1].password?z?z.p(q,W):(z=dl(q),z.c(),z.m(y,null)):z&&(z.d(1),z=null),W&4&&(j.disabled=q[2]),W&1&&j.value!==q[0].password_confirm&&se(j,q[0].password_confirm),W&2&&Se(j,"error",q[1].password_confirm),q[1].password_confirm?R?R.p(q,W):(R=fl(q),R.c(),R.m(L,null)):R&&(R.d(1),R=null),ce!==(ce=X(q))&&(ie.d(1),ie=ce(q),ie&&(ie.c(),ie.m(b,null))),W&4&&(b.disabled=q[2])},i:te,o:te,d(q){q&&H(e),V&&V.d(),D&&D.d(),S&&S.d(),z&&z.d(),R&&R.d(),ie.d(),M=!1,we(Y)}}}function Kn(t,e,l){let s={username:"",password:"",password_confirm:""},a={},r=!1,c="";async function f(){if(l(1,a={}),l(3,c=""),l(2,r=!0),(!s.username||s.username.length<3)&&l(1,a.username="Username must be at least 3 characters",a),(!s.password||s.password.length<8)&&l(1,a.password="Password must be at least 8 characters",a),s.password!==s.password_confirm&&l(1,a.password_confirm="Passwords do not match",a),Object.keys(a).length>0){l(2,r=!1);return}try{const g=await Rl(s.username,s.password);if(g.success){l(3,c="Registration successful! Redirecting..."),await new Promise(v=>setTimeout(v,300));try{const v=await Ue();console.log("Register: Auth verification:",v),v.is_authenticated?(typeof window<"u"&&(localStorage.setItem("auth_update",Date.now().toString()),window.dispatchEvent(new Event("auth-state-changed"))),setTimeout(()=>{window.location.hash="#profile"},500)):(console.warn("Register: Session not verified, reloading page"),setTimeout(()=>{window.location.hash="#profile",window.location.reload()},1e3))}catch(v){console.error("Register: Auth verification failed:",v),setTimeout(()=>{window.location.hash="#profile",window.location.reload()},1e3)}}else l(1,a.general=g.error||"Registration failed. Please try again.",a)}catch(g){console.error("Registration error:",g),l(1,a.general=g.message||"Registration failed. Please try again.",a)}finally{l(2,r=!1)}}function u(g){g.key==="Enter"&&f()}He(async()=>{try{(await Ue()).is_authenticated&&(window.location.hash="#home",window.location.reload())}catch{}});function d(){s.username=this.value,l(0,s)}function h(){s.password=this.value,l(0,s)}function p(){s.password_confirm=this.value,l(0,s)}return[s,a,r,c,f,u,d,h,p]}class $n extends Fe{constructor(e){super(),je(this,e,Kn,Jn,Ie,{})}}function pl(t){let e,l,s,a,r,c,f,u,d,h,p,g,v;return{c(){e=o("a"),l=o("span"),l.textContent="üîê",s=m(),a=o("span"),a.textContent="Login",c=m(),f=o("a"),u=o("span"),u.textContent="‚úèÔ∏è",d=m(),h=o("span"),h.textContent="Sign Up",i(l,"class","nav-icon"),i(a,"class","nav-text"),i(e,"class",r="link "+(t[0]==="login"?"active":"")),i(e,"href","#login"),i(u,"class","nav-icon"),i(h,"class","nav-text"),i(f,"class",p="link "+(t[0]==="register"?"active":"")),i(f,"href","#register")},m(w,y){O(w,e,y),n(e,l),n(e,s),n(e,a),O(w,c,y),O(w,f,y),n(f,u),n(f,d),n(f,h),g||(v=[J(e,"click",t[5]),J(f,"click",t[5])],g=!0)},p(w,y){y&1&&r!==(r="link "+(w[0]==="login"?"active":""))&&i(e,"class",r),y&1&&p!==(p="link "+(w[0]==="register"?"active":""))&&i(f,"class",p)},d(w){w&&(H(e),H(c),H(f)),g=!1,we(v)}}}function Qn(t){let e,l;return e=new $n({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function Xn(t){let e,l;return e=new Wn({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function Zn(t){let e,l;return e=new On({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function xn(t){let e,l;return e=new Dn({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function es(t){let e,l;return e=new An({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function ts(t){let e,l;return e=new mn({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function ls(t){let e,l;return e=new on({}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p:te,i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function ns(t){let e,l;return e=new Ol({props:{query:t[3],search:t[6]}}),{c(){qe(e.$$.fragment)},m(s,a){Me(e,s,a),l=!0},p(s,a){const r={};a&8&&(r.query=s[3]),e.$set(r)},i(s){l||(Pe(e.$$.fragment,s),l=!0)},o(s){Ne(e.$$.fragment,s),l=!1},d(s){De(e,s)}}}function ss(t){let e;return{c(){e=o("main"),e.innerHTML="<p>Loading...</p>",i(e,"class","container"),$e(e,"text-align","center"),$e(e,"padding","4rem")},m(l,s){O(l,e,s)},p:te,i:te,o:te,d(l){l&&H(e)}}}function is(t){let e,l,s,a,r,c,f,u,d,h,p,g,v,w,y,k,N,T,F,I,L,U,A,j,B,P,b,C,_,M,Y,V,D,S,z,R,X,ce,ie,q,W,le,G,ee,de,he,ve,_e,be,me=!t[1]&&pl(t);const ke=[ss,ns,ls,ts,es,xn,Zn,Xn,Qn],x=[];function ye(Q,ue){return Q[2]?0:Q[0]==="home"?1:Q[0]==="bucket"?2:Q[0]==="trips"?3:Q[0]==="profile"?4:Q[0]==="destination"?5:Q[0]==="help"?6:Q[0]==="login"?7:Q[0]==="register"?8:-1}return~(ee=ye(t))&&(de=x[ee]=ke[ee](t)),{c(){e=o("header"),l=o("div"),s=o("nav"),a=o("a"),a.textContent="PINPOINT",r=m(),c=o("button"),f=E("‚ò∞"),u=m(),d=o("div"),h=o("a"),p=o("span"),p.textContent="üè†",g=m(),v=o("span"),v.textContent="Home",y=m(),k=o("a"),N=o("span"),N.textContent="üìù",T=m(),F=o("span"),F.textContent="Bucket List",L=m(),U=o("a"),A=o("span"),A.textContent="‚úàÔ∏è",j=m(),B=o("span"),B.textContent="My Trips",b=m(),C=o("a"),_=o("span"),_.textContent="üë§",M=m(),Y=o("span"),Y.textContent="Profile",D=m(),S=o("a"),z=o("span"),z.textContent="‚ùì",R=m(),X=o("span"),X.textContent="Help",ie=m(),me&&me.c(),W=m(),le=o("div"),G=m(),de&&de.c(),he=Ye(),i(a,"class","brand"),i(a,"href","#home"),i(c,"class","menu-btn"),i(c,"aria-label","Menu"),i(c,"aria-expanded",t[4]),i(p,"class","nav-icon"),i(v,"class","nav-text"),i(h,"class",w="link "+(t[0]==="home"?"active":"")),i(h,"href","#home"),i(N,"class","nav-icon"),i(F,"class","nav-text"),i(k,"class",I="link "+(t[0]==="bucket"?"active":"")),i(k,"href","#bucket"),i(A,"class","nav-icon"),i(B,"class","nav-text"),i(U,"class",P="link "+(t[0]==="trips"?"active":"")),i(U,"href","#trips"),i(_,"class","nav-icon"),i(Y,"class","nav-text"),i(C,"class",V="link "+(t[0]==="profile"?"active":"")),i(C,"href","#profile"),i(z,"class","nav-icon"),i(X,"class","nav-text"),i(S,"class",ce="link "+(t[0]==="help"?"active":"")),i(S,"href","#help"),i(d,"class",q="links "+(t[4]?"open":"")),i(s,"class","nav"),i(l,"class","container"),i(le,"class","accent"),i(e,"class","topbar")},m(Q,ue){O(Q,e,ue),n(e,l),n(l,s),n(s,a),n(s,r),n(s,c),n(c,f),n(s,u),n(s,d),n(d,h),n(h,p),n(h,g),n(h,v),n(d,y),n(d,k),n(k,N),n(k,T),n(k,F),n(d,L),n(d,U),n(U,A),n(U,j),n(U,B),n(d,b),n(d,C),n(C,_),n(C,M),n(C,Y),n(d,D),n(d,S),n(S,z),n(S,R),n(S,X),n(d,ie),me&&me.m(d,null),n(e,W),n(e,le),O(Q,G,ue),~ee&&x[ee].m(Q,ue),O(Q,he,ue),ve=!0,_e||(be=[J(a,"click",t[5]),J(c,"click",t[8]),J(h,"click",t[5]),J(k,"click",t[5]),J(U,"click",t[5]),J(C,"click",t[5]),J(S,"click",t[5])],_e=!0)},p(Q,[ue]){(!ve||ue&16)&&i(c,"aria-expanded",Q[4]),(!ve||ue&1&&w!==(w="link "+(Q[0]==="home"?"active":"")))&&i(h,"class",w),(!ve||ue&1&&I!==(I="link "+(Q[0]==="bucket"?"active":"")))&&i(k,"class",I),(!ve||ue&1&&P!==(P="link "+(Q[0]==="trips"?"active":"")))&&i(U,"class",P),(!ve||ue&1&&V!==(V="link "+(Q[0]==="profile"?"active":"")))&&i(C,"class",V),(!ve||ue&1&&ce!==(ce="link "+(Q[0]==="help"?"active":"")))&&i(S,"class",ce),Q[1]?me&&(me.d(1),me=null):me?me.p(Q,ue):(me=pl(Q),me.c(),me.m(d,null)),(!ve||ue&16&&q!==(q="links "+(Q[4]?"open":"")))&&i(d,"class",q);let pe=ee;ee=ye(Q),ee===pe?~ee&&x[ee].p(Q,ue):(de&&(Nl(),Ne(x[pe],1,1,()=>{x[pe]=null}),Il()),~ee?(de=x[ee],de?de.p(Q,ue):(de=x[ee]=ke[ee](Q),de.c()),Pe(de,1),de.m(he.parentNode,he)):de=null)},i(Q){ve||(Pe(de),ve=!0)},o(Q){Ne(de),ve=!1},d(Q){Q&&(H(e),H(G),H(he)),me&&me.d(),~ee&&x[ee].d(Q),_e=!1,we(be)}}}function as(t,e,l){let s="",a="home",r=!1,c=!0,f=null,u=!1,d=!0;function h(){const k=(location.hash||"#home").replace("#","");let N="";k.startsWith("destination/")?N="destination":N=k||"home",l(0,a=N),l(4,r=!1),c&&typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"}),c=!0}function p(k){c=!0,h()}typeof window<"u"&&(h(),window.addEventListener("hashchange",k=>{var T;c=((T=performance.getEntriesByType("navigation")[0])==null?void 0:T.type)!=="back_forward",h()}),window.addEventListener("popstate",()=>{c=!1}));function g(){l(3,s)}async function v(){try{console.log("Checking auth status...");const k=await Ue();console.log("Auth check response:",k),l(1,u=k.is_authenticated||!1),k.is_authenticated?(f={username:k.username,id:k.id},console.log("User authenticated:",f)):(f=null,console.log("User not authenticated"))}catch(k){console.error("Auth check failed:",k),l(1,u=!1),f=null}finally{l(2,d=!1),console.log("Auth check complete. isAuthenticated:",u)}}let w="";He(()=>{if(v(),l(7,w=a),typeof window<"u"){const k=()=>{localStorage.getItem("auth_update")&&(localStorage.removeItem("auth_update"),v())};k(),window.addEventListener("storage",N=>{N.key==="auth_update"&&v()}),window.addEventListener("auth-state-changed",()=>{v()}),window.addEventListener("focus",()=>{v()}),setInterval(k,2e3)}});const y=()=>l(4,r=!r);return t.$$.update=()=>{t.$$.dirty&133&&a&&a!==w&&!d&&(l(7,w=a),(a==="login"||a==="register"||a==="profile")&&v()),t.$$.dirty&7&&a==="profile"&&!u&&!d&&v()},[a,u,d,s,r,p,g,w,y]}class os extends Fe{constructor(e){super(),je(this,e,as,is,Ie,{})}}new os({target:document.getElementById("app")});
